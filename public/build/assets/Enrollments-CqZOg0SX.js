import{N as ae,r as f,O as ie,l as I,d as de,c as ue,w as S,b as j,a as e,h as A,p as me,t as l,i as u,e as p,s as V,q as L,f as i,g,o as a,F as z,j as T,A as ce,n as ge,x as P,T as N,Q as O,y as M}from"./app-Dsa_kJaq.js";import{A as xe}from"./AdminLayout-DjlluW6p.js";import{_ as fe}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./XMarkIcon-Bxcfscut.js";import"./UserIcon-_Y_jyG0D.js";import"./UsersIcon-fZj5cEgl.js";import"./ChatBubbleLeftRightIcon-CCL_gYyy.js";import"./ChartBarIcon-DYLNiR2T.js";import"./CurrencyDollarIcon-DBAnfKhu.js";import"./EyeIcon-BTpSVuzY.js";const ve={class:"py-6"},pe={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},we={class:"md:flex md:items-center md:justify-between mb-6"},he={class:"flex-1 min-w-0"},ye={class:"flex items-center"},be={class:"mt-1 flex items-center text-sm text-gray-600"},ke={class:"truncate"},_e={class:"mt-4 md:mt-0 md:ml-4 flex space-x-3"},Ce={class:"grid grid-cols-1 md:grid-cols-5 gap-4 mb-6"},Se={class:"bg-white overflow-hidden shadow rounded-lg"},je={class:"p-5"},Me={class:"flex items-center"},Ee={class:"ml-5 w-0 flex-1"},Be={class:"text-lg font-medium text-gray-900"},$e={class:"bg-white overflow-hidden shadow rounded-lg"},Ve={class:"p-5"},Ae={class:"flex items-center"},ze={class:"ml-5 w-0 flex-1"},Te={class:"text-lg font-medium text-gray-900"},Ue={class:"bg-white overflow-hidden shadow rounded-lg"},De={class:"p-5"},Ie={class:"flex items-center"},Le={class:"ml-5 w-0 flex-1"},Pe={class:"text-lg font-medium text-gray-900"},Ne={class:"bg-white overflow-hidden shadow rounded-lg"},Oe={class:"p-5"},Fe={class:"flex items-center"},He={class:"ml-5 w-0 flex-1"},Re={class:"text-lg font-medium text-gray-900"},qe={class:"bg-white overflow-hidden shadow rounded-lg"},Ge={class:"p-5"},Je={class:"flex items-center"},Ke={class:"ml-5 w-0 flex-1"},Qe={class:"text-lg font-medium text-gray-900"},We={class:"bg-white shadow rounded-lg p-4 mb-6"},Xe={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},Ye={class:"bg-white shadow overflow-hidden sm:rounded-lg"},Ze={class:"overflow-x-auto"},et={class:"min-w-full divide-y divide-gray-200"},tt={class:"bg-white divide-y divide-gray-200"},st={class:"px-6 py-4 whitespace-nowrap"},ot={class:"flex items-center"},lt={class:"flex-shrink-0 h-10 w-10"},rt={class:"h-10 w-10 rounded-full bg-emerald-100 flex items-center justify-center"},nt={class:"text-emerald-800 font-medium text-sm"},at={class:"ml-4"},it={class:"text-sm font-medium text-gray-900"},dt={class:"text-sm text-gray-500"},ut={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},mt={class:"text-xs text-gray-400"},ct={class:"px-6 py-4 whitespace-nowrap"},gt={class:"flex items-center"},xt={class:"w-32 mr-3"},ft={class:"w-full bg-gray-200 rounded-full h-2"},vt={class:"text-sm font-medium text-gray-900"},pt={class:"px-6 py-4 whitespace-nowrap"},wt={key:0,class:"text-xs text-gray-500 mt-1"},ht={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},yt={key:0},bt={class:"text-xs text-gray-400"},kt={key:1,class:"text-gray-400"},_t={class:"px-6 py-4 whitespace-nowrap text-sm font-medium"},Ct={class:"flex space-x-2"},St=["onClick"],jt=["onClick"],Mt=["onClick"],Et=["onClick"],Bt={key:0,class:"text-center py-12"},$t={class:"mt-1 text-sm text-gray-500"},Vt={class:"mt-6"},At={key:1,class:"bg-white px-4 py-3 border-t border-gray-200 sm:px-6"},zt={class:"flex items-center justify-between"},Tt={class:"hidden sm:block"},Ut={class:"text-sm text-gray-700"},Dt={class:"font-medium"},It={class:"font-medium"},Lt={class:"font-medium"},Pt={class:"flex-1 flex justify-between sm:justify-end"},Nt={key:0,class:"fixed inset-0 z-50 overflow-y-auto"},Ot={class:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},Ft={class:"inline-block align-bottom bg-white rounded-lg px-4 pt-5 pb-4 text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-md sm:w-full sm:p-6"},Ht={class:"sm:flex sm:items-start"},Rt={class:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full"},qt={class:"mt-4"},Gt={class:"space-y-4"},Jt={class:"relative"},Kt={key:0,class:"absolute z-10 mt-1 w-full bg-white shadow-lg max-h-60 rounded-md py-1 text-base ring-1 ring-black ring-opacity-5 overflow-auto focus:outline-none sm:text-sm"},Qt=["onClick"],Wt={class:"flex items-center"},Xt={class:"flex-shrink-0 h-8 w-8 rounded-full bg-emerald-100 flex items-center justify-center mr-3"},Yt={class:"text-emerald-800 font-medium text-xs"},Zt={class:"min-w-0 flex-1"},es={class:"text-sm font-medium text-gray-900 truncate"},ts={class:"text-sm text-gray-500 truncate"},ss={key:0,class:"bg-emerald-50 border border-emerald-200 rounded-lg p-4"},os={class:"flex items-center justify-between"},ls={class:"flex items-center"},rs={class:"flex-shrink-0 h-10 w-10 rounded-full bg-emerald-100 flex items-center justify-center mr-3"},ns={class:"text-emerald-800 font-medium text-sm"},as={class:"text-sm font-medium text-gray-900"},is={class:"text-sm text-gray-500"},ds={key:1,class:"pt-4 border-t border-gray-200"},us={class:"pt-4 border-t border-gray-200"},ms={class:"space-y-2"},cs={class:"flex items-center"},gs={class:"flex items-center"},xs={class:"mt-5 sm:mt-4 sm:flex sm:flex-row-reverse"},fs=["disabled"],vs={key:0,class:"fixed inset-0 z-50 overflow-y-auto"},ps={class:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},ws={class:"inline-block align-bottom bg-white rounded-lg px-4 pt-5 pb-4 text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-2xl sm:w-full sm:p-6"},hs={class:"mt-3 text-center sm:mt-5"},ys={class:"mt-4"},bs={class:"space-y-4"},ks={class:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center"},_s={key:0,class:"bg-gray-50 rounded-lg p-4"},Cs={class:"flex justify-between items-center mb-2"},Ss={class:"text-sm font-medium text-gray-700"},js={class:"max-h-40 overflow-y-auto"},Ms={class:"mt-5 sm:mt-6 sm:grid sm:grid-cols-2 sm:gap-3"},Es=["disabled"],Bs={__name:"Enrollments",props:{course:Object,enrollments:Object,filters:Object},setup(n){const E=ae(),m=n,w=f(!1),k=f(!1),v=f(""),_=f([]),c=f(null),C=f(""),h=f("active"),y=f(""),F=f(null),d=ie({search:"",status:"",progress:""});I(()=>{m.filters&&(d.search=m.filters.search||"",d.status=m.filters.status||"",d.progress=m.filters.progress||"")});const x=de(()=>y.value.split(`
`).map(o=>o.trim()).filter(o=>o&&G(o))),H=o=>({active:"bg-green-100 text-green-800",completed:"bg-blue-100 text-blue-800",dropped:"bg-red-100 text-red-800",pending:"bg-yellow-100 text-yellow-800"})[o?.toLowerCase()]||"bg-gray-100 text-gray-800",B=o=>o?new Date(o).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A",U=o=>{if(!o)return"";const t=new Date(o),r=Math.floor((new Date-t)/(1e3*60*60*24));return r===0?"Today":r===1?"Yesterday":r<7?`${r} days ago`:r<30?`${Math.floor(r/7)} weeks ago`:r<365?`${Math.floor(r/30)} months ago`:`${Math.floor(r/365)} years ago`},R=()=>{const o=m.enrollments.data;if(o.length===0)return 0;const t=o.reduce((s,r)=>s+(r.progress_percentage||0),0);return Math.round(t/o.length)},q=()=>m.enrollments.data.length===0?null:m.enrollments.data[0].enrolled_at,G=o=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o);let D=null;const J=()=>{clearTimeout(D),D=setTimeout(()=>{$()},300)},$=()=>{M.get(route("admin.catalog.search.student",m.course.id),d,{preserveState:!0,replace:!0})},K=()=>{d.search="",d.status="",d.progress="",$()},Q=async()=>{if(!v.value.trim()||v.value.length<2){_.value=[];return}try{const o=await fetch(route("admin.catalog.search.student"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').content},body:JSON.stringify({search:v.value,exclude_enrolled:!0,course_id:m.course.id})});if(o.ok){const t=await o.json();_.value=t.students||[]}}catch(o){console.error("Student search failed:",o)}},W=o=>{c.value=o,v.value="",_.value=[]},X=async()=>{let o=c.value?.id||C.value;if(!o){alert("Please select a student or enter a student ID");return}try{await M.post(route("admin.catalog.courses.toggle-enrollment",m.course.id),{user_id:o,action:"enroll",status:h.value},{preserveScroll:!0,onSuccess:()=>{w.value=!1,c.value=null,C.value="",v.value="",E.props.flash.success="Student enrolled successfully"},onError:t=>{alert(t.message||"Failed to enroll student")}})}catch(t){console.error("Enrollment failed:",t)}},Y=async o=>{if(confirm(`Are you sure you want to unenroll ${o.user.name}? This action cannot be undone.`))try{await M.post(route("admin.catalog.courses.toggle-enrollment",m.course.id),{user_id:o.user_id,action:"unenroll"},{preserveScroll:!0,onSuccess:()=>{E.props.flash.success="Student unenrolled successfully"}})}catch(t){console.error("Unenrollment failed:",t)}},Z=async o=>{if(confirm(`Mark ${o.user.name}'s enrollment as completed?`))try{await M.put(route("admin.catalog.enrollments.update",o.id),{status:"completed",completed_at:new Date().toISOString()},{preserveScroll:!0,onSuccess:()=>{E.props.flash.success="Enrollment marked as completed"}})}catch(t){console.error("Failed to mark as completed:",t)}},ee=o=>{alert(`View progress for user ${o}`)},te=o=>{alert(`Send message to ${o.name}`)},se=o=>{const t=o.target.files[0];if(!t)return;const s=new FileReader;s.onload=r=>{const ne=r.target.result.split(`
`).map(b=>b.trim()).filter(b=>b&&!b.startsWith("#")).map(b=>b.split(",")[0].trim());y.value=[...new Set(ne)].join(`
`)},s.readAsText(t)},oe=()=>{y.value=""},le=async()=>{if(x.value.length!==0&&confirm(`Enroll ${x.value.length} students?`))try{await M.post(route("admin.catalog.courses.bulk-enroll",m.course.id),{emails:x.value,status:h.value},{preserveScroll:!0,onSuccess:()=>{k.value=!1,y.value="",E.props.flash.success=`Successfully enrolled ${x.value.length} students`},onError:o=>{alert(o.message||"Bulk enrollment failed")}})}catch(o){console.error("Bulk enrollment failed:",o)}},re=()=>{alert("Export functionality to be implemented")};return I(()=>{}),(o,t)=>(a(),ue(xe,null,{default:S(()=>[j(A(me),{title:`Enrollments - ${n.course.title}`},null,8,["title"]),e("div",ve,[e("div",pe,[e("div",we,[e("div",he,[e("div",ye,[e("button",{onClick:t[0]||(t[0]=s=>o.$inertia.visit(o.route("admin.catalog.courses.show",n.course.id))),class:"mr-4 text-gray-400 hover:text-gray-600"},[...t[18]||(t[18]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1)])]),e("div",null,[t[20]||(t[20]=e("h2",{class:"text-2xl font-bold text-gray-900"}," Enrollments ",-1)),e("div",be,[e("span",ke,l(n.course.title),1),t[19]||(t[19]=e("span",{class:"mx-2"},"•",-1)),e("span",null,l(n.course.subject)+" • "+l(n.course.level),1)])])])]),e("div",_e,[e("button",{onClick:t[1]||(t[1]=s=>k.value=!0),class:"inline-flex items-center px-4 py-2 border border-emerald-300 shadow-sm text-sm font-medium rounded-md text-emerald-700 bg-white hover:bg-emerald-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500"},[...t[21]||(t[21]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),u(" Bulk Enroll ",-1)])]),e("button",{onClick:t[2]||(t[2]=s=>w.value=!0),class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-emerald-600 hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500"},[...t[22]||(t[22]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})],-1),u(" Enroll Student ",-1)])])])]),e("div",Ce,[e("div",Se,[e("div",je,[e("div",Me,[t[24]||(t[24]=e("div",{class:"flex-shrink-0"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-emerald-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-1.205a9 9 0 01-13.5 2.201"})])],-1)),e("div",Ee,[e("dl",null,[t[23]||(t[23]=e("dt",{class:"text-sm font-medium text-gray-500 truncate"}," Total Enrolled ",-1)),e("dd",Be,l(n.enrollments.total),1)])])])])]),e("div",$e,[e("div",Ve,[e("div",Ae,[t[26]||(t[26]=e("div",{class:"flex-shrink-0"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-blue-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),e("div",ze,[e("dl",null,[t[25]||(t[25]=e("dt",{class:"text-sm font-medium text-gray-500 truncate"}," Active ",-1)),e("dd",Te,l(n.enrollments.data.filter(s=>s.status==="active").length),1)])])])])]),e("div",Ue,[e("div",De,[e("div",Ie,[t[28]||(t[28]=e("div",{class:"flex-shrink-0"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-green-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})])],-1)),e("div",Le,[e("dl",null,[t[27]||(t[27]=e("dt",{class:"text-sm font-medium text-gray-500 truncate"}," Completed ",-1)),e("dd",Pe,l(n.enrollments.data.filter(s=>s.status==="completed").length),1)])])])])]),e("div",Ne,[e("div",Oe,[e("div",Fe,[t[30]||(t[30]=e("div",{class:"flex-shrink-0"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-yellow-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),e("div",He,[e("dl",null,[t[29]||(t[29]=e("dt",{class:"text-sm font-medium text-gray-500 truncate"}," Avg. Progress ",-1)),e("dd",Re,l(R())+"% ",1)])])])])]),e("div",qe,[e("div",Ge,[e("div",Je,[t[32]||(t[32]=e("div",{class:"flex-shrink-0"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-purple-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})])],-1)),e("div",Ke,[e("dl",null,[t[31]||(t[31]=e("dt",{class:"text-sm font-medium text-gray-500 truncate"}," Last Enrollment ",-1)),e("dd",Qe,l(B(q())),1)])])])])])]),e("div",We,[e("div",Xe,[e("div",null,[t[33]||(t[33]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Search Students",-1)),p(e("input",{"onUpdate:modelValue":t[3]||(t[3]=s=>d.search=s),type:"text",placeholder:"Search by name or email...",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500 sm:text-sm",onInput:J},null,544),[[V,d.search]])]),e("div",null,[t[35]||(t[35]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Status",-1)),p(e("select",{"onUpdate:modelValue":t[4]||(t[4]=s=>d.status=s),class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500 sm:text-sm",onChange:$},[...t[34]||(t[34]=[e("option",{value:""},"All Statuses",-1),e("option",{value:"active"},"Active",-1),e("option",{value:"completed"},"Completed",-1),e("option",{value:"dropped"},"Dropped",-1),e("option",{value:"pending"},"Pending",-1)])],544),[[L,d.status]])]),e("div",null,[t[37]||(t[37]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Progress",-1)),p(e("select",{"onUpdate:modelValue":t[5]||(t[5]=s=>d.progress=s),class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500 sm:text-sm",onChange:$},[...t[36]||(t[36]=[e("option",{value:""},"All Progress",-1),e("option",{value:"0-25"},"0-25%",-1),e("option",{value:"26-50"},"26-50%",-1),e("option",{value:"51-75"},"51-75%",-1),e("option",{value:"76-100"},"76-100%",-1)])],544),[[L,d.progress]])]),e("div",{class:"flex items-end space-x-2"},[e("button",{onClick:K,class:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500"}," Clear Filters "),e("button",{onClick:re,class:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500"},[...t[38]||(t[38]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})],-1),u(" Export ",-1)])])])])]),e("div",Ye,[e("div",Ze,[e("table",et,[t[43]||(t[43]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Student "),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Enrollment Date "),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Progress "),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Status "),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Last Accessed "),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Actions ")])],-1)),e("tbody",tt,[(a(!0),i(z,null,T(n.enrollments.data,s=>(a(),i("tr",{key:s.id,class:"hover:bg-gray-50"},[e("td",st,[e("div",ot,[e("div",lt,[e("div",rt,[e("span",nt,l(s.user.name.charAt(0).toUpperCase()),1)])]),e("div",at,[e("div",it,l(s.user.name),1),e("div",dt,l(s.user.email),1)])])]),e("td",ut,[u(l(B(s.enrolled_at))+" ",1),e("div",mt,l(U(s.enrolled_at)),1)]),e("td",ct,[e("div",gt,[e("div",xt,[e("div",ft,[e("div",{class:"bg-emerald-600 h-2 rounded-full transition-all duration-300",style:ce({width:`${s.progress_percentage||0}%`})},null,4)])]),e("span",vt,l(s.progress_percentage||0)+"% ",1)])]),e("td",pt,[e("span",{class:ge([H(s.status),"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium"])},l(s.status),3),s.completed_at?(a(),i("div",wt," Completed: "+l(B(s.completed_at)),1)):g("",!0)]),e("td",ht,[s.last_accessed_at?(a(),i("div",yt,[u(l(B(s.last_accessed_at))+" ",1),e("div",bt,l(U(s.last_accessed_at)),1)])):(a(),i("span",kt,"Never"))]),e("td",_t,[e("div",Ct,[e("button",{onClick:r=>ee(s.user_id),class:"text-emerald-600 hover:text-emerald-900",title:"View Progress"},[...t[39]||(t[39]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1)])],8,St),e("button",{onClick:r=>te(s.user),class:"text-blue-600 hover:text-blue-900",title:"Send Message"},[...t[40]||(t[40]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})],-1)])],8,jt),s.status!=="completed"?(a(),i("button",{key:0,onClick:r=>Z(s),class:"text-green-600 hover:text-green-900",title:"Mark as Completed"},[...t[41]||(t[41]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)])],8,Mt)):g("",!0),e("button",{onClick:r=>Y(s),class:"text-red-600 hover:text-red-900",title:"Unenroll"},[...t[42]||(t[42]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,Et)])])]))),128))])])]),n.enrollments.data.length===0?(a(),i("div",Bt,[t[45]||(t[45]=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-1.205a9 9 0 01-13.5 2.201"})],-1)),t[46]||(t[46]=e("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"No enrollments found",-1)),e("p",$t,l(d.search||d.status||d.progress?"Try adjusting your filters":"Get started by enrolling students"),1),e("div",Vt,[e("button",{onClick:t[6]||(t[6]=s=>w.value=!0),type:"button",class:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-emerald-600 hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500"},[...t[44]||(t[44]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})],-1),u(" Enroll Student ",-1)])])])])):g("",!0),n.enrollments.links.length>3?(a(),i("nav",At,[e("div",zt,[e("div",Tt,[e("p",Ut,[t[47]||(t[47]=u(" Showing ",-1)),e("span",Dt,l(n.enrollments.from),1),t[48]||(t[48]=u(" to ",-1)),e("span",It,l(n.enrollments.to),1),t[49]||(t[49]=u(" of ",-1)),e("span",Lt,l(n.enrollments.total),1),t[50]||(t[50]=u(" results ",-1))])]),e("div",Pt,[j(A(P),{href:n.enrollments.prev_page_url,"preserve-scroll":"",disabled:!n.enrollments.prev_page_url,class:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50"},{default:S(()=>[...t[51]||(t[51]=[u(" Previous ",-1)])]),_:1},8,["href","disabled"]),j(A(P),{href:n.enrollments.next_page_url,"preserve-scroll":"",disabled:!n.enrollments.next_page_url,class:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50"},{default:S(()=>[...t[52]||(t[52]=[u(" Next ",-1)])]),_:1},8,["href","disabled"])])])])):g("",!0)])])]),j(N,{"enter-active-class":"duration-300 ease-out","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"duration-200 ease-in","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:S(()=>[w.value?(a(),i("div",Nt,[e("div",Ot,[e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:t[7]||(t[7]=s=>w.value=!1)}),t[61]||(t[61]=e("span",{class:"hidden sm:inline-block sm:align-middle sm:h-screen"},"​",-1)),e("div",Ft,[e("div",Ht,[t[60]||(t[60]=e("div",{class:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-emerald-100 sm:mx-0 sm:h-10 sm:w-10"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-emerald-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})])],-1)),e("div",Rt,[t[59]||(t[59]=e("h3",{class:"text-lg leading-6 font-medium text-gray-900"}," Enroll Student ",-1)),e("div",qt,[e("div",Gt,[e("div",null,[t[53]||(t[53]=e("label",{for:"student-search",class:"block text-sm font-medium text-gray-700 mb-1"}," Search Students ",-1)),e("div",Jt,[p(e("input",{id:"student-search","onUpdate:modelValue":t[8]||(t[8]=s=>v.value=s),type:"text",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500 sm:text-sm",placeholder:"Type to search students...",onInput:Q},null,544),[[V,v.value]]),v.value&&_.value.length>0?(a(),i("div",Kt,[(a(!0),i(z,null,T(_.value,s=>(a(),i("div",{key:s.id,class:"cursor-pointer select-none relative py-2 pl-3 pr-9 hover:bg-emerald-50",onClick:r=>W(s)},[e("div",Wt,[e("div",Xt,[e("span",Yt,l(s.name.charAt(0).toUpperCase()),1)]),e("div",Zt,[e("div",es,l(s.name),1),e("div",ts,l(s.email),1)])])],8,Qt))),128))])):g("",!0)])]),c.value?(a(),i("div",ss,[e("div",os,[e("div",ls,[e("div",rs,[e("span",ns,l(c.value.name.charAt(0).toUpperCase()),1)]),e("div",null,[e("div",as,l(c.value.name),1),e("div",is,l(c.value.email),1)])]),e("button",{onClick:t[9]||(t[9]=s=>c.value=null),type:"button",class:"text-gray-400 hover:text-gray-600"},[...t[54]||(t[54]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])])])):g("",!0),c.value?g("",!0):(a(),i("div",ds,[t[55]||(t[55]=e("div",{class:"text-sm text-gray-600 mb-3"}," Or enroll manually by student ID: ",-1)),p(e("input",{"onUpdate:modelValue":t[10]||(t[10]=s=>C.value=s),type:"text",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500 sm:text-sm",placeholder:"Enter student ID"},null,512),[[V,C.value]])])),e("div",us,[t[58]||(t[58]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Enrollment Options ",-1)),e("div",ms,[e("div",cs,[p(e("input",{id:"status-active","onUpdate:modelValue":t[11]||(t[11]=s=>h.value=s),type:"radio",value:"active",class:"h-4 w-4 text-emerald-600 focus:ring-emerald-500 border-gray-300"},null,512),[[O,h.value]]),t[56]||(t[56]=e("label",{for:"status-active",class:"ml-3 block text-sm text-gray-700"},[u(" Active "),e("p",{class:"text-gray-500 text-xs"},"Student can start learning immediately")],-1))]),e("div",gs,[p(e("input",{id:"status-pending","onUpdate:modelValue":t[12]||(t[12]=s=>h.value=s),type:"radio",value:"pending",class:"h-4 w-4 text-emerald-600 focus:ring-emerald-500 border-gray-300"},null,512),[[O,h.value]]),t[57]||(t[57]=e("label",{for:"status-pending",class:"ml-3 block text-sm text-gray-700"},[u(" Pending "),e("p",{class:"text-gray-500 text-xs"},"Student needs to confirm enrollment")],-1))])])])])])])]),e("div",xs,[e("button",{type:"button",onClick:X,disabled:!c.value&&!C.value,class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-emerald-600 text-base font-medium text-white hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50"}," Enroll Student ",8,fs),e("button",{type:"button",onClick:t[13]||(t[13]=s=>w.value=!1),class:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500 sm:mt-0 sm:w-auto sm:text-sm"}," Cancel ")])])])])):g("",!0)]),_:1}),j(N,{"enter-active-class":"duration-300 ease-out","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"duration-200 ease-in","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:S(()=>[k.value?(a(),i("div",vs,[e("div",ps,[e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:t[14]||(t[14]=s=>k.value=!1)}),t[68]||(t[68]=e("span",{class:"hidden sm:inline-block sm:align-middle sm:h-screen"},"​",-1)),e("div",ws,[e("div",null,[t[67]||(t[67]=e("div",{class:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-blue-100"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})])],-1)),e("div",hs,[t[66]||(t[66]=e("h3",{class:"text-lg leading-6 font-medium text-gray-900"}," Bulk Enroll Students ",-1)),e("div",ys,[e("div",bs,[e("div",ks,[t[62]||(t[62]=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M9 19l3 3m0 0l3-3m-3 3V10"})],-1)),t[63]||(t[63]=e("p",{class:"mt-2 text-sm text-gray-600"}," Upload a CSV file with student emails ",-1)),e("input",{ref_key:"csvInput",ref:F,type:"file",accept:".csv",class:"hidden",onChange:se},null,544),e("button",{onClick:t[15]||(t[15]=s=>o.$refs.csvInput.click()),class:"mt-3 inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500"}," Choose CSV File "),t[64]||(t[64]=e("p",{class:"mt-2 text-xs text-gray-500"}," CSV format: email (one per line) ",-1))]),e("div",null,[t[65]||(t[65]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Or enter emails manually (one per line) ",-1)),p(e("textarea",{"onUpdate:modelValue":t[16]||(t[16]=s=>y.value=s),rows:"6",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500 sm:text-sm",placeholder:`student1@example.com
student2@example.com`},null,512),[[V,y.value]])]),x.value.length>0?(a(),i("div",_s,[e("div",Cs,[e("span",Ss,l(x.value.length)+" students ready to enroll ",1),e("button",{onClick:oe,class:"text-sm text-red-600 hover:text-red-800"}," Clear All ")]),e("div",js,[(a(!0),i(z,null,T(x.value,(s,r)=>(a(),i("div",{key:r,class:"text-sm text-gray-600 py-1 border-b border-gray-200 last:border-0"},l(s),1))),128))])])):g("",!0)])])])]),e("div",Ms,[e("button",{type:"button",onClick:le,disabled:x.value.length===0,class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-emerald-600 text-base font-medium text-white hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500 sm:text-sm disabled:opacity-50"}," Enroll "+l(x.value.length)+" Students ",9,Es),e("button",{type:"button",onClick:t[17]||(t[17]=s=>k.value=!1),class:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500 sm:mt-0 sm:text-sm"}," Cancel ")])])])])):g("",!0)]),_:1})]),_:1}))}},Fs=fe(Bs,[["__scopeId","data-v-2ecb2237"]]);export{Fs as default};
