import{c as k,w as m,b as c,a as t,i as l,q as j,y,j as x,t as i,n as p,f as o,h as d,o as a,F as C,k as S,z as h}from"./app-D_aca0XA.js";import{A}from"./AdminLayout-CBHfnn2B.js";import{r as D}from"./CreditCardIcon-BaLAM8KO.js";import{r as U}from"./UserIcon-JIXnFIax.js";import{r as N}from"./CheckIcon-E8Mhk3sE.js";import"./XMarkIcon-xoIuta9N.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ChartBarIcon-VCRtQ2nQ.js";import"./CurrencyDollarIcon-1p_R_MOV.js";import"./EyeIcon-C5_OtGpj.js";const P={class:"space-y-6"},B={class:"flex justify-between items-start"},E={class:"flex items-center space-x-2 mb-2"},I={class:"flex items-center space-x-4"},L={class:"h-12 w-12 bg-indigo-100 rounded-full flex items-center justify-center"},T={class:"text-2xl font-bold text-gray-900"},q={class:"flex items-center space-x-4 mt-1"},R={class:"text-sm text-gray-600"},V={class:"text-sm text-gray-600"},F={class:"flex space-x-3"},M={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},$={class:"lg:col-span-2 space-y-6"},z={class:"bg-white shadow rounded-lg"},O={class:"p-6"},G={class:"flex items-center"},W={class:"flex-shrink-0 h-16 w-16 bg-gray-200 rounded-full flex items-center justify-center"},H={class:"ml-4"},J={class:"text-lg font-medium text-gray-900"},K={class:"text-sm text-gray-500"},Q={class:"text-sm text-gray-500 mt-1"},X={class:"bg-white shadow rounded-lg"},Y={class:"p-6"},Z={class:"flex justify-between items-start"},tt={class:"text-lg font-semibold text-gray-900"},st={class:"text-sm text-gray-600 mt-1"},et={class:"mt-3 space-y-1"},it={class:"text-right"},nt={class:"text-2xl font-bold text-gray-900"},at={class:"text-sm text-gray-500"},ot={class:"space-y-6"},rt={class:"bg-white shadow rounded-lg"},dt={class:"p-6 space-y-4"},ct={class:"flex justify-between"},lt={class:"flex justify-between"},ut={class:"text-sm text-gray-900"},mt={class:"flex justify-between"},xt={class:"text-sm text-gray-900"},gt={key:0,class:"flex justify-between"},bt={class:"text-sm text-gray-900"},ft={key:1,class:"flex justify-between"},yt={class:"text-sm text-gray-900"},pt={class:"flex justify-between"},ht={class:"text-sm text-gray-900"},vt={class:"flex justify-between"},_t={class:"text-sm text-gray-900"},wt={class:"bg-white shadow rounded-lg"},kt={class:"p-6 space-y-4"},jt={class:"flex justify-between"},Ct={class:"text-sm text-gray-900"},St={class:"flex justify-between"},At={class:"text-sm text-gray-900"},Dt={class:"flex justify-between"},Ut={class:"text-sm text-gray-900"},Nt={key:0,class:"bg-white shadow rounded-lg"},Pt={class:"p-6 space-y-3"},Bt={class:"flex justify-between"},Et={class:"text-sm text-gray-900 font-mono"},It={key:0,class:"flex justify-between"},Lt={class:"text-sm text-gray-900"},Tt={key:1,class:"flex justify-between"},qt={class:"text-sm text-gray-900"},Jt={__name:"Show",props:{subscription:Object,usage_stats:Object},setup(e){const g=e,v=n=>({unlimited_courses:"Unlimited Courses",ai_grading:"AI Grading",priority_support:"Priority Support",advanced_analytics:"Advanced Analytics",custom_domains:"Custom Domains",api_access:"API Access",white_label:"White Label",team_members:"Team Members",backup_restore:"Backup & Restore",premium_templates:"Premium Templates"})[n]||n.replace("_"," ").replace(/\b\w/g,u=>u.toUpperCase()),r=n=>new Date(n).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),b=n=>({active:"bg-green-100 text-green-800",canceled:"bg-red-100 text-red-800",expired:"bg-gray-100 text-gray-800"})[n]||"bg-gray-100 text-gray-800",f=n=>({active:"Active",canceled:"Cancelled",expired:"Expired"})[n]||n,_=()=>{confirm("Are you sure you want to cancel this subscription?")&&h.post(route("admin.subscriptions.cancel",g.subscription.id))},w=()=>{confirm("Renew this subscription?")&&h.post(route("admin.subscriptions.renew",g.subscription.id))};return(n,s)=>(a(),k(A,null,{default:m(()=>[c(l(j),{title:`Subscription #${e.subscription.id}`},null,8,["title"]),t("div",P,[t("div",B,[t("div",null,[t("div",E,[c(l(y),{href:n.route("admin.subscriptions.index"),class:"text-indigo-600 hover:text-indigo-900 text-sm font-medium"},{default:m(()=>[...s[0]||(s[0]=[x(" ← Back to Subscriptions ",-1)])]),_:1},8,["href"])]),t("div",I,[t("div",L,[c(l(D),{class:"h-6 w-6 text-indigo-600"})]),t("div",null,[t("h1",T," Subscription #"+i(e.subscription.id),1),t("div",q,[t("span",R,"User: "+i(e.subscription.user.name),1),t("span",V,"Plan: "+i(e.subscription.plan.name),1),t("span",{class:p(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",b(e.subscription.status)])},i(f(e.subscription.status)),3)])])])]),t("div",F,[c(l(y),{href:n.route("admin.subscriptions.edit",e.subscription.id),class:"inline-flex items-center px-4 py-2 bg-white border border-gray-300 rounded-md font-semibold text-xs text-gray-700 uppercase tracking-widest shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 transition ease-in-out duration-150"},{default:m(()=>[...s[1]||(s[1]=[x(" Edit ",-1)])]),_:1},8,["href"]),e.subscription.is_active?(a(),o("button",{key:0,onClick:_,class:"inline-flex items-center px-4 py-2 bg-red-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-red-700 focus:bg-red-700 active:bg-red-800 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition ease-in-out duration-150"}," Cancel ")):d("",!0),e.subscription.is_expired?(a(),o("button",{key:1,onClick:w,class:"inline-flex items-center px-4 py-2 bg-green-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-green-700 focus:bg-green-700 active:bg-green-800 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 transition ease-in-out duration-150"}," Renew ")):d("",!0)])]),t("div",M,[t("div",$,[t("div",z,[s[2]||(s[2]=t("div",{class:"px-6 py-4 border-b border-gray-200"},[t("h3",{class:"text-lg font-medium text-gray-900"},"User Information")],-1)),t("div",O,[t("div",G,[t("div",W,[c(l(U),{class:"h-8 w-8 text-gray-500"})]),t("div",H,[t("div",J,i(e.subscription.user.name),1),t("div",K,i(e.subscription.user.email),1),t("div",Q," Member since "+i(r(e.subscription.user.created_at)),1)])])])]),t("div",X,[s[3]||(s[3]=t("div",{class:"px-6 py-4 border-b border-gray-200"},[t("h3",{class:"text-lg font-medium text-gray-900"},"Plan Information")],-1)),t("div",Y,[t("div",Z,[t("div",null,[t("h4",tt,i(e.subscription.plan.name),1),t("p",st,i(e.subscription.plan.description),1),t("div",et,[(a(!0),o(C,null,S(e.subscription.plan.features,u=>(a(),o("div",{key:u,class:"flex items-center text-sm text-gray-600"},[c(l(N),{class:"h-4 w-4 text-green-500 mr-2"}),x(" "+i(v(u)),1)]))),128))])]),t("div",it,[t("div",nt,i(e.subscription.plan.formatted_price),1),t("div",at," per "+i(e.subscription.plan.billing_cycle_days)+" days ",1)])])])])]),t("div",ot,[t("div",rt,[s[11]||(s[11]=t("div",{class:"px-6 py-4 border-b border-gray-200"},[t("h3",{class:"text-lg font-medium text-gray-900"},"Subscription Details")],-1)),t("div",dt,[t("div",ct,[s[4]||(s[4]=t("span",{class:"text-sm font-medium text-gray-500"},"Status",-1)),t("span",{class:p(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",b(e.subscription.status)])},i(f(e.subscription.status)),3)]),t("div",lt,[s[5]||(s[5]=t("span",{class:"text-sm font-medium text-gray-500"},"Start Date",-1)),t("span",ut,i(r(e.subscription.starts_at)),1)]),t("div",mt,[s[6]||(s[6]=t("span",{class:"text-sm font-medium text-gray-500"},"End Date",-1)),t("span",xt,i(r(e.subscription.ends_at)),1)]),e.subscription.trial_ends_at?(a(),o("div",gt,[s[7]||(s[7]=t("span",{class:"text-sm font-medium text-gray-500"},"Trial Ends",-1)),t("span",bt,i(r(e.subscription.trial_ends_at)),1)])):d("",!0),e.subscription.canceled_at?(a(),o("div",ft,[s[8]||(s[8]=t("span",{class:"text-sm font-medium text-gray-500"},"Cancelled At",-1)),t("span",yt,i(r(e.subscription.canceled_at)),1)])):d("",!0),t("div",pt,[s[9]||(s[9]=t("span",{class:"text-sm font-medium text-gray-500"},"Created",-1)),t("span",ht,i(r(e.subscription.created_at)),1)]),t("div",vt,[s[10]||(s[10]=t("span",{class:"text-sm font-medium text-gray-500"},"Updated",-1)),t("span",_t,i(r(e.subscription.updated_at)),1)])])]),t("div",wt,[s[15]||(s[15]=t("div",{class:"px-6 py-4 border-b border-gray-200"},[t("h3",{class:"text-lg font-medium text-gray-900"},"Usage Statistics")],-1)),t("div",kt,[t("div",jt,[s[12]||(s[12]=t("span",{class:"text-sm font-medium text-gray-500"},"Courses Created",-1)),t("span",Ct,i(e.usage_stats.courses_created)+" / "+i(e.usage_stats.courses_limit===-1?"∞":e.usage_stats.courses_limit),1)]),t("div",St,[s[13]||(s[13]=t("span",{class:"text-sm font-medium text-gray-500"},"AI Requests This Month",-1)),t("span",At,i(e.usage_stats.ai_requests_this_month)+" / "+i(e.usage_stats.ai_requests_limit===-1?"∞":e.usage_stats.ai_requests_limit),1)]),t("div",Dt,[s[14]||(s[14]=t("span",{class:"text-sm font-medium text-gray-500"},"Days Until Expiration",-1)),t("span",Ut,i(e.usage_stats.days_until_expiration),1)])])]),e.subscription.paystack_subscription_code?(a(),o("div",Nt,[s[19]||(s[19]=t("div",{class:"px-6 py-4 border-b border-gray-200"},[t("h3",{class:"text-lg font-medium text-gray-900"},"Payment Information")],-1)),t("div",Pt,[t("div",Bt,[s[16]||(s[16]=t("span",{class:"text-sm font-medium text-gray-500"},"Paystack Code",-1)),t("span",Et,i(e.subscription.paystack_subscription_code),1)]),e.subscription.card_type?(a(),o("div",It,[s[17]||(s[17]=t("span",{class:"text-sm font-medium text-gray-500"},"Card Type",-1)),t("span",Lt,i(e.subscription.card_type),1)])):d("",!0),e.subscription.last4?(a(),o("div",Tt,[s[18]||(s[18]=t("span",{class:"text-sm font-medium text-gray-500"},"Last 4 Digits",-1)),t("span",qt,"**** "+i(e.subscription.last4),1)])):d("",!0)])])):d("",!0)])])])]),_:1}))}};export{Jt as default};
