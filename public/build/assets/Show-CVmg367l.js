import{c as _,w as f,b as a,a as t,h as c,p as $,t as s,n as m,x as p,i as u,f as l,g as x,o as i,F as g,j as y,A as B,k as L,y as w}from"./app-Dsa_kJaq.js";import{A as E}from"./AdminLayout-DjlluW6p.js";import{r as v}from"./AcademicCapIcon-DsyMwz67.js";import{r as k}from"./CheckCircleIcon-DhLCehtc.js";import{r as P}from"./ArrowPathIcon-CFRFvDi9.js";import{r as R}from"./QuestionMarkCircleIcon-DoU1tx9w.js";import{r as C}from"./DocumentTextIcon-CVicxPKN.js";import"./XMarkIcon-Bxcfscut.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./UserIcon-_Y_jyG0D.js";import"./UsersIcon-fZj5cEgl.js";import"./ChatBubbleLeftRightIcon-CCL_gYyy.js";import"./ChartBarIcon-DYLNiR2T.js";import"./CurrencyDollarIcon-DBAnfKhu.js";import"./EyeIcon-BTpSVuzY.js";const V={class:"py-6"},q={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},I={class:"mb-8"},M={class:"flex justify-between items-center"},T={class:"text-3xl font-bold text-gray-900"},U={class:"mt-2 text-gray-600"},Q={class:"mt-2 flex items-center space-x-4"},H={class:"text-sm text-gray-500 capitalize"},W={class:"flex space-x-3"},Y={class:"grid grid-cols-1 lg:grid-cols-3 gap-8"},G={class:"lg:col-span-2 space-y-6"},J={class:"bg-white shadow rounded-lg"},K={class:"p-6"},X={class:"flex items-center justify-between mb-4"},Z={class:"text-2xl font-bold text-gray-900"},tt={class:"text-right"},et={class:"text-2xl font-bold text-gray-900"},st={class:"bg-white shadow rounded-lg"},ot={class:"px-6 py-4 border-b border-gray-200"},rt={class:"flex justify-between items-center"},it={class:"text-sm text-gray-500"},lt={class:"p-6"},dt={key:0,class:"mb-6"},nt={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},at={class:"flex justify-between items-start"},ct={class:"font-medium text-gray-900"},ut={class:"text-sm text-gray-500 mt-1"},xt={class:"mt-3 flex items-center text-sm text-gray-500"},mt={key:1,class:"mb-6"},gt={class:"space-y-3"},yt={class:"flex justify-between items-start"},ht={class:"flex-1"},bt={class:"flex items-center space-x-2 mb-2"},ft={key:0,class:"text-xs text-gray-500"},vt={class:"mb-3"},_t={class:"text-sm font-medium text-gray-900 mb-1"},pt={class:"text-sm text-gray-600"},wt={key:0,class:"text-sm text-gray-500 mt-2"},kt={class:"ml-4 text-right"},Ct={key:0,class:"text-xs text-gray-500"},jt={key:1,class:"text-xs text-gray-500"},Dt={class:"mt-2 text-xs text-gray-500"},St={class:"mt-3 pt-3 border-t border-gray-100 flex justify-between items-center"},zt={class:"text-xs text-gray-500"},At={class:"flex space-x-2"},Ft={class:"text-xs text-gray-400"},Nt={key:0,class:"mt-4 text-center"},Ot={key:2,class:"text-center py-8"},$t={class:"w-full bg-gray-200 rounded-full h-4"},Bt={class:"bg-gray-50 p-4 rounded-lg mb-2"},Lt={class:"font-semibold text-gray-900"},Et={class:"text-sm text-gray-600"},Pt={class:"space-y-4 ml-4"},Rt={class:"flex items-center space-x-4"},Vt={class:"text-sm font-medium text-gray-900"},qt={class:"text-sm text-gray-500"},It={class:"flex items-center space-x-4 mt-1"},Mt={class:"text-xs text-gray-400 capitalize"},Tt={class:"text-xs text-gray-400"},Ut={class:"flex items-center space-x-3"},Qt={key:0,class:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800"},Ht={key:1,class:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-800"},Wt={key:0,class:"bg-white shadow rounded-lg"},Yt={class:"p-6"},Gt={class:"space-y-2"},Jt={class:"text-sm text-gray-700"},Kt={class:"space-y-6"},Xt={class:"bg-white shadow rounded-lg"},Zt={class:"p-6"},te={class:"flex items-center space-x-3 mb-4"},ee={class:"flex-shrink-0"},se={class:"h-10 w-10 bg-blue-500 rounded-full flex items-center justify-center text-white font-semibold"},oe={class:"text-sm font-medium text-gray-900"},re={class:"text-sm text-gray-500"},ie={class:"space-y-2"},le={class:"text-sm text-gray-900 capitalize"},de={class:"text-sm text-gray-900 capitalize"},ne={class:"text-sm text-gray-900"},ae={class:"bg-white shadow rounded-lg"},ce={class:"p-6"},ue={class:"space-y-3"},xe={class:"text-sm text-gray-900"},me={class:"text-sm text-gray-900"},ge={class:"text-sm text-gray-900"},ye={class:"text-sm text-gray-900"},he={key:0},be={class:"text-sm text-gray-900"},fe={class:"bg-white shadow rounded-lg"},ve={class:"p-6 space-y-3"},Le={__name:"Show",props:{course:Object},setup(o){const h=o,j=d=>({active:"bg-green-100 text-green-800",completed:"bg-blue-100 text-blue-800",draft:"bg-gray-100 text-gray-800"})[d]||"bg-gray-100 text-gray-800",D=d=>({module:v,topic:C,quiz:R})[d]||C,S=d=>({module:"bg-blue-500",topic:"bg-green-500",quiz:"bg-purple-500"})[d]||"bg-gray-500",b=d=>new Date(d).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),z=()=>{confirm("Are you sure you want to regenerate the course outline? This will replace the current outline.")&&w.post(route("admin.courses.regenerate-outline",h.course.id))},A=()=>{confirm("Mark this course as completed?")&&w.patch(route("admin.courses.mark-completed",h.course.id))},F=d=>({easy:"bg-green-100 text-green-800",medium:"bg-yellow-100 text-yellow-800",hard:"bg-red-100 text-red-800"})[d]||"bg-gray-100 text-gray-800",N=d=>d.next_review_date?new Date(d.next_review_date)<=new Date:!0,O=()=>{alert(`Showing all flashcards for ${h.course.title}`)};return(d,e)=>(i(),_(E,null,{default:f(()=>[a(c($),{title:`Course - ${o.course.title}`},null,8,["title"]),t("div",V,[t("div",q,[t("div",I,[t("div",M,[t("div",null,[t("h1",T,s(o.course.title),1),t("p",U,s(o.course.description),1),t("div",Q,[t("span",{class:m(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium capitalize",j(o.course.status)])},s(o.course.status),3),t("span",H,s(o.course.subject)+" • "+s(o.course.level),1)])]),t("div",W,[a(c(p),{href:d.route("admin.courses.edit",o.course.id),class:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50"},{default:f(()=>[...e[0]||(e[0]=[u(" Edit Course ",-1)])]),_:1},8,["href"]),a(c(p),{href:d.route("admin.courses.index"),class:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50"},{default:f(()=>[...e[1]||(e[1]=[u(" Back to Courses ",-1)])]),_:1},8,["href"])])])]),t("div",Y,[t("div",G,[t("div",J,[e[12]||(e[12]=t("div",{class:"px-6 py-4 border-b border-gray-200"},[t("h3",{class:"text-lg font-semibold text-gray-900"},"Progress Overview")],-1)),t("div",K,[t("div",X,[t("div",null,[e[2]||(e[2]=t("h4",{class:"text-sm font-medium text-gray-500"},"Overall Progress",-1)),t("p",Z,s(Math.round(o.course.progress_percentage))+"% ",1)]),t("div",tt,[e[3]||(e[3]=t("h4",{class:"text-sm font-medium text-gray-500"},"Completed",-1)),t("p",et,s(o.course.completed_outlines_count||0)+"/"+s(o.course.outlines_count||0),1)])]),t("div",st,[t("div",ot,[t("div",rt,[e[4]||(e[4]=t("h3",{class:"text-lg font-semibold text-gray-900"},"Flashcards",-1)),t("span",it,s(o.course.flashcards?.length||0)+" cards • "+s(d.stats?.due_flashcards||0)+" due for review ",1)])]),t("div",lt,[o.course.flashcard_sets?.length?(i(),l("div",dt,[e[5]||(e[5]=t("h4",{class:"text-md font-medium text-gray-900 mb-3"},"Flashcard Sets",-1)),t("div",nt,[(i(!0),l(g,null,y(o.course.flashcard_sets,r=>(i(),l("div",{key:r.id,class:"border border-gray-200 rounded-lg p-4 hover:bg-gray-50"},[t("div",at,[t("div",null,[t("h5",ct,s(r.title),1),t("p",ut,s(r.description),1)]),t("span",{class:m(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",r.is_public?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"])},s(r.is_public?"Public":"Private"),3)]),t("div",xt,[a(c(v),{class:"h-4 w-4 mr-1"}),t("span",null,s(r.flashcards_count||0)+" cards",1)])]))),128))])])):x("",!0),o.course.flashcards?.length?(i(),l("div",mt,[e[9]||(e[9]=t("h4",{class:"text-md font-medium text-gray-900 mb-3"},"Recent Flashcards",-1)),t("div",gt,[(i(!0),l(g,null,y(o.course.flashcards.slice(0,5),r=>(i(),l("div",{key:r.id,class:"border border-gray-200 rounded-lg p-4 hover:bg-gray-50"},[t("div",yt,[t("div",ht,[t("div",bt,[t("span",{class:m(["inline-flex items-center px-2 py-1 rounded-full text-xs font-medium capitalize",F(r.difficulty_level)])},s(r.difficulty_level||"medium"),3),r.course_outline?(i(),l("span",ft,s(r.course_outline.title),1)):x("",!0)]),t("div",vt,[t("p",_t,[e[6]||(e[6]=t("span",{class:"text-gray-500"},"Q:",-1)),u(" "+s(r.question||"No question"),1)]),t("p",pt,[e[7]||(e[7]=t("span",{class:"text-gray-500"},"A:",-1)),u(" "+s(r.answer||"No answer"),1)]),r.explanation?(i(),l("p",wt,s(r.explanation),1)):x("",!0)])]),t("div",kt,[r.next_review_date?(i(),l("div",Ct,[e[8]||(e[8]=u(" Next review: ",-1)),t("span",{class:m(N(r)?"text-red-600 font-medium":"text-gray-700")},s(b(r.next_review_date)),3)])):(i(),l("div",jt,"Not studied yet")),t("div",Dt,[t("span",null,"Repetitions: "+s(r.repetitions||0),1)])])]),t("div",St,[t("div",zt," Created by: "+s(r.user?.name||"Unknown"),1),t("div",At,[t("span",Ft," Ease: "+s(r.ease_factor||2.5),1)])])]))),128))]),o.course.flashcards.length>5?(i(),l("div",Nt,[t("button",{onClick:O,class:"text-sm text-blue-600 hover:text-blue-800"}," View all "+s(o.course.flashcards.length)+" flashcards → ",1)])):x("",!0)])):(i(),l("div",Ot,[a(c(v),{class:"h-12 w-12 mx-auto text-gray-400"}),e[10]||(e[10]=t("h4",{class:"mt-2 text-sm font-medium text-gray-900"},"No Flashcards Yet",-1)),e[11]||(e[11]=t("p",{class:"mt-1 text-sm text-gray-500"}," Flashcards will appear here once created by students or tutors. ",-1))]))])]),t("div",$t,[t("div",{class:"bg-blue-600 h-4 rounded-full transition-all duration-300",style:B({width:`${o.course.progress_percentage}%`})},null,4)])])]),(i(!0),l(g,null,y(o.course.modules,r=>(i(),l("div",{key:r.id,class:"mb-6"},[t("div",Bt,[t("h4",Lt,s(r.title),1),t("p",Et,s(r.description),1)]),t("div",Pt,[(i(!0),l(g,null,y(r.topics,n=>(i(),l("div",{key:n.id,class:"flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:bg-gray-50"},[t("div",Rt,[t("div",{class:m(["flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center",S(n.type)])},[(i(),_(L(D(n.type)),{class:"h-4 w-4 text-white"}))],2),t("div",null,[t("h4",Vt,s(n.title),1),t("p",qt,s(n.description),1),t("div",It,[t("span",Mt,s(n.type),1),t("span",Tt,s(n.estimated_duration_minutes)+" minutes ",1)])])]),t("div",Ut,[n.is_completed?(i(),l("span",Qt," Completed ")):(i(),l("span",Ht," Pending "))])]))),128))])]))),128)),o.course.learning_objectives?.length?(i(),l("div",Wt,[e[13]||(e[13]=t("div",{class:"px-6 py-4 border-b border-gray-200"},[t("h3",{class:"text-lg font-semibold text-gray-900"},"Learning Objectives")],-1)),t("div",Yt,[t("ul",Gt,[(i(!0),l(g,null,y(o.course.learning_objectives,(r,n)=>(i(),l("li",{key:n,class:"flex items-start"},[a(c(k),{class:"h-5 w-5 text-green-500 mr-3 mt-0.5 flex-shrink-0"}),t("span",Jt,s(r),1)]))),128))])])])):x("",!0)]),t("div",Kt,[t("div",Xt,[e[17]||(e[17]=t("div",{class:"px-6 py-4 border-b border-gray-200"},[t("h3",{class:"text-lg font-semibold text-gray-900"},"Student Information")],-1)),t("div",Zt,[t("div",te,[t("div",ee,[t("div",se,s(o.course.student_profile.user.name.charAt(0).toUpperCase()),1)]),t("div",null,[t("h4",oe,s(o.course.student_profile.user.name),1),t("p",re,s(o.course.student_profile.user.email),1)])]),t("dl",ie,[t("div",null,[e[14]||(e[14]=t("dt",{class:"text-xs text-gray-500"},"Current Level",-1)),t("dd",le,s(o.course.student_profile.current_level),1)]),t("div",null,[e[15]||(e[15]=t("dt",{class:"text-xs text-gray-500"},"Target Level",-1)),t("dd",de,s(o.course.student_profile.target_level),1)]),t("div",null,[e[16]||(e[16]=t("dt",{class:"text-xs text-gray-500"},"Weekly Study Hours",-1)),t("dd",ne,s(o.course.student_profile.weekly_study_hours)+" hours ",1)])])])]),t("div",ae,[e[23]||(e[23]=t("div",{class:"px-6 py-4 border-b border-gray-200"},[t("h3",{class:"text-lg font-semibold text-gray-900"},"Course Details")],-1)),t("div",ce,[t("dl",ue,[t("div",null,[e[18]||(e[18]=t("dt",{class:"text-xs text-gray-500"},"Start Date",-1)),t("dd",xe,s(b(o.course.start_date)),1)]),t("div",null,[e[19]||(e[19]=t("dt",{class:"text-xs text-gray-500"},"Target Completion",-1)),t("dd",me,s(b(o.course.target_completion_date)),1)]),t("div",null,[e[20]||(e[20]=t("dt",{class:"text-xs text-gray-500"},"Estimated Duration",-1)),t("dd",ge,s(o.course.estimated_duration_hours)+" hours ",1)]),t("div",null,[e[21]||(e[21]=t("dt",{class:"text-xs text-gray-500"},"AI Model Used",-1)),t("dd",ye,s(o.course.ai_model_used),1)]),o.course.exam_board?(i(),l("div",he,[e[22]||(e[22]=t("dt",{class:"text-xs text-gray-500"},"Exam Board",-1)),t("dd",be,s(o.course.exam_board.name),1)])):x("",!0)])])]),t("div",fe,[e[26]||(e[26]=t("div",{class:"px-6 py-4 border-b border-gray-200"},[t("h3",{class:"text-lg font-semibold text-gray-900"},"Quick Actions")],-1)),t("div",ve,[t("button",{onClick:z,class:"w-full flex items-center justify-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50"},[a(c(P),{class:"h-4 w-4 mr-2"}),e[24]||(e[24]=u(" Regenerate Outline ",-1))]),o.course.status!=="completed"?(i(),l("button",{key:0,onClick:A,class:"w-full flex items-center justify-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700"},[a(c(k),{class:"h-4 w-4 mr-2"}),e[25]||(e[25]=u(" Mark as Completed ",-1))])):x("",!0)])])])])])])]),_:1}))}};export{Le as default};
