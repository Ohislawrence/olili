import{c as p,w as d,b as r,a as t,i as u,q as x,t as a,y,j as g,f as c,o,F as f,k as h,h as _,n as v}from"./app-DmOHqPL6.js";import{A as w}from"./AdminLayout-CqMCaWFu.js";import{_ as n}from"./StatsCard-MHF1Qd3D.js";import{_ as b}from"./Pagination-C_AabbVA.js";import"./ResponsiveNavLink-CfyORcVH.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./XMarkIcon-M5MZ3YHP.js";import"./HomeIcon-Xn7Itk27.js";import"./ChartBarIcon-BEkMkBFg.js";import"./CheckCircleIcon-B458HlSk.js";import"./TrophyIcon-KOSRcfea.js";import"./SparklesIcon-D5xmak5k.js";import"./CreditCardIcon-CltokmQQ.js";import"./ExclamationTriangleIcon-C4fgoQto.js";import"./UserGroupIcon-DvKGC3-e.js";import"./CurrencyDollarIcon-C3OVdXS7.js";import"./AcademicCapIcon-CaPNUadE.js";const k={class:"py-6"},S={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},L={class:"mb-8"},D={class:"flex justify-between items-center"},H={class:"text-3xl font-bold text-gray-900"},j={class:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8"},B={class:"bg-white shadow rounded-lg overflow-hidden"},T={class:"overflow-x-auto"},A={class:"min-w-full divide-y divide-gray-200"},C={class:"bg-white divide-y divide-gray-200"},F={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},N={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},U={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},V={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},q={class:"flex items-center"},O={class:"capitalize"},$={class:"px-6 py-4 whitespace-nowrap"},z={key:0,class:"text-xs text-gray-500 mt-1"},R={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},E={class:"px-6 py-4 border-t border-gray-200 bg-gray-50"},ot={__name:"LoginHistory",props:{user:Object,loginHistory:Object,loginStats:Object},setup(i){const m=l=>new Date(l).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return(l,s)=>(o(),p(w,null,{default:d(()=>[r(u(x),{title:"User Login History"}),t("div",k,[t("div",S,[t("div",L,[t("div",D,[t("div",null,[t("h1",H," Login History - "+a(i.user.name),1),s[0]||(s[0]=t("p",{class:"mt-2 text-gray-600"}," Track user login activity and security events ",-1))]),r(u(y),{href:l.route("admin.users.show",i.user.id),class:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50"},{default:d(()=>[...s[1]||(s[1]=[g(" Back to User ",-1)])]),_:1},8,["href"])])]),t("div",j,[r(n,{title:"Total Logins",value:i.loginStats.total_logins,icon:"users",color:"blue"},null,8,["value"]),r(n,{title:"Success Rate",value:`${i.loginStats.success_rate}%`,icon:"academic-cap",color:"green"},null,8,["value"]),r(n,{title:"Unique Devices",value:i.loginStats.unique_devices,icon:"chart-bar",color:"purple"},null,8,["value"]),r(n,{title:"Consecutive Days",value:i.loginStats.consecutive_days,icon:"exclamation",color:"orange"},null,8,["value"])]),t("div",B,[s[4]||(s[4]=t("div",{class:"px-6 py-4 border-b border-gray-200"},[t("h2",{class:"text-lg font-semibold text-gray-900"}," Recent Login Activity ")],-1)),t("div",T,[t("table",A,[s[3]||(s[3]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Date & Time "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," IP Address "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Location "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Device "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Status "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Session Duration ")])],-1)),t("tbody",C,[(o(!0),c(f,null,h(i.loginHistory.data,e=>(o(),c("tr",{key:e.id,class:"hover:bg-gray-50"},[t("td",F,a(m(e.login_at)),1),t("td",N,a(e.ip_address),1),t("td",U,a(e.getLocation()),1),t("td",V,[t("div",q,[t("span",O,a(e.device_type),1),s[2]||(s[2]=t("span",{class:"mx-1"},"â€¢",-1)),t("span",null,a(e.browser),1)])]),t("td",$,[t("span",{class:v(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",e.was_successful?"bg-green-100 text-green-800":"bg-red-100 text-red-800"])},a(e.was_successful?"Success":"Failed"),3),e.failure_reason?(o(),c("div",z,a(e.failure_reason),1)):_("",!0)]),t("td",R,a(e.getSessionDurationFormatted()),1)]))),128))])])]),t("div",E,[r(b,{links:i.loginHistory.links},null,8,["links"])])])])])]),_:1}))}};export{ot as default};
