import{d as T,g as V,p as $,c as D,w as u,b as o,a as e,i,q as M,y as m,j as g,e as x,x as N,s as h,f as b,h as z,o as f,F as B,k as L,t as l,B as U,n as E,z as w}from"./app-RlMDLPbN.js";import{A as I}from"./AdminLayout-CHgFpl9J.js";import{_ as v}from"./StatsCard-CjOHIvxz.js";import{_ as O}from"./Pagination-CS5xz99X.js";import{r as k}from"./PlusIcon-D2Joks_y.js";import{r as C}from"./AcademicCapIcon-WkJzKIwA.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./XMarkIcon-CrAZ_pzL.js";import"./ResponsiveNavLink-Dde9SkOh.js";import"./UserIcon-BHi175d0.js";import"./CurrencyDollarIcon-mGv0vdp-.js";import"./CheckCircleIcon-Cl5cCiGi.js";import"./TrophyIcon-DGc1Txv5.js";import"./SparklesIcon-BjPoqDCp.js";import"./CreditCardIcon-BOpYhrSa.js";import"./ExclamationTriangleIcon-D2VMaPqz.js";import"./UserGroupIcon-DFUrsbnd.js";const F={class:"py-6"},P={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},q={class:"mb-8"},G={class:"flex justify-between items-center"},H={class:"mb-6 bg-white rounded-lg shadow p-4"},R={class:"flex flex-wrap gap-4 items-center"},J={class:"flex-1 min-w-[300px]"},K={class:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8"},Q={class:"bg-white shadow rounded-lg overflow-hidden"},W={class:"overflow-x-auto"},X={class:"min-w-full divide-y divide-gray-200"},Y={class:"bg-white divide-y divide-gray-200"},Z={class:"px-6 py-4 whitespace-nowrap"},ee={class:"flex items-center"},te={class:"flex-shrink-0 h-10 w-10 bg-blue-500 rounded-lg flex items-center justify-center"},se={class:"ml-4"},oe={class:"text-sm font-medium text-gray-900"},ae={class:"text-sm text-gray-500"},re={class:"px-6 py-4 whitespace-nowrap"},le={class:"text-sm text-gray-900"},ie={class:"text-sm text-gray-500"},ne={class:"px-6 py-4 whitespace-nowrap"},de={class:"text-sm text-gray-900 capitalize"},ue={class:"text-sm text-gray-500 capitalize"},ce={class:"px-6 py-4 whitespace-nowrap"},pe={class:"flex items-center"},me={class:"w-32 bg-gray-200 rounded-full h-2 mr-3"},ge={class:"text-sm text-gray-700"},xe={class:"text-xs text-gray-500 mt-1"},fe={class:"px-6 py-4 whitespace-nowrap"},ve={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},he={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},be={class:"flex justify-end space-x-2"},ye=["onClick"],_e={key:0,class:"text-center py-12"},we={class:"mt-6"},ke={class:"px-6 py-4 border-t border-gray-200 bg-gray-50"},Pe={__name:"Index",props:{courses:Object,filters:Object,stats:Object},setup(c){const n=c,p=T(()=>({total_courses:n.stats?.total_courses||0,active_courses:n.stats?.active_courses||0,completion_rate:n.stats?.completion_rate||0,avg_progress:n.stats?.avg_progress||0})),a=V({search:n.filters?.search||"",status:n.filters?.status||"",subject:n.filters?.subject||"",level:n.filters?.level||""});let y=null;const j=()=>{clearTimeout(y),y=setTimeout(()=>{d()},300)},d=()=>{w.get(route("admin.courses.index"),a.value,{preserveState:!0,replace:!0})},S=r=>({active:"bg-green-100 text-green-800",completed:"bg-blue-100 text-blue-800",draft:"bg-gray-100 text-gray-800"})[r]||"bg-gray-100 text-gray-800",_=r=>r?new Date(r).toLocaleDateString("en-US",{month:"short",day:"numeric"}):"Not set",A=r=>{confirm(`Are you sure you want to delete "${r.title}"? This action cannot be undone.`)&&w.delete(route("admin.courses.destroy",r.id))};return $(()=>[a.value.status,a.value.subject,a.value.level],()=>{d()}),(r,t)=>(f(),D(I,null,{default:u(()=>[o(i(M),{title:"Course Management"}),e("div",F,[e("div",P,[e("div",q,[e("div",G,[t[5]||(t[5]=e("div",null,[e("h1",{class:"text-3xl font-bold text-gray-900"},"Course Management"),e("p",{class:"mt-2 text-gray-600"}," Manage all courses and track student progress ")],-1)),o(i(m),{href:r.route("admin.courses.create"),class:"inline-flex items-center px-4 py-2 bg-blue-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-blue-700 focus:bg-blue-700 active:bg-blue-800 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition ease-in-out duration-150"},{default:u(()=>[o(i(k),{class:"h-4 w-4 mr-2"}),t[4]||(t[4]=g(" Create Course ",-1))]),_:1},8,["href"])])]),e("div",H,[e("div",R,[e("div",J,[x(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>a.value.search=s),type:"text",placeholder:"Search courses...",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",onInput:j},null,544),[[N,a.value.search]])]),x(e("select",{"onUpdate:modelValue":t[1]||(t[1]=s=>a.value.status=s),class:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",onChange:d},[...t[6]||(t[6]=[e("option",{value:""},"All Status",-1),e("option",{value:"active"},"Active",-1),e("option",{value:"completed"},"Completed",-1),e("option",{value:"draft"},"Draft",-1)])],544),[[h,a.value.status]]),x(e("select",{"onUpdate:modelValue":t[2]||(t[2]=s=>a.value.subject=s),class:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",onChange:d},[...t[7]||(t[7]=[e("option",{value:""},"All Subjects",-1),e("option",{value:"mathematics"},"Mathematics",-1),e("option",{value:"science"},"Science",-1),e("option",{value:"english"},"English",-1),e("option",{value:"history"},"History",-1)])],544),[[h,a.value.subject]]),x(e("select",{"onUpdate:modelValue":t[3]||(t[3]=s=>a.value.level=s),class:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",onChange:d},[...t[8]||(t[8]=[e("option",{value:""},"All Levels",-1),e("option",{value:"beginner"},"Beginner",-1),e("option",{value:"intermediate"},"Intermediate",-1),e("option",{value:"advanced"},"Advanced",-1),e("option",{value:"expert"},"Expert",-1)])],544),[[h,a.value.level]])])]),e("div",K,[o(v,{title:"Total Courses",value:p.value.total_courses,icon:"academic-cap",color:"blue"},null,8,["value"]),o(v,{title:"Active Courses",value:p.value.active_courses,icon:"chart-bar",color:"green"},null,8,["value"]),o(v,{title:"Completion Rate",value:`${p.value.completion_rate}%`,icon:"trophy",color:"purple"},null,8,["value"]),o(v,{title:"Avg Progress",value:`${p.value.avg_progress}%`,icon:"check-circle",color:"orange"},null,8,["value"])]),e("div",Q,[e("div",W,[e("table",X,[t[11]||(t[11]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Course "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Student "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Subject & Level "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Progress "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Status "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Timeline "),e("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"}," Actions ")])],-1)),e("tbody",Y,[(f(!0),b(B,null,L(c.courses.data,s=>(f(),b("tr",{key:s.id,class:"hover:bg-gray-50 transition-colors duration-150"},[e("td",Z,[e("div",ee,[e("div",te,[o(i(C),{class:"h-6 w-6 text-white"})]),e("div",se,[e("div",oe,l(s.title),1),e("div",ae,l(s.outlines_count)+" modules ",1)])])]),e("td",re,[e("div",le,l(s.student_profile?.user?.name),1),e("div",ie,l(s.student_profile?.user?.email),1)]),e("td",ne,[e("div",de,l(s.subject),1),e("div",ue,l(s.level),1)]),e("td",ce,[e("div",pe,[e("div",me,[e("div",{class:"bg-blue-600 h-2 rounded-full",style:U({width:`${s.progress_percentage||0}%`})},null,4)]),e("span",ge,l(Math.round(s.progress_percentage||0))+"%",1)]),e("div",xe,l(s.completed_outlines_count||0)+"/"+l(s.outlines_count||0)+" completed ",1)]),e("td",fe,[e("span",{class:E(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium capitalize",S(s.status)])},l(s.status||"draft"),3)]),e("td",ve,[e("div",null,"Start: "+l(_(s.start_date)),1),e("div",null,"Target: "+l(_(s.target_completion_date)),1)]),e("td",he,[e("div",be,[o(i(m),{href:r.route("admin.courses.show",s.id),class:"text-blue-600 hover:text-blue-900 transition-colors duration-150"},{default:u(()=>[...t[9]||(t[9]=[g(" View ",-1)])]),_:1},8,["href"]),o(i(m),{href:r.route("admin.courses.edit",s.id),class:"text-indigo-600 hover:text-indigo-900 transition-colors duration-150"},{default:u(()=>[...t[10]||(t[10]=[g(" Edit ",-1)])]),_:1},8,["href"]),e("button",{onClick:Ce=>A(s),class:"text-red-600 hover:text-red-900 transition-colors duration-150"}," Delete ",8,ye)])])]))),128))])])]),c.courses.data.length===0?(f(),b("div",_e,[o(i(C),{class:"mx-auto h-12 w-12 text-gray-400"}),t[13]||(t[13]=e("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"No courses",-1)),t[14]||(t[14]=e("p",{class:"mt-1 text-sm text-gray-500"}," Get started by creating a new course. ",-1)),e("div",we,[o(i(m),{href:r.route("admin.courses.create"),class:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"},{default:u(()=>[o(i(k),{class:"h-4 w-4 mr-2"}),t[12]||(t[12]=g(" New Course ",-1))]),_:1},8,["href"])])])):z("",!0),e("div",ke,[o(O,{links:c.courses.links},null,8,["links"])])])])])]),_:1}))}};export{Pe as default};
