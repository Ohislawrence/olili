import{M as S,c as A,w as f,b as u,a as t,i as c,q as M,y as h,j as n,A as V,f as r,h as x,e as b,o as i,F as g,k as p,t as a,s as v,x as q,z as B}from"./app-BoOyowgZ.js";import{S as I}from"./StudentLayout-CHRD3Tzj.js";import{r as N}from"./ArrowLeftIcon-DsZ3z3Yo.js";import{r as T}from"./ChatBubbleLeftRightIcon-tBm3ExF3.js";import"./XMarkIcon-BXmCmlvh.js";import"./CheckCircleIcon-BCI5GMn9.js";import"./ExclamationTriangleIcon-CGzv8mrI.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./UserIcon-CqLRapDP.js";import"./PlusIcon-MK1-pvbY.js";import"./BellIcon-bDoBAduD.js";import"./CreditCardIcon-Cif1x_gd.js";const G={class:"py-6"},j={class:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8"},$={class:"mb-8"},F={class:"flex items-center gap-3 mb-4"},L={class:"bg-white shadow-sm rounded-xl border border-gray-100"},O={class:"p-6"},Q={class:"mb-6"},U=["value"],z={key:0,class:"mb-6"},D=["label"],E=["value"],H={class:"mb-6"},P={class:"mt-1 text-xs text-gray-500"},R={key:1,class:"mb-6 p-4 bg-emerald-50 rounded-lg border border-emerald-200"},W={class:"text-sm text-emerald-800"},Y={key:0},J={key:1},K={class:"text-emerald-600"},X={key:2},Z={key:3},ee={class:"flex justify-end space-x-3"},te=["disabled"],se={class:"mt-8"},oe={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},ie=["onClick"],re={class:"text-sm font-medium text-gray-900 mb-1"},le={class:"text-xs text-gray-500"},he={__name:"Create",props:{courses:Array,selected_course:Object,selected_outline:Object,available_modules:Array,available_topics:Array},setup(l){const y=l,o=S({course_id:y.selected_course?.id||"",outline_id:y.selected_outline?.id||"",initial_message:""}),_=[{title:"General Learning Help",description:"Get assistance with general learning strategies and study techniques",message:"I'd like some general learning assistance. Can you help me with effective study techniques and learning strategies?"},{title:"Concept Explanation",description:"Ask for explanations of difficult concepts you're struggling with",message:"I'm having trouble understanding a concept. Can you break it down for me with simple examples?"},{title:"Practice Questions",description:"Request practice questions to test your understanding",message:"Can you provide me with some practice questions to test my understanding of this topic?"},{title:"Study Plan Help",description:"Get help creating or optimizing your study schedule",message:"I need help creating an effective study plan. Can you guide me through setting up a productive learning schedule?"}],w=()=>{B.post(route("student.chat.store"),o)},k=()=>{o.outline_id="",o.course_id&&console.log("Course selected:",o.course_id)},C=m=>{o.initial_message=m.message};return(m,e)=>(i(),A(I,null,{default:f(()=>[u(c(M),{title:"Start New Chat"}),t("div",G,[t("div",j,[t("div",$,[t("div",F,[u(c(h),{href:m.route("student.chat.index"),class:"inline-flex items-center text-sm font-medium text-emerald-600 hover:text-emerald-500"},{default:f(()=>[u(c(N),{class:"h-4 w-4 mr-1"}),e[3]||(e[3]=n(" Back to Chats ",-1))]),_:1},8,["href"])]),e[4]||(e[4]=t("h1",{class:"text-2xl font-bold text-gray-900"},"Start New Chat",-1)),e[5]||(e[5]=t("p",{class:"mt-1 text-sm text-gray-600"}," Begin a conversation with your AI tutor about any course or topic ",-1))]),t("div",L,[t("div",O,[t("form",{onSubmit:V(w,["prevent"])},[t("div",Q,[e[7]||(e[7]=t("label",{for:"course_id",class:"block text-sm font-medium text-gray-700 mb-2"}," Course (Optional) ",-1)),b(t("select",{id:"course_id","onUpdate:modelValue":e[0]||(e[0]=s=>o.course_id=s),class:"w-full rounded-lg border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500 py-2.5 px-3",onChange:k},[e[6]||(e[6]=t("option",{value:""},"Select a course...",-1)),(i(!0),r(g,null,p(l.courses,s=>(i(),r("option",{key:s.id,value:s.id},a(s.title),9,U))),128))],544),[[v,o.course_id]]),e[8]||(e[8]=t("p",{class:"mt-1 text-xs text-gray-500"}," Selecting a course helps the AI tutor provide more relevant assistance ",-1))]),l.available_topics.length?(i(),r("div",z,[e[10]||(e[10]=t("label",{for:"outline_id",class:"block text-sm font-medium text-gray-700 mb-2"}," Specific Topic (Optional) ",-1)),b(t("select",{id:"outline_id","onUpdate:modelValue":e[1]||(e[1]=s=>o.outline_id=s),class:"w-full rounded-lg border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500 py-2.5 px-3"},[e[9]||(e[9]=t("option",{value:""},"Select a topic...",-1)),(i(!0),r(g,null,p(l.available_modules,s=>(i(),r("optgroup",{key:s.id,label:`Module ${s.order}: ${s.title}`},[(i(!0),r(g,null,p(s.topics,d=>(i(),r("option",{key:d.id,value:d.id}," Topic "+a(d.order)+": "+a(d.title),9,E))),128))],8,D))),128))],512),[[v,o.outline_id]]),e[11]||(e[11]=t("p",{class:"mt-1 text-xs text-gray-500"}," Focus the conversation on a specific learning topic ",-1))])):x("",!0),t("div",H,[e[12]||(e[12]=t("label",{for:"initial_message",class:"block text-sm font-medium text-gray-700 mb-2"}," Initial Message (Optional) ",-1)),b(t("textarea",{id:"initial_message","onUpdate:modelValue":e[2]||(e[2]=s=>o.initial_message=s),rows:"4",class:"w-full rounded-lg border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500 py-2.5 px-3",placeholder:"What would you like to learn about today? You can ask questions about course content, request explanations, or seek guidance on specific topics..."},null,512),[[q,o.initial_message]]),t("p",P,a(o.initial_message?.length||0)+"/1000 characters ",1)]),l.selected_course||l.selected_outline?(i(),r("div",R,[e[17]||(e[17]=t("h3",{class:"text-sm font-semibold text-emerald-900 mb-2"},"Chat Context",-1)),t("div",W,[l.selected_course?(i(),r("div",Y,[e[13]||(e[13]=t("strong",null,"Course:",-1)),n(" "+a(l.selected_course.title),1)])):x("",!0),l.selected_outline?(i(),r("div",J,[e[14]||(e[14]=t("strong",null,"Topic:",-1)),n(" "+a(l.selected_outline.title)+" ",1),t("span",K," (Module: "+a(l.selected_outline.module?.title)+") ",1)])):l.selected_course&&!o.outline_id?(i(),r("div",X,[...e[15]||(e[15]=[t("strong",null,"Scope:",-1),n(" General course discussion ",-1)])])):(i(),r("div",Z,[...e[16]||(e[16]=[t("strong",null,"Scope:",-1),n(" General learning assistance ",-1)])]))])])):x("",!0),t("div",ee,[u(c(h),{href:m.route("student.chat.index"),class:"inline-flex items-center px-4 py-2.5 text-sm font-medium text-gray-700 bg-white border border-emerald-300 rounded-lg shadow-sm hover:bg-emerald-50 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:ring-offset-2"},{default:f(()=>[...e[18]||(e[18]=[n(" Cancel ",-1)])]),_:1},8,["href"]),t("button",{type:"submit",disabled:o.processing,class:"inline-flex items-center px-4 py-2.5 text-sm font-semibold text-white bg-emerald-600 border border-transparent rounded-lg shadow-sm hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200"},[u(c(T),{class:"h-4 w-4 mr-2"}),n(" "+a(o.processing?"Starting Chat...":"Start Chat"),1)],8,te)])],32)])]),t("div",se,[e[19]||(e[19]=t("h2",{class:"text-lg font-bold text-gray-900 mb-4"},"Quick Start",-1)),t("div",oe,[(i(),r(g,null,p(_,s=>t("button",{key:s.title,onClick:d=>C(s),class:"p-4 bg-white border border-gray-200 rounded-lg shadow-sm hover:shadow-md hover:border-emerald-300 transition-all duration-200 text-left"},[t("h3",re,a(s.title),1),t("p",le,a(s.description),1)],8,ie)),64))])])])])]),_:1}))}};export{he as default};
