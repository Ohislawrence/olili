import{d as m,c as T,w as c,b as r,a as e,i,q as j,f as a,h as x,y as b,j as u,o as l,F as N,k as B,n as p,t as n,B as D,z as _}from"./app-CjRrDu7t.js";import{r as v,A as F}from"./AdminLayout-lAqfI1WG.js";import{_ as f}from"./StatsCard-BeaULg5D.js";import{r as h}from"./PlusIcon-CokqUxK8.js";import{r as M}from"./ArrowPathIcon-Bd4FrN2d.js";import"./XMarkIcon-DlMfZcpJ.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./UserIcon-BpPjWfht.js";import"./UsersIcon-Bi7IRypo.js";import"./ChatBubbleLeftRightIcon-CJWku9_r.js";import"./ChartBarIcon-D1-uH1QN.js";import"./CurrencyDollarIcon-Dta6_xbh.js";import"./EyeIcon-CZSIPZRr.js";import"./CheckCircleIcon-IK-oLfkr.js";import"./TrophyIcon-qBnfkDey.js";import"./SparklesIcon-BaMuV6Ku.js";import"./CreditCardIcon-DYYlT9ST.js";import"./ExclamationTriangleIcon-kmErAba1.js";import"./UserGroupIcon-8FGxIS2E.js";import"./AcademicCapIcon-c9k093Sm.js";const R={class:"py-6"},V={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},z={class:"mb-8"},E={class:"flex justify-between items-center"},L={class:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8"},G={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},K={class:"p-6 border-b border-gray-200"},H={class:"flex items-center justify-between"},J={class:"flex items-center space-x-3"},O={class:"text-lg font-semibold text-gray-900"},Q={class:"text-sm text-gray-500"},U={class:"flex items-center space-x-2"},W={key:0,class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800"},X={class:"p-6 space-y-4"},Y={class:"grid grid-cols-2 gap-4 text-sm"},Z={class:"font-medium text-gray-900"},ee={class:"font-medium text-gray-900"},te={class:"font-medium text-gray-900"},se={class:"font-medium text-gray-900"},oe={class:"space-y-2"},re={class:"flex justify-between text-xs text-gray-500"},ne={class:"w-full bg-gray-200 rounded-full h-2"},ie={class:"px-6 py-4 bg-gray-50 border-t border-gray-200 flex justify-between"},le={class:"flex space-x-2"},ae=["onClick"],de=["onClick"],ce={class:"flex space-x-2"},ue=["onClick"],fe={key:0,class:"text-center py-12 bg-white rounded-lg shadow-sm border border-gray-200"},ge={class:"mt-6"},Be={__name:"Index",props:{providers:Array},setup(d){const g=d,w=m(()=>g.providers.filter(s=>s.is_active).length),k=m(()=>g.providers.reduce((s,t)=>s+(t.total_requests||0),0)),C=m(()=>g.providers.reduce((s,t)=>s+(t.total_cost||0),0)),A=s=>({openai:"bg-green-500",deepseek:"bg-blue-500",anthropic:"bg-purple-500",google:"bg-red-500"})[s]||"bg-gray-500",q=s=>{const t=s.total_requests>0?s.successful_requests/s.total_requests*100:0;return t>=90?"bg-green-500":t>=70?"bg-yellow-500":"bg-red-500"},$=s=>s?s>=1e6?(s/1e6).toFixed(1)+"M":s>=1e3?(s/1e3).toFixed(1)+"K":s.toString():"0",I=async s=>{try{const o=await(await fetch(route("admin.ai-providers.test-connection",s.id))).json();o.success?alert("Connection test successful!"):alert(`Connection test failed: ${o.message}`)}catch(t){alert("Connection test failed: "+t.message)}},P=s=>{confirm(`Are you sure you want to ${s.is_active?"deactivate":"activate"} ${s.name}?`)&&_.patch(route("admin.ai-providers.toggle-active",s.id))},S=s=>{confirm(`Set ${s.name} as the default AI provider?`)&&_.patch(route("admin.ai-providers.set-default",s.id))};return(s,t)=>(l(),T(F,null,{default:c(()=>[r(i(j),{title:"AI Providers Management"}),e("div",R,[e("div",V,[e("div",z,[e("div",E,[t[1]||(t[1]=e("div",null,[e("h1",{class:"text-3xl font-bold text-gray-900"},"AI Providers"),e("p",{class:"mt-2 text-gray-600"}," Manage AI service providers and monitor usage ")],-1)),r(i(b),{href:s.route("admin.ai-providers.create"),class:"inline-flex items-center px-4 py-2 bg-blue-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-blue-700 focus:bg-blue-700 active:bg-blue-800 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition ease-in-out duration-150"},{default:c(()=>[r(i(h),{class:"h-4 w-4 mr-2"}),t[0]||(t[0]=u(" Add Provider ",-1))]),_:1},8,["href"])])]),e("div",L,[r(f,{title:"Total Providers",value:d.providers.length,icon:"cpu-chip",color:"blue"},null,8,["value"]),r(f,{title:"Active Providers",value:w.value,icon:"check-circle",color:"green"},null,8,["value"]),r(f,{title:"Total Requests",value:k.value,icon:"chart-bar",color:"purple"},null,8,["value"]),r(f,{title:"Total Cost",value:`$${C.value}`,icon:"currency-dollar",color:"orange"},null,8,["value"])]),e("div",G,[(l(!0),a(N,null,B(d.providers,o=>(l(),a("div",{key:o.id,class:"bg-white rounded-lg shadow-sm border border-gray-200 hover:shadow-md transition-shadow duration-200"},[e("div",K,[e("div",H,[e("div",J,[e("div",{class:p(["w-10 h-10 rounded-lg flex items-center justify-center text-white",A(o.code)])},[r(i(v),{class:"h-6 w-6"})],2),e("div",null,[e("h3",O,n(o.name),1),e("p",Q,n(o.code),1)])]),e("div",U,[o.is_default?(l(),a("span",W," Default ")):x("",!0),e("span",{class:p(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",o.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"])},n(o.is_active?"Active":"Inactive"),3)])])]),e("div",X,[e("div",Y,[e("div",null,[t[2]||(t[2]=e("p",{class:"text-gray-500"},"Models",-1)),e("p",Z,n(o.available_models?.length||0),1)]),e("div",null,[t[3]||(t[3]=e("p",{class:"text-gray-500"},"Success Rate",-1)),e("p",ee,n(o.total_requests>0?Math.round(o.successful_requests/o.total_requests*100):0)+"% ",1)]),e("div",null,[t[4]||(t[4]=e("p",{class:"text-gray-500"},"Total Tokens",-1)),e("p",te,n($(o.total_tokens)),1)]),e("div",null,[t[5]||(t[5]=e("p",{class:"text-gray-500"},"Total Cost",-1)),e("p",se," $"+n(o.total_cost||0),1)])]),e("div",oe,[e("div",re,[e("span",null,"Success: "+n(o.successful_requests||0),1),e("span",null,"Failed: "+n(o.failed_requests||0),1)]),e("div",ne,[e("div",{class:p(["h-2 rounded-full transition-all duration-300",q(o)]),style:D({width:`${o.total_requests>0?o.successful_requests/o.total_requests*100:0}%`})},null,6)])])]),e("div",ie,[e("div",le,[e("button",{onClick:y=>I(o),class:"inline-flex items-center px-3 py-1.5 border border-gray-300 text-xs font-medium rounded text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"},[r(i(M),{class:"h-3 w-3 mr-1"}),t[6]||(t[6]=u(" Test ",-1))],8,ae),e("button",{onClick:y=>P(o),class:"inline-flex items-center px-3 py-1.5 border border-gray-300 text-xs font-medium rounded text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"},n(o.is_active?"Deactivate":"Activate"),9,de)]),e("div",ce,[r(i(b),{href:s.route("admin.ai-providers.edit",o.id),class:"inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded text-blue-700 bg-blue-100 hover:bg-blue-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"},{default:c(()=>[...t[7]||(t[7]=[u(" Edit ",-1)])]),_:1},8,["href"]),o.is_default?x("",!0):(l(),a("button",{key:0,onClick:y=>S(o),class:"inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded text-yellow-700 bg-yellow-100 hover:bg-yellow-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-yellow-500"}," Set Default ",8,ue))])])]))),128))]),d.providers.length===0?(l(),a("div",fe,[r(i(v),{class:"mx-auto h-12 w-12 text-gray-400"}),t[9]||(t[9]=e("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"No AI providers",-1)),t[10]||(t[10]=e("p",{class:"mt-1 text-sm text-gray-500"}," Get started by adding your first AI provider. ",-1)),e("div",ge,[r(i(b),{href:s.route("admin.ai-providers.create"),class:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"},{default:c(()=>[r(i(h),{class:"h-4 w-4 mr-2"}),t[8]||(t[8]=u(" Add Provider ",-1))]),_:1},8,["href"])])])):x("",!0)])])]),_:1}))}};export{Be as default};
