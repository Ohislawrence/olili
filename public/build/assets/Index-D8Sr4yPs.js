import{r as V,c as p,w as c,b as o,a as e,h as l,p as S,x as f,i as a,e as v,s as T,q as B,f as d,g as h,o as i,F as y,j as w,t as r,n as _,y as F}from"./app-9iTwA3vC.js";import{A as N}from"./AdminLayout-BNATRJWW.js";import{r as P}from"./PlusIcon-B5yWEhlc.js";import{a as A,r as L}from"./XMarkIcon-DR50bQrw.js";import{r as M}from"./ClockIcon-DtrScC2X.js";import"./DropdownLink-BJxGAADP.js";import"./NavLink-CVNpfdyq.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./UsersIcon-Dq-ijHz8.js";import"./ChatBubbleLeftRightIcon-B5E4Bl1m.js";import"./ChartBarIcon-DGOEscCD.js";import"./CurrencyDollarIcon-BD-2biuk.js";import"./EyeIcon-DsHcOT47.js";const U={class:"py-6"},$={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},z={class:"md:flex md:items-center md:justify-between mb-6"},D={class:"mt-4 md:mt-0 md:ml-4"},E={class:"bg-white shadow rounded-lg p-4 mb-6"},H={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},I={class:"bg-white shadow overflow-hidden sm:rounded-md"},O={class:"divide-y divide-gray-200"},q={class:"px-4 py-4 sm:px-6"},R={class:"flex items-center justify-between"},G={class:"flex-1 min-w-0"},J={class:"flex items-center"},K={class:"flex-shrink-0 h-16 w-16 mr-4"},Q=["src","alt"],W={key:1,class:"h-16 w-16 rounded-lg bg-gradient-to-br from-emerald-100 to-teal-100 flex items-center justify-center"},X={class:"flex items-center"},Y={class:"text-lg font-medium text-gray-900 truncate"},Z={class:"mt-1"},ee={class:"text-sm text-gray-600"},te={class:"flex items-center mt-1"},se={class:"text-sm text-gray-500"},re={key:0},le={class:"text-sm text-gray-500"},ie={class:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-2"},oe={key:0,class:"bg-white px-4 py-3 border-t border-gray-200 sm:px-6"},ae={class:"flex justify-between"},ne={class:"text-sm text-gray-700"},de={class:"font-medium"},me={class:"font-medium"},ue={class:"font-medium"},ce={class:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination"},Ve={__name:"Index",props:{courses:Object,filters:Object},setup(n){const x=n,m=V({search:x.filters.search||"",visibility:x.filters.visibility||""});let b=null;const k=()=>{clearTimeout(b),b=setTimeout(()=>{g()},300)},g=()=>{F.get(route("admin.catalog.courses.index"),m.value,{preserveState:!0,replace:!0})},C=()=>{m.value={search:"",visibility:""},g()},j=u=>({public:"bg-green-100 text-green-800",private:"bg-gray-100 text-gray-800",unlisted:"bg-yellow-100 text-yellow-800"})[u]||"bg-gray-100 text-gray-800";return(u,t)=>(i(),p(N,null,{default:c(()=>[o(l(S),{title:"Admin Courses"}),e("div",U,[e("div",$,[e("div",z,[t[3]||(t[3]=e("div",{class:"flex-1 min-w-0"},[e("h2",{class:"text-2xl font-bold leading-7 text-gray-900 sm:text-3xl sm:truncate"}," Public Courses "),e("p",{class:"mt-1 text-sm text-gray-500"}," Create and manage courses for students to enroll in ")],-1)),e("div",D,[o(l(f),{href:u.route("admin.catalog.courses.create"),class:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-emerald-600 hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500"},{default:c(()=>[o(l(P),{class:"h-4 w-4 mr-2"}),t[2]||(t[2]=a(" Create Course ",-1))]),_:1},8,["href"])])]),e("div",E,[e("div",H,[e("div",null,[t[4]||(t[4]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Search",-1)),v(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>m.value.search=s),type:"text",placeholder:"Search courses...",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500 sm:text-sm",onInput:k},null,544),[[T,m.value.search]])]),e("div",null,[t[6]||(t[6]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Visibility",-1)),v(e("select",{"onUpdate:modelValue":t[1]||(t[1]=s=>m.value.visibility=s),class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500 sm:text-sm",onChange:g},[...t[5]||(t[5]=[e("option",{value:""},"All",-1),e("option",{value:"public"},"Public",-1),e("option",{value:"private"},"Private",-1),e("option",{value:"unlisted"},"Unlisted",-1)])],544),[[B,m.value.visibility]])]),e("div",{class:"flex items-end"},[e("button",{onClick:C,class:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500"}," Reset Filters ")])])]),e("div",I,[e("ul",O,[(i(!0),d(y,null,w(n.courses.data,s=>(i(),d("li",{key:s.id},[e("div",q,[e("div",R,[e("div",G,[e("div",J,[e("div",K,[s.thumbnail_url?(i(),d("img",{key:0,src:s.thumbnail_url,alt:s.title,class:"h-16 w-16 rounded-lg object-cover"},null,8,Q)):(i(),d("div",W,[o(l(A),{class:"h-8 w-8 text-emerald-600"})]))]),e("div",null,[e("div",X,[e("h3",Y,r(s.title),1),e("span",{class:_([j(s.visibility),"ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium"])},r(s.visibility),3)]),e("div",Z,[e("p",ee,r(s.subject)+" • "+r(s.level),1),e("div",te,[o(l(L),{class:"h-4 w-4 text-gray-400 mr-1"}),e("span",se,[a(r(s.current_enrollment)+" enrolled ",1),s.enrollment_limit?(i(),d("span",re," / "+r(s.enrollment_limit)+" max ",1)):h("",!0)]),t[7]||(t[7]=e("span",{class:"mx-2"},"•",-1)),o(l(M),{class:"h-4 w-4 text-gray-400 mr-1"}),e("span",le,r(s.estimated_duration_hours)+" hours ",1)])])])])]),e("div",ie,[o(l(f),{href:u.route("admin.catalog.courses.show",s.id),class:"inline-flex items-center px-3 py-1 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500"},{default:c(()=>[...t[8]||(t[8]=[a(" View ",-1)])]),_:1},8,["href"]),o(l(f),{href:u.route("admin.catalog.courses.edit",s.id),class:"inline-flex items-center px-3 py-1 border border-transparent text-sm leading-4 font-medium rounded-md text-emerald-700 bg-emerald-100 hover:bg-emerald-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500"},{default:c(()=>[...t[9]||(t[9]=[a(" Edit ",-1)])]),_:1},8,["href"])])])])]))),128))]),n.courses.links.length>3?(i(),d("div",oe,[e("div",ae,[e("div",null,[e("p",ne,[t[10]||(t[10]=a(" Showing ",-1)),e("span",de,r(n.courses.from),1),t[11]||(t[11]=a(" to ",-1)),e("span",me,r(n.courses.to),1),t[12]||(t[12]=a(" of ",-1)),e("span",ue,r(n.courses.total),1),t[13]||(t[13]=a(" results ",-1))])]),e("div",null,[e("nav",ce,[(i(!0),d(y,null,w(n.courses.links,s=>(i(),p(l(f),{key:s.label,href:s.url,"preserve-scroll":"",class:_(["relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50",{"bg-emerald-50 border-emerald-500 text-emerald-600":s.active,"rounded-l-md":s.label==="« Previous","rounded-r-md":s.label==="Next »"}]),innerHTML:s.label},null,8,["href","class","innerHTML"]))),128))])])])])):h("",!0)])])])]),_:1}))}};export{Ve as default};
