import{N as V,f as r,a as e,b as n,g as w,w as u,h as a,x as c,i as x,t as i,n as T,F as v,j as C,c as $,o as l,r as P,d as U,m as q,p as M,e as _,B as N,s as I,q as A,y as O}from"./app-Du3ti5G-.js";import{A as F}from"./GuestLayout-ubocBn5F.js";import{_ as R}from"./MetaTags-pnXU-WfF.js";import{_ as z}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{r as L}from"./HeartIcon-DwW6aedw.js";import{r as S}from"./ChatBubbleLeftRightIcon-DEXvgE9q.js";import{r as D}from"./EyeIcon-xiioeOEu.js";import{_ as J}from"./Pagination-BZ9XOWeG.js";import{r as j}from"./PencilSquareIcon-A1E4ZWQM.js";import{r as K}from"./LockClosedIcon-Z82D1Xvv.js";const E={class:"bg-white rounded-2xl p-6 shadow-sm hover:shadow-xl transition-all duration-300 border border-gray-100"},Q={class:"flex items-start justify-between mb-4"},G={class:"flex items-center space-x-3"},H=["src","alt"],W={class:"flex items-center space-x-2"},X={class:"text-sm text-gray-500"},Y={key:0,class:"text-emerald-600"},Z={class:"text-xl font-bold text-gray-900 mb-3 hover:text-emerald-700 transition-colors"},ee={class:"text-gray-700 mb-4 line-clamp-3"},te={key:0,class:"mb-4"},se={class:"flex flex-wrap gap-2"},oe={class:"flex items-center justify-between pt-4 border-t border-gray-100"},le={class:"flex items-center space-x-6"},re={class:"flex items-center space-x-2 text-gray-500"},ne={class:"flex items-center space-x-4"},ae={__name:"PostCard",props:{post:Object},setup(s){const k=V(),h=s;function g(){k.props.auth.user||(typeof window.showLoginModal=="function"?window.showLoginModal():window.location.href="/login?redirect="+encodeURIComponent(window.location.pathname))}const m={discussion:"bg-blue-100 text-blue-800",question:"bg-purple-100 text-purple-800",achievement:"bg-emerald-100 text-emerald-800",resource:"bg-amber-100 text-amber-800"},b=ref(!1);function f(){b.value?router.delete(route("community.posts.unlike",h.post.id)):router.post(route("community.posts.like",h.post.id)),b.value=!b.value}return(p,y)=>(l(),r("div",E,[e("div",Q,[e("div",G,[n(a(c),{href:p.route("community.profile.show",s.post.user.id)},{default:u(()=>[e("img",{src:s.post.user.profile_photo_url,alt:s.post.user.name,class:"w-10 h-10 rounded-full"},null,8,H)]),_:1},8,["href"]),e("div",null,[e("div",W,[n(a(c),{href:p.route("community.profile.show",s.post.user.id),class:"font-bold text-gray-900 hover:text-emerald-700"},{default:u(()=>[x(i(s.post.user.name),1)]),_:1},8,["href"]),e("span",{class:T(["inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium",m[s.post.type]])},i(s.post.type),3)]),e("p",X,i(s.post.time_ago),1)])]),s.post.is_pinned?(l(),r("div",Y,[...y[0]||(y[0]=[e("span",{class:"text-xs font-medium px-2 py-1 bg-emerald-100 rounded-full"},"ðŸ“Œ Pinned",-1)])])):w("",!0)]),n(a(c),{href:p.route("community.posts.show",s.post.id)},{default:u(()=>[e("h3",Z,i(s.post.title),1),e("p",ee,i(s.post.excerpt),1)]),_:1},8,["href"]),s.post.tags&&s.post.tags.length>0?(l(),r("div",te,[e("div",se,[(l(!0),r(v,null,C(s.post.tags,d=>(l(),r("span",{key:d,class:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-800"},i(d),1))),128))])])):w("",!0),e("div",oe,[e("div",le,[p.$page.props.auth.user?(l(),r("button",{key:0,onClick:f,class:"flex items-center space-x-2 text-gray-500 hover:text-emerald-600 transition-colors"},[n(a(L),{class:T(["h-5 w-5",a(b)?"text-red-500 fill-current":""])},null,8,["class"]),e("span",null,i(s.post.like_count)+" likes",1)])):(l(),r("div",{key:1,onClick:g,class:"flex items-center space-x-2 text-gray-500 cursor-pointer hover:text-emerald-600 transition-colors"},[n(a(L),{class:"h-5 w-5"}),e("span",null,i(s.post.like_count)+" likes",1)])),n(a(c),{href:p.route("community.posts.show",s.post.id),class:"flex items-center space-x-2 text-gray-500 hover:text-emerald-600 transition-colors"},{default:u(()=>[n(a(S),{class:"h-5 w-5"}),e("span",null,i(s.post.comment_count)+" comments",1)]),_:1},8,["href"]),e("div",re,[n(a(D),{class:"h-5 w-5"}),e("span",null,i(s.post.views)+" views",1)])]),e("div",ne,[s.post.course?(l(),$(a(c),{key:0,href:p.route("courses.show",s.post.course.id),class:"text-sm text-emerald-600 hover:text-emerald-700 font-medium"},{default:u(()=>[x(i(s.post.course.title),1)]),_:1},8,["href"])):w("",!0),n(a(c),{href:p.route("community.posts.show",s.post.id),class:"text-sm text-gray-600 hover:text-emerald-700 font-medium"},{default:u(()=>[...y[1]||(y[1]=[x(" Read more â†’ ",-1)])]),_:1},8,["href"])])])]))}},B=z(ae,[["__scopeId","data-v-a42534d3"]]),ie={class:"relative py-16 bg-gradient-to-br from-emerald-600 to-teal-600 text-white overflow-hidden"},de={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10"},ue={class:"text-center"},me={class:"max-w-2xl mx-auto"},ce={class:"relative"},pe={class:"py-12 bg-gradient-to-br from-slate-50 to-emerald-50"},xe={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},fe={class:"grid grid-cols-1 lg:grid-cols-4 gap-8"},he={class:"lg:col-span-1 space-y-6"},ge={class:"bg-white rounded-2xl p-6 shadow-sm"},be={class:"space-y-3"},ye={class:"bg-white rounded-2xl p-6 shadow-sm"},ve={class:"space-y-4"},we=["src","alt"],ke={class:"flex-1 min-w-0"},Ce={class:"text-xs text-gray-500"},$e={class:"bg-white rounded-2xl p-6 shadow-sm"},Pe={class:"flex flex-wrap gap-2"},_e=["onClick"],Te={class:"lg:col-span-3"},Ae={key:0,class:"mb-8"},Le={class:"space-y-4"},je={class:"text-2xl font-bold text-gray-900 mb-4"},Be={key:0,class:"text-center py-12"},Se={class:"text-gray-400 mb-4"},Ve={key:1,class:"space-y-4"},Ue={key:2,class:"mt-8"},qe={key:0,class:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4"},Me={class:"bg-white rounded-2xl p-8 max-w-md w-full"},Ne={class:"text-center mb-6"},Ie={class:"w-16 h-16 mx-auto mb-4 rounded-full bg-emerald-100 flex items-center justify-center"},Oe={class:"space-y-4"},Xe={__name:"Index",props:{posts:Object,topUsers:Array,popularTags:Array,filters:Object},setup(s){const k=P(!1),h=s,g=P(h.filters.search||""),m=P({type:h.filters.type||"all",sort:h.filters.sort||"recent"}),b=U(()=>h.posts.data.filter(d=>d.is_pinned));function f(){O.get(route("community.index"),{...m.value,search:g.value})}function p(d){g.value=d,f()}let y;return q(g,d=>{clearTimeout(y),y=setTimeout(()=>{f()},500)}),(d,t)=>(l(),r(v,null,[n(R,{title:"Community - Olilearn",description:"Join the Olilearn community to connect with learners, share achievements, and discuss AI-powered courses.",image:"/images/community.png"}),n(F,null,{default:u(()=>[n(a(M),{title:"Community - Connect, Share, Learn"}),e("section",ie,[t[8]||(t[8]=e("div",{class:"absolute inset-0"},[e("div",{class:"absolute top-10 left-10 w-20 h-20 bg-white/10 rounded-full animate-pulse-slow"}),e("div",{class:"absolute top-1/4 right-20 w-32 h-32 bg-white/5 rounded-full animate-float"}),e("div",{class:"absolute bottom-20 left-1/3 w-24 h-24 bg-white/10 rounded-full animate-bounce-slow"})],-1)),e("div",de,[e("div",ue,[t[5]||(t[5]=e("div",{class:"inline-flex items-center px-4 py-2 rounded-full bg-white/20 backdrop-blur-sm border border-white/30 text-white text-sm font-medium mb-6"},[e("span",{class:"w-2 h-2 bg-white rounded-full mr-2 animate-pulse"}),x(" Connect & Learn Together ")],-1)),t[6]||(t[6]=e("h1",{class:"text-4xl md:text-6xl font-bold mb-6 leading-tight"},[e("span",{class:"block bg-gradient-to-r from-white to-emerald-200 bg-clip-text text-transparent"}," Community ")],-1)),t[7]||(t[7]=e("p",{class:"text-xl md:text-2xl mb-8 text-emerald-100 max-w-3xl mx-auto"}," Share your journey, ask questions, and connect with other learners. ",-1)),e("div",me,[e("div",ce,[_(e("input",{"onUpdate:modelValue":t[0]||(t[0]=o=>g.value=o),onKeyup:N(f,["enter"]),type:"text",placeholder:"Search discussions, questions, or resources...",class:"w-full px-6 py-4 rounded-2xl bg-white/10 backdrop-blur-sm border border-white/30 text-white placeholder-emerald-200 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-transparent"},null,544),[[I,g.value]]),e("button",{onClick:f,class:"absolute right-2 top-1/2 transform -translate-y-1/2 bg-white text-emerald-700 px-6 py-2 rounded-xl font-medium hover:bg-emerald-50 transition-colors"}," Search ")])])])])]),e("section",pe,[e("div",xe,[e("div",fe,[e("div",he,[d.$page.props.auth.user?(l(),$(a(c),{key:0,href:d.route("community.profile.followers",2),class:"block w-full bg-gradient-to-r from-emerald-600 to-teal-600 text-white px-6 py-4 rounded-2xl font-bold text-center hover:from-emerald-700 hover:to-teal-700 transform transition-all duration-300 hover:scale-105 shadow-lg hover:shadow-xl"},{default:u(()=>[n(a(j),{class:"h-5 w-5 inline mr-2"}),t[9]||(t[9]=x(" Create Post ",-1))]),_:1},8,["href"])):(l(),r("div",{key:1,class:"block w-full bg-gradient-to-r from-emerald-600 to-teal-600 text-white px-6 py-4 rounded-2xl font-bold text-center relative group cursor-pointer",onClick:t[1]||(t[1]=o=>k.value=!0)},[n(a(j),{class:"h-5 w-5 inline mr-2"}),t[10]||(t[10]=x(" Create Post ",-1)),t[11]||(t[11]=e("div",{class:"absolute inset-0 bg-black/20 opacity-0 group-hover:opacity-100 rounded-2xl transition-opacity"},null,-1))])),e("div",ge,[t[16]||(t[16]=e("h3",{class:"text-lg font-bold text-gray-900 mb-4"},"Filters",-1)),e("div",be,[e("div",null,[t[13]||(t[13]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Post Type",-1)),_(e("select",{"onUpdate:modelValue":t[2]||(t[2]=o=>m.value.type=o),onChange:f,class:"w-full px-4 py-2 rounded-xl border border-gray-300 focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500"},[...t[12]||(t[12]=[e("option",{value:"all"},"All Posts",-1),e("option",{value:"discussion"},"Discussions",-1),e("option",{value:"question"},"Questions",-1),e("option",{value:"achievement"},"Achievements",-1),e("option",{value:"resource"},"Resources",-1)])],544),[[A,m.value.type]])]),e("div",null,[t[15]||(t[15]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Sort By",-1)),_(e("select",{"onUpdate:modelValue":t[3]||(t[3]=o=>m.value.sort=o),onChange:f,class:"w-full px-4 py-2 rounded-xl border border-gray-300 focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500"},[...t[14]||(t[14]=[e("option",{value:"recent"},"Most Recent",-1),e("option",{value:"popular"},"Most Popular",-1)])],544),[[A,m.value.sort]])])])]),e("div",ye,[t[17]||(t[17]=e("h3",{class:"text-lg font-bold text-gray-900 mb-4"},"Top Contributors",-1)),e("div",ve,[(l(!0),r(v,null,C(s.topUsers,o=>(l(),r("div",{key:o.id,class:"flex items-center space-x-3 p-3 hover:bg-emerald-50 rounded-xl transition-colors"},[e("img",{src:o.profile_photo_url,alt:o.name,class:"w-10 h-10 rounded-full"},null,8,we),e("div",ke,[n(a(c),{href:d.route("community.profile.show",o.id),class:"text-sm font-medium text-gray-900 hover:text-emerald-700 truncate"},{default:u(()=>[x(i(o.name),1)]),_:2},1032,["href"]),e("p",Ce,i(o.community_posts_count)+" posts",1)])]))),128))])]),e("div",$e,[t[18]||(t[18]=e("h3",{class:"text-lg font-bold text-gray-900 mb-4"},"Popular Tags",-1)),e("div",Pe,[(l(!0),r(v,null,C(s.popularTags,o=>(l(),r("span",{key:o,class:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-emerald-100 text-emerald-800 hover:bg-emerald-200 cursor-pointer",onClick:Fe=>p(o)},i(o),9,_e))),128))])])]),e("div",Te,[b.value.length>0?(l(),r("div",Ae,[t[19]||(t[19]=e("h2",{class:"text-2xl font-bold text-gray-900 mb-4"},"ðŸ“Œ Pinned Posts",-1)),e("div",Le,[(l(!0),r(v,null,C(b.value,o=>(l(),$(B,{key:o.id,post:o},null,8,["post"]))),128))])])):w("",!0),e("div",null,[e("h2",je,i(m.value.type==="all"?"All Posts":m.value.type.charAt(0).toUpperCase()+m.value.type.slice(1)),1),s.posts.data.length===0?(l(),r("div",Be,[e("div",Se,[n(a(S),{class:"h-16 w-16 mx-auto"})]),t[20]||(t[20]=e("h3",{class:"text-lg font-medium text-gray-900 mb-2"},"No posts found",-1)),t[21]||(t[21]=e("p",{class:"text-gray-600"},"Be the first to start a discussion!",-1))])):(l(),r("div",Ve,[(l(!0),r(v,null,C(s.posts.data,o=>(l(),$(B,{key:o.id,post:o},null,8,["post"]))),128))])),s.posts.links?(l(),r("div",Ue,[n(J,{links:s.posts.links},null,8,["links"])])):w("",!0)])])])])]),k.value?(l(),r("div",qe,[e("div",Me,[e("div",Ne,[e("div",Ie,[n(a(K),{class:"h-8 w-8 text-emerald-600"})]),t[22]||(t[22]=e("h3",{class:"text-xl font-bold text-gray-900 mb-2"},"Join the Conversation",-1)),t[23]||(t[23]=e("p",{class:"text-gray-600"}," Sign in to create posts, like content, and connect with other learners. ",-1))]),e("div",Oe,[n(a(c),{href:d.route("login"),class:"block w-full bg-gradient-to-r from-emerald-600 to-teal-600 text-white px-6 py-3 rounded-xl font-bold text-center hover:from-emerald-700 hover:to-teal-700"},{default:u(()=>[...t[24]||(t[24]=[x(" Sign In ",-1)])]),_:1},8,["href"]),n(a(c),{href:d.route("register"),class:"block w-full border-2 border-emerald-600 text-emerald-600 px-6 py-3 rounded-xl font-bold text-center hover:bg-emerald-50"},{default:u(()=>[...t[25]||(t[25]=[x(" Create Account ",-1)])]),_:1},8,["href"]),e("button",{onClick:t[4]||(t[4]=o=>k.value=!1),class:"block w-full text-gray-600 hover:text-gray-800 px-6 py-3"}," Continue Browsing ")])])])):w("",!0)]),_:1})],64))}};export{Xe as default};
