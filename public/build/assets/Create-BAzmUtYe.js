import{O as V,d as P,m as z,c as S,w as _,b as r,a as e,h as i,p as q,x as $,i as d,f as n,o as l,F as g,j as p,n as y,k as D,t as m,z as R,g as v,e as w,q as j,s as E,y as U}from"./app-9iTwA3vC.js";import{S as L}from"./StudentLayout-CG3ayj3X.js";import{_ as Q}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{r as W}from"./ArrowLeftIcon-BfYZPnun.js";import{r as f}from"./ChatBubbleLeftRightIcon-B5E4Bl1m.js";import{r as Y}from"./BoltIcon-lQdJMmBM.js";import{a as k}from"./XMarkIcon-DR50bQrw.js";import{r as A}from"./LightBulbIcon-x1Au5svD.js";import{r as x}from"./AcademicCapIcon-BcrHGEuI.js";import{r as B}from"./ChevronDownIcon-BP3cur1W.js";import{r as H}from"./InformationCircleIcon-BC7EG6Si.js";import{r as T}from"./GlobeAltIcon-BVpAJ1FW.js";import{r as h}from"./CheckIcon-iE0RO-f_.js";import"./DropdownLink-BJxGAADP.js";import"./NavLink-CVNpfdyq.js";import"./CheckCircleIcon-gOQAQdUW.js";import"./SparklesIcon-Vg7orskU.js";import"./transition-BH8B5sua.js";import"./UserCircleIcon-yAE3agds.js";import"./BellIcon-CKLl074K.js";import"./CreditCardIcon-BSp36FxJ.js";const J={class:"py-6"},K={class:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8"},X={class:"mb-8 text-center"},Z={class:"flex items-center justify-center gap-3 mb-4"},O={class:"flex items-center justify-center mb-4"},ee={class:"h-16 w-16 bg-gradient-to-r from-emerald-500 to-teal-500 rounded-full flex items-center justify-center shadow-lg"},te={class:"grid grid-cols-1 lg:grid-cols-3 gap-8"},se={class:"lg:col-span-1"},oe={class:"bg-white rounded-xl shadow-sm border border-gray-100 sticky top-6"},re={class:"p-6"},ie={class:"text-lg font-bold text-gray-900 mb-4 flex items-center"},le={class:"space-y-3"},ne=["onClick"],ae={class:"flex items-start space-x-3"},de={class:"flex-shrink-0 h-8 w-8 bg-emerald-100 rounded-lg flex items-center justify-center group-hover:bg-emerald-200 transition-colors"},ce={class:"flex-1"},me={class:"text-sm font-semibold text-gray-900 mb-1"},ue={class:"text-xs text-gray-500 leading-relaxed"},ge={class:"mt-6 pt-6 border-t border-gray-200"},pe={class:"space-y-2"},fe=["onClick"],xe={class:"truncate"},he={class:"lg:col-span-2"},be={class:"bg-white shadow-sm rounded-xl border border-gray-100"},_e={class:"p-6"},ye={class:"mb-6"},ve={for:"course_id",class:"block text-sm font-medium text-gray-700 mb-3"},we={class:"flex items-center"},ke={class:"relative"},Ce=["value"],Se={class:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none"},$e={key:0,class:"mb-6"},je={for:"outline_id",class:"block text-sm font-medium text-gray-700 mb-3"},Ae={class:"flex items-center"},Be={class:"relative"},Te=["label"],Fe=["value"],Ge={class:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none"},Ie={class:"mb-6"},Me={for:"initial_message",class:"block text-sm font-medium text-gray-700 mb-3"},Ne={class:"flex items-center"},Ve={class:"relative"},Pe={class:"absolute bottom-3 right-3"},ze={key:1,class:"mb-6 p-4 bg-gradient-to-r from-emerald-50 to-teal-50 rounded-lg border border-emerald-200"},qe={class:"text-sm font-semibold text-emerald-900 mb-3 flex items-center"},De={class:"space-y-2 text-sm text-emerald-800"},Re={key:0,class:"flex items-center"},Ee={key:1,class:"flex items-center"},Ue={class:"text-emerald-600 ml-2"},Le={key:2,class:"flex items-center"},Qe={key:3,class:"flex items-center"},We={class:"flex justify-end space-x-3 pt-4 border-t border-gray-200"},Ye=["disabled"],He={class:"mt-6 bg-blue-50 rounded-xl border border-blue-200 p-6"},Je={class:"text-sm font-semibold text-blue-900 mb-3 flex items-center"},Ke={class:"text-sm text-blue-800 space-y-2"},Xe={class:"flex items-start"},Ze={class:"flex items-start"},Oe={class:"flex items-start"},et={class:"flex items-start"},tt={__name:"Create",props:{courses:Array,selected_course:Object,selected_outline:Object,available_modules:Array,available_topics:Array},setup(c){const b=c,s=V({course_id:b.selected_course?.id||null,outline_id:b.selected_outline?.id||null,initial_message:"",processing:!1}),F=P(()=>b.courses.slice(0,3)),G=[{title:"Concept Explanation",description:"Get clear explanations of difficult topics",message:"I'm having trouble understanding this concept. Can you break it down for me with simple examples and analogies?",icon:k},{title:"Study Strategy",description:"Get personalized study techniques and plans",message:"I need help developing an effective study strategy for this course. What learning methods would work best for this material?",icon:A},{title:"Practice Problems",description:"Request exercises to test your understanding",message:"Can you provide me with some practice problems or exercises to test my understanding of this topic? Please include explanations for the solutions.",icon:x},{title:"Project Guidance",description:"Get help with assignments and projects",message:"I'm working on a project/assignment and need guidance on the best approach. Can you help me break down the requirements and suggest a plan?",icon:f}],I=async()=>{if(!(s.initial_message.length>1e3)){s.processing=!0;try{const a={course_id:s.course_id||null,outline_id:s.outline_id||null,initial_message:s.initial_message||null};console.log("Submitting form data:",a),await U.post(route("student.chat.store"),a,{onError:t=>{console.error("Form submission errors:",t),s.processing=!1},onFinish:()=>{s.processing=!1}})}catch(a){console.error("Form submission failed:",a),s.processing=!1}}},C=()=>{s.outline_id=null,s.course_id&&console.log("Course selected:",s.course_id)},M=a=>{s.initial_message=a.message},N=a=>{s.course_id=a.id,C()};return z(s,a=>{console.log("Form updated:",a)},{deep:!0}),(a,t)=>(l(),S(L,null,{default:_(()=>[r(i(q),{title:"Start New Chat"}),e("div",J,[e("div",K,[e("div",X,[e("div",Z,[r(i($),{href:a.route("student.chat.index"),class:"inline-flex items-center text-sm font-medium text-emerald-600 hover:text-emerald-500 transition-colors"},{default:_(()=>[r(i(W),{class:"h-4 w-4 mr-1"}),t[3]||(t[3]=d(" Back to Chats ",-1))]),_:1},8,["href"])]),e("div",O,[e("div",ee,[r(i(f),{class:"h-8 w-8 text-white"})])]),t[4]||(t[4]=e("h1",{class:"text-3xl font-bold text-gray-900 mb-3"},"Start New Chat with AI Tutor",-1)),t[5]||(t[5]=e("p",{class:"text-lg text-gray-600 max-w-2xl mx-auto"}," Begin an intelligent conversation about your courses. Get personalized explanations, study help, and learning guidance. ",-1))]),e("div",te,[e("div",se,[e("div",oe,[e("div",re,[e("h2",ie,[r(i(Y),{class:"h-5 w-5 text-amber-500 mr-2"}),t[6]||(t[6]=d(" Quick Start ",-1))]),t[8]||(t[8]=e("p",{class:"text-sm text-gray-600 mb-4"}," Choose a common starting point for your conversation ",-1)),e("div",le,[(l(),n(g,null,p(G,o=>e("button",{key:o.title,onClick:u=>M(o),class:y(["w-full p-4 bg-white border border-gray-200 rounded-lg shadow-sm hover:shadow-md hover:border-emerald-300 transition-all duration-200 text-left group",{"border-emerald-300 bg-emerald-50":s.initial_message===o.message}])},[e("div",ae,[e("div",de,[(l(),S(D(o.icon),{class:"h-4 w-4 text-emerald-600"}))]),e("div",ce,[e("h3",me,m(o.title),1),e("p",ue,m(o.description),1)])])],10,ne)),64))]),e("div",ge,[t[7]||(t[7]=e("h3",{class:"text-sm font-semibold text-gray-900 mb-3"},"Recent Courses",-1)),e("div",pe,[(l(!0),n(g,null,p(F.value,o=>(l(),n("button",{key:o.id,onClick:u=>N(o),class:"w-full text-left p-3 text-sm text-gray-700 bg-gray-50 hover:bg-emerald-50 hover:text-emerald-700 rounded-lg transition-colors flex items-center"},[r(i(x),{class:"h-4 w-4 mr-2 text-gray-400"}),e("span",xe,m(o.title),1)],8,fe))),128))])])])])]),e("div",he,[e("div",be,[e("div",_e,[e("form",{onSubmit:R(I,["prevent"])},[e("div",ye,[e("label",ve,[e("div",we,[r(i(x),{class:"h-5 w-5 text-emerald-600 mr-2"}),t[9]||(t[9]=d(" Select Course ",-1))])]),e("div",ke,[w(e("select",{id:"course_id","onUpdate:modelValue":t[0]||(t[0]=o=>s.course_id=o),class:"w-full rounded-lg border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500 py-3 px-4 pr-10 appearance-none bg-white transition-colors",onChange:C},[t[10]||(t[10]=e("option",{value:null},"Choose a course (optional)",-1)),(l(!0),n(g,null,p(c.courses,o=>(l(),n("option",{key:o.id,value:o.id},m(o.title),9,Ce))),128))],544),[[j,s.course_id]]),e("div",Se,[r(i(B),{class:"h-5 w-5 text-gray-400"})])]),t[11]||(t[11]=e("p",{class:"mt-2 text-sm text-gray-500"}," Selecting a course helps the AI provide more relevant and contextual assistance ",-1))]),c.available_topics.length?(l(),n("div",$e,[e("label",je,[e("div",Ae,[r(i(k),{class:"h-5 w-5 text-emerald-600 mr-2"}),t[12]||(t[12]=d(" Focus on Specific Topic ",-1))])]),e("div",Be,[w(e("select",{id:"outline_id","onUpdate:modelValue":t[1]||(t[1]=o=>s.outline_id=o),class:"w-full rounded-lg border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500 py-3 px-4 pr-10 appearance-none bg-white transition-colors"},[t[13]||(t[13]=e("option",{value:null},"Choose a topic (optional)",-1)),(l(!0),n(g,null,p(c.available_modules,o=>(l(),n("optgroup",{key:o.id,label:`Module ${o.order}: ${o.title}`},[(l(!0),n(g,null,p(o.topics,u=>(l(),n("option",{key:u.id,value:u.id}," Topic "+m(u.order)+": "+m(u.title),9,Fe))),128))],8,Te))),128))],512),[[j,s.outline_id]]),e("div",Ge,[r(i(B),{class:"h-5 w-5 text-gray-400"})])]),t[14]||(t[14]=e("p",{class:"mt-2 text-sm text-gray-500"}," Narrow down the conversation to a specific learning topic for more focused assistance ",-1))])):v("",!0),e("div",Ie,[e("label",Me,[e("div",Ne,[r(i(f),{class:"h-5 w-5 text-emerald-600 mr-2"}),t[15]||(t[15]=d(" Your Message ",-1))])]),e("div",Ve,[w(e("textarea",{id:"initial_message","onUpdate:modelValue":t[2]||(t[2]=o=>s.initial_message=o),rows:"5",class:y(["w-full rounded-lg border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500 py-3 px-4 resize-none transition-colors",{"border-emerald-300":s.initial_message.length>0}]),placeholder:"What would you like to learn about today? You can ask questions about course content, request explanations, seek guidance on specific topics, or ask for practice problems..."},null,2),[[E,s.initial_message]]),e("div",Pe,[e("span",{class:y(["text-xs",s.initial_message.length>1e3?"text-red-500":"text-gray-400"])},m(s.initial_message.length)+"/1000 ",3)])]),t[16]||(t[16]=e("p",{class:"mt-2 text-sm text-gray-500"}," Start the conversation with your specific question or learning goal ",-1))]),c.selected_course||c.selected_outline?(l(),n("div",ze,[e("h3",qe,[r(i(H),{class:"h-4 w-4 mr-2"}),t[17]||(t[17]=d(" Chat Context Preview ",-1))]),e("div",De,[c.selected_course?(l(),n("div",Re,[r(i(x),{class:"h-4 w-4 mr-2"}),e("span",null,[t[18]||(t[18]=e("strong",null,"Course:",-1)),d(" "+m(c.selected_course.title),1)])])):v("",!0),c.selected_outline?(l(),n("div",Ee,[r(i(k),{class:"h-4 w-4 mr-2"}),e("span",null,[t[19]||(t[19]=e("strong",null,"Topic:",-1)),d(" "+m(c.selected_outline.title),1)]),e("span",Ue," (Module: "+m(c.selected_outline.module?.title)+") ",1)])):c.selected_course&&!s.outline_id?(l(),n("div",Le,[r(i(T),{class:"h-4 w-4 mr-2"}),t[20]||(t[20]=e("span",null,[e("strong",null,"Scope:"),d(" General course discussion")],-1))])):(l(),n("div",Qe,[r(i(T),{class:"h-4 w-4 mr-2"}),t[21]||(t[21]=e("span",null,[e("strong",null,"Scope:"),d(" General learning assistance")],-1))]))])])):v("",!0),e("div",We,[r(i($),{href:a.route("student.chat.index"),class:"inline-flex items-center px-6 py-3 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:ring-offset-2 transition-all duration-200"},{default:_(()=>[...t[22]||(t[22]=[d(" Cancel ",-1)])]),_:1},8,["href"]),e("button",{type:"submit",disabled:s.processing||s.initial_message.length>1e3,class:"inline-flex items-center px-6 py-3 text-sm font-semibold text-white bg-gradient-to-r from-emerald-600 to-teal-600 border border-transparent rounded-lg shadow-sm hover:from-emerald-700 hover:to-teal-700 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 hover:shadow-md"},[r(i(f),{class:"h-4 w-4 mr-2"}),d(" "+m(s.processing?"Starting Chat...":"Start Chat Session"),1)],8,Ye)])],32)])]),e("div",He,[e("h3",Je,[r(i(A),{class:"h-4 w-4 mr-2"}),t[23]||(t[23]=d(" Pro Tips for Better AI Assistance ",-1))]),e("ul",Ke,[e("li",Xe,[r(i(h),{class:"h-4 w-4 text-blue-600 mr-2 mt-0.5 flex-shrink-0"}),t[24]||(t[24]=e("span",null,"Be specific about what you're struggling with",-1))]),e("li",Ze,[r(i(h),{class:"h-4 w-4 text-blue-600 mr-2 mt-0.5 flex-shrink-0"}),t[25]||(t[25]=e("span",null,"Mention your current understanding level",-1))]),e("li",Oe,[r(i(h),{class:"h-4 w-4 text-blue-600 mr-2 mt-0.5 flex-shrink-0"}),t[26]||(t[26]=e("span",null,"Ask for examples if concepts are unclear",-1))]),e("li",et,[r(i(h),{class:"h-4 w-4 text-blue-600 mr-2 mt-0.5 flex-shrink-0"}),t[27]||(t[27]=e("span",null,"Request practice problems to test your knowledge",-1))])])])])])])])]),_:1}))}},kt=Q(tt,[["__scopeId","data-v-cf30ab22"]]);export{kt as default};
