import{u as U,c as V,w as f,b as x,a as t,i as r,q,y as _,j as v,t as a,A as C,e as l,f as n,h as u,n as m,x as p,o as d,s as B,F as N,k as P,v as b,z as A}from"./app-DoWifYP7.js";import{A as D}from"./AdminLayout-DwDUWgL4.js";import"./XMarkIcon-D4gPAp6C.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./UserIcon-Brwvc3AS.js";import"./UsersIcon-D3yVwJcR.js";import"./ChatBubbleLeftRightIcon-G9vqLXK2.js";import"./ChartBarIcon-Bu4NKj9g.js";import"./CurrencyDollarIcon-BJ1K31e2.js";import"./EyeIcon-C-UDKzqp.js";const E={class:"max-w-4xl mx-auto py-8"},M={class:"mb-8"},S={class:"flex items-center space-x-2 mb-2"},O={class:"text-2xl font-bold text-gray-900"},G={class:"bg-white shadow rounded-lg"},$={class:"space-y-6 p-6"},j={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},F={key:0,class:"mt-1 text-sm text-red-600"},I={key:0,class:"mt-1 text-sm text-red-600"},L={key:0,class:"mt-1 text-sm text-red-600"},R={key:0,class:"mt-1 text-sm text-red-600"},T={key:0,class:"mt-1 text-sm text-red-600"},z={key:0,class:"mt-1 text-sm text-red-600"},H={class:"mt-6"},J={key:0,class:"mt-1 text-sm text-red-600"},K={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Q=["id","value"],W=["for"],X={key:0,class:"mt-2 text-sm text-red-600"},Y={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Z={key:0,class:"mt-1 text-sm text-red-600"},ee={key:0,class:"mt-1 text-sm text-red-600"},te={class:"space-y-4"},re={class:"flex items-center"},se={class:"flex items-center"},oe={class:"flex items-center"},ie={class:"px-6 py-4 bg-gray-50 border-t border-gray-200 flex justify-between"},de=["disabled"],ne={class:"flex space-x-3"},le=["disabled"],ae={key:0},ue={key:1},ke={__name:"Edit",props:{plan:Object,featureOptions:Object},setup(c){const i=c,s=U({name:i.plan.name,code:i.plan.code,description:i.plan.description,price:i.plan.price,currency:i.plan.currency,billing_cycle_days:i.plan.billing_cycle_days,features:i.plan.features||[],max_courses:i.plan.max_courses,max_ai_requests_per_month:i.plan.max_ai_requests_per_month,ai_grading:i.plan.ai_grading,priority_support:i.plan.priority_support,is_active:i.plan.is_active,sort_order:i.plan.sort_order}),k=()=>{s.put(route("admin.subscription-plans.update",i.plan.id))},w=()=>{if(i.plan.subscriptions_count>0){alert("Cannot delete plan that has active subscriptions.");return}confirm(`Are you sure you want to delete "${i.plan.name}"? This action cannot be undone.`)&&A.delete(route("admin.subscription-plans.destroy",i.plan.id))};return(y,e)=>(d(),V(D,null,{default:f(()=>[x(r(q),{title:`Edit ${c.plan.name}`},null,8,["title"]),t("div",E,[t("div",M,[t("div",S,[x(r(_),{href:y.route("admin.subscription-plans.index"),class:"text-indigo-600 hover:text-indigo-900 text-sm font-medium"},{default:f(()=>[...e[13]||(e[13]=[v(" ← Back to Plans ",-1)])]),_:1},8,["href"])]),t("h1",O,"Edit "+a(c.plan.name),1),e[14]||(e[14]=t("p",{class:"mt-1 text-sm text-gray-600"}," Update subscription plan details and features ",-1))]),t("div",G,[t("form",{onSubmit:C(k,["prevent"])},[t("div",$,[t("div",null,[e[23]||(e[23]=t("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Basic Information",-1)),t("div",j,[t("div",null,[e[15]||(e[15]=t("label",{for:"name",class:"block text-sm font-medium text-gray-700"}," Plan Name * ",-1)),l(t("input",{type:"text",id:"name","onUpdate:modelValue":e[0]||(e[0]=o=>r(s).name=o),class:m(["mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-indigo-500 focus:ring-indigo-500",{"border-red-300":r(s).errors.name}])},null,2),[[p,r(s).name]]),r(s).errors.name?(d(),n("p",F,a(r(s).errors.name),1)):u("",!0)]),t("div",null,[e[16]||(e[16]=t("label",{for:"code",class:"block text-sm font-medium text-gray-700"}," Plan Code * ",-1)),l(t("input",{type:"text",id:"code","onUpdate:modelValue":e[1]||(e[1]=o=>r(s).code=o),class:m(["mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-indigo-500 focus:ring-indigo-500",{"border-red-300":r(s).errors.code}])},null,2),[[p,r(s).code]]),r(s).errors.code?(d(),n("p",I,a(r(s).errors.code),1)):u("",!0)]),t("div",null,[e[17]||(e[17]=t("label",{for:"price",class:"block text-sm font-medium text-gray-700"}," Price * ",-1)),l(t("input",{type:"number",id:"price","onUpdate:modelValue":e[2]||(e[2]=o=>r(s).price=o),min:"0",step:"0.01",class:m(["mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-indigo-500 focus:ring-indigo-500",{"border-red-300":r(s).errors.price}])},null,2),[[p,r(s).price]]),r(s).errors.price?(d(),n("p",L,a(r(s).errors.price),1)):u("",!0)]),t("div",null,[e[19]||(e[19]=t("label",{for:"currency",class:"block text-sm font-medium text-gray-700"}," Currency * ",-1)),l(t("select",{id:"currency","onUpdate:modelValue":e[3]||(e[3]=o=>r(s).currency=o),class:m(["mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-indigo-500 focus:ring-indigo-500",{"border-red-300":r(s).errors.currency}])},[...e[18]||(e[18]=[t("option",{value:"USD"},"USD ($)",-1),t("option",{value:"EUR"},"EUR (€)",-1),t("option",{value:"GBP"},"GBP (£)",-1),t("option",{value:"NGN"},"NGN (₦)",-1)])],2),[[B,r(s).currency]]),r(s).errors.currency?(d(),n("p",R,a(r(s).errors.currency),1)):u("",!0)]),t("div",null,[e[20]||(e[20]=t("label",{for:"billing_cycle_days",class:"block text-sm font-medium text-gray-700"}," Billing Cycle (Days) * ",-1)),l(t("input",{type:"number",id:"billing_cycle_days","onUpdate:modelValue":e[4]||(e[4]=o=>r(s).billing_cycle_days=o),min:"1",class:m(["mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-indigo-500 focus:ring-indigo-500",{"border-red-300":r(s).errors.billing_cycle_days}])},null,2),[[p,r(s).billing_cycle_days]]),r(s).errors.billing_cycle_days?(d(),n("p",T,a(r(s).errors.billing_cycle_days),1)):u("",!0)]),t("div",null,[e[21]||(e[21]=t("label",{for:"sort_order",class:"block text-sm font-medium text-gray-700"}," Sort Order * ",-1)),l(t("input",{type:"number",id:"sort_order","onUpdate:modelValue":e[5]||(e[5]=o=>r(s).sort_order=o),min:"0",class:m(["mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-indigo-500 focus:ring-indigo-500",{"border-red-300":r(s).errors.sort_order}])},null,2),[[p,r(s).sort_order]]),r(s).errors.sort_order?(d(),n("p",z,a(r(s).errors.sort_order),1)):u("",!0)])]),t("div",H,[e[22]||(e[22]=t("label",{for:"description",class:"block text-sm font-medium text-gray-700"}," Description ",-1)),l(t("textarea",{id:"description","onUpdate:modelValue":e[6]||(e[6]=o=>r(s).description=o),rows:"3",class:m(["mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-indigo-500 focus:ring-indigo-500",{"border-red-300":r(s).errors.description}])},null,2),[[p,r(s).description]]),r(s).errors.description?(d(),n("p",J,a(r(s).errors.description),1)):u("",!0)])]),t("div",null,[e[24]||(e[24]=t("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Features",-1)),t("div",K,[(d(!0),n(N,null,P(c.featureOptions,(o,g)=>(d(),n("div",{key:g,class:"flex items-center"},[l(t("input",{type:"checkbox",id:`feature-${g}`,value:g,"onUpdate:modelValue":e[7]||(e[7]=h=>r(s).features=h),class:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"},null,8,Q),[[b,r(s).features]]),t("label",{for:`feature-${g}`,class:"ml-2 block text-sm text-gray-900"},a(o),9,W)]))),128))]),r(s).errors.features?(d(),n("p",X,a(r(s).errors.features),1)):u("",!0)]),t("div",null,[e[27]||(e[27]=t("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Limits",-1)),t("div",Y,[t("div",null,[e[25]||(e[25]=t("label",{for:"max_courses",class:"block text-sm font-medium text-gray-700"}," Maximum Courses * ",-1)),l(t("input",{type:"number",id:"max_courses","onUpdate:modelValue":e[8]||(e[8]=o=>r(s).max_courses=o),min:"-1",class:m(["mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-indigo-500 focus:ring-indigo-500",{"border-red-300":r(s).errors.max_courses}])},null,2),[[p,r(s).max_courses]]),r(s).errors.max_courses?(d(),n("p",Z,a(r(s).errors.max_courses),1)):u("",!0)]),t("div",null,[e[26]||(e[26]=t("label",{for:"max_ai_requests_per_month",class:"block text-sm font-medium text-gray-700"}," Maximum AI Requests/Month * ",-1)),l(t("input",{type:"number",id:"max_ai_requests_per_month","onUpdate:modelValue":e[9]||(e[9]=o=>r(s).max_ai_requests_per_month=o),min:"-1",class:m(["mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-indigo-500 focus:ring-indigo-500",{"border-red-300":r(s).errors.max_ai_requests_per_month}])},null,2),[[p,r(s).max_ai_requests_per_month]]),r(s).errors.max_ai_requests_per_month?(d(),n("p",ee,a(r(s).errors.max_ai_requests_per_month),1)):u("",!0)])])]),t("div",null,[e[31]||(e[31]=t("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Additional Options",-1)),t("div",te,[t("div",re,[l(t("input",{type:"checkbox",id:"ai_grading","onUpdate:modelValue":e[10]||(e[10]=o=>r(s).ai_grading=o),class:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"},null,512),[[b,r(s).ai_grading]]),e[28]||(e[28]=t("label",{for:"ai_grading",class:"ml-2 block text-sm text-gray-900"}," Enable AI Grading ",-1))]),t("div",se,[l(t("input",{type:"checkbox",id:"priority_support","onUpdate:modelValue":e[11]||(e[11]=o=>r(s).priority_support=o),class:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"},null,512),[[b,r(s).priority_support]]),e[29]||(e[29]=t("label",{for:"priority_support",class:"ml-2 block text-sm text-gray-900"}," Priority Support ",-1))]),t("div",oe,[l(t("input",{type:"checkbox",id:"is_active","onUpdate:modelValue":e[12]||(e[12]=o=>r(s).is_active=o),class:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"},null,512),[[b,r(s).is_active]]),e[30]||(e[30]=t("label",{for:"is_active",class:"ml-2 block text-sm text-gray-900"}," Active Plan ",-1))])])])]),t("div",ie,[t("button",{type:"button",onClick:w,class:"inline-flex items-center px-4 py-2 bg-red-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-red-700 focus:bg-red-700 active:bg-red-800 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 disabled:opacity-25 transition ease-in-out duration-150",disabled:c.plan.subscriptions_count>0}," Delete ",8,de),t("div",ne,[x(r(_),{href:y.route("admin.subscription-plans.index"),class:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md font-semibold text-xs text-gray-700 uppercase tracking-widest shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 disabled:opacity-25 transition ease-in-out duration-150"},{default:f(()=>[...e[32]||(e[32]=[v(" Cancel ",-1)])]),_:1},8,["href"]),t("button",{type:"submit",disabled:r(s).processing,class:"inline-flex items-center px-4 py-2 bg-indigo-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-indigo-700 focus:bg-indigo-700 active:bg-indigo-800 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 disabled:opacity-25 transition ease-in-out duration-150"},[r(s).processing?(d(),n("span",ae,"Updating...")):(d(),n("span",ue,"Update Plan"))],8,le)])])],32)])])]),_:1}))}};export{ke as default};
