import{g as U,u as V,c as A,w as x,b as v,a as e,i as r,q as M,y as _,j as k,A as T,e as i,f as n,h as g,n as u,x as m,o as a,t as p,F as w,k as h,s as G,v as y,z as I}from"./app-CjRrDu7t.js";import{A as S}from"./AdminLayout-lAqfI1WG.js";import{r as j}from"./ArrowPathIcon-Bd4FrN2d.js";import"./XMarkIcon-DlMfZcpJ.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./UserIcon-BpPjWfht.js";import"./UsersIcon-Bi7IRypo.js";import"./ChatBubbleLeftRightIcon-CJWku9_r.js";import"./ChartBarIcon-D1-uH1QN.js";import"./CurrencyDollarIcon-Dta6_xbh.js";import"./EyeIcon-CZSIPZRr.js";const B={class:"py-6"},D={class:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8"},F={class:"mb-8"},L={class:"flex justify-between items-center"},E={class:"bg-white shadow rounded-lg"},N={class:"p-6 space-y-6"},O={class:"grid grid-cols-1 gap-6 sm:grid-cols-2"},R={key:0,class:"mt-1 text-sm text-red-600"},$=["value"],z={key:0,class:"mt-1 text-sm text-red-600"},K={class:"sm:col-span-2"},H={class:"sm:col-span-2"},W={class:"space-y-4"},J={class:"grid grid-cols-1 sm:grid-cols-2 gap-3"},Q=["value"],X={class:"ml-3"},Y={class:"text-sm font-medium text-gray-900"},Z={class:"text-xs text-gray-500"},ee={key:0,class:"mt-1 text-sm text-red-600"},te={class:"grid grid-cols-1 gap-6 sm:grid-cols-3"},re={class:"mt-1 relative rounded-md shadow-sm"},oe={class:"space-y-4"},se={class:"flex items-center"},le={class:"flex items-center"},de={class:"px-6 py-4 bg-gray-50 border-t border-gray-200 flex justify-between"},ie=["disabled"],ae={class:"flex space-x-3"},ne=["disabled"],ue={key:0},me={key:1},he={__name:"Edit",props:{provider:Object,supported_providers:Object,errors:Object},setup(l){const d=l,b=U(!1),o=V({name:d.provider.name,code:d.provider.code,api_key:"",base_url:d.provider.base_url||"",available_models:d.provider.available_models||[],cost_per_token:d.provider.cost_per_token,max_tokens_per_request:d.provider.max_tokens_per_request,rate_limit_per_minute:d.provider.rate_limit_per_minute,is_active:d.provider.is_active,is_default:d.provider.is_default}),P=c=>({openai:[{value:"gpt-4",label:"GPT-4",description:"Most capable model"},{value:"gpt-4-turbo",label:"GPT-4 Turbo",description:"Improved GPT-4"},{value:"gpt-3.5-turbo",label:"GPT-3.5 Turbo",description:"Fast and cost-effective"}],deepseek:[{value:"deepseek-chat",label:"DeepSeek Chat",description:"General purpose model"},{value:"deepseek-coder",label:"DeepSeek Coder",description:"Code generation"}],anthropic:[{value:"claude-3-opus",label:"Claude 3 Opus",description:"Most capable model"},{value:"claude-3-sonnet",label:"Claude 3 Sonnet",description:"Balanced performance"},{value:"claude-3-haiku",label:"Claude 3 Haiku",description:"Fast and efficient"}],google:[{value:"gemini-pro",label:"Gemini Pro",description:"General purpose model"},{value:"gemini-ultra",label:"Gemini Ultra",description:"Most advanced model"}],openrouter:[{value:"deepseek-chat-v3.1:free",label:"deepseek-chat-v3.1:free",description:"deepseek-chat-v3.1:free"},{value:"openai/gpt-oss-20b:free",label:"gpt-oss-20b:free",description:"gpt-oss-20b:free"}]})[c]||[],C=()=>{if(b.value=!0,o.api_key)o.put(route("admin.ai-providers.update",d.provider.id),{onFinish:()=>{b.value=!1}});else{const{api_key:c,...t}=o;t.put(route("admin.ai-providers.update",d.provider.id),{onFinish:()=>{b.value=!1}})}},q=()=>{if(d.provider.is_default){alert("Cannot delete the default AI provider.");return}confirm(`Are you sure you want to delete "${d.provider.name}"? This action cannot be undone.`)&&I.delete(route("admin.ai-providers.destroy",d.provider.id))};return(c,t)=>(a(),A(S,null,{default:x(()=>[v(r(M),{title:`Edit AI Provider - ${l.provider.name}`},null,8,["title"]),e("div",B,[e("div",D,[e("div",F,[e("div",L,[t[11]||(t[11]=e("div",null,[e("h1",{class:"text-3xl font-bold text-gray-900"},"Edit AI Provider"),e("p",{class:"mt-2 text-gray-600"}," Update provider configuration and settings ")],-1)),v(r(_),{href:c.route("admin.ai-providers.index"),class:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50"},{default:x(()=>[...t[10]||(t[10]=[k(" Back to Providers ",-1)])]),_:1},8,["href"])])]),e("div",E,[e("form",{onSubmit:T(C,["prevent"])},[e("div",N,[e("div",null,[t[17]||(t[17]=e("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Provider Information",-1)),e("div",O,[e("div",null,[t[12]||(t[12]=e("label",{for:"name",class:"block text-sm font-medium text-gray-700"}," Provider Name * ",-1)),i(e("input",{id:"name","onUpdate:modelValue":t[0]||(t[0]=s=>r(o).name=s),type:"text",required:"",class:u(["mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",{"border-red-300":l.errors.name}])},null,2),[[m,r(o).name]]),l.errors.name?(a(),n("p",R,p(l.errors.name),1)):g("",!0)]),e("div",null,[t[13]||(t[13]=e("label",{for:"code",class:"block text-sm font-medium text-gray-700"}," Provider Code * ",-1)),i(e("select",{id:"code","onUpdate:modelValue":t[1]||(t[1]=s=>r(o).code=s),required:"",class:u(["mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md",{"border-red-300":l.errors.code}])},[(a(!0),n(w,null,h(l.supported_providers,(s,f)=>(a(),n("option",{key:f,value:f},p(s),9,$))),128))],2),[[G,r(o).code]]),l.errors.code?(a(),n("p",z,p(l.errors.code),1)):g("",!0)]),e("div",K,[t[14]||(t[14]=e("label",{for:"api_key",class:"block text-sm font-medium text-gray-700"}," API Key * ",-1)),i(e("input",{id:"api_key","onUpdate:modelValue":t[2]||(t[2]=s=>r(o).api_key=s),type:"password",required:"",class:u(["mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",{"border-red-300":l.errors.api_key}]),placeholder:"Enter new API key or keep existing"},null,2),[[m,r(o).api_key]]),t[15]||(t[15]=e("p",{class:"mt-1 text-sm text-gray-500"}," Leave empty to keep the current API key ",-1))]),e("div",H,[t[16]||(t[16]=e("label",{for:"base_url",class:"block text-sm font-medium text-gray-700"}," Base URL ",-1)),i(e("input",{id:"base_url","onUpdate:modelValue":t[3]||(t[3]=s=>r(o).base_url=s),type:"url",class:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"https://api.example.com/v1"},null,512),[[m,r(o).base_url]])])])]),e("div",null,[t[19]||(t[19]=e("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Models Configuration",-1)),e("div",W,[e("div",null,[t[18]||(t[18]=e("label",{class:"block text-sm font-medium text-gray-700 mb-3"}," Available Models * ",-1)),e("div",J,[(a(!0),n(w,null,h(P(r(o).code),s=>(a(),n("label",{key:s.value,class:u(["flex items-center p-3 border border-gray-300 rounded-lg hover:bg-gray-50 cursor-pointer",{"border-blue-500 bg-blue-50":r(o).available_models.includes(s.value)}])},[i(e("input",{type:"checkbox",value:s.value,"onUpdate:modelValue":t[4]||(t[4]=f=>r(o).available_models=f),class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,8,Q),[[y,r(o).available_models]]),e("div",X,[e("span",Y,p(s.label),1),e("p",Z,p(s.description),1)])],2))),128))]),l.errors.available_models?(a(),n("p",ee,p(l.errors.available_models),1)):g("",!0)])])]),e("div",null,[t[24]||(t[24]=e("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Pricing & Limits",-1)),e("div",te,[e("div",null,[t[21]||(t[21]=e("label",{for:"cost_per_token",class:"block text-sm font-medium text-gray-700"}," Cost per Token * ",-1)),e("div",re,[t[20]||(t[20]=e("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[e("span",{class:"text-gray-500 sm:text-sm"},"$")],-1)),i(e("input",{id:"cost_per_token","onUpdate:modelValue":t[5]||(t[5]=s=>r(o).cost_per_token=s),type:"number",step:"0.00000001",min:"0",required:"",class:u(["block w-full pl-7 pr-12 border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",{"border-red-300":l.errors.cost_per_token}])},null,2),[[m,r(o).cost_per_token]])])]),e("div",null,[t[22]||(t[22]=e("label",{for:"max_tokens_per_request",class:"block text-sm font-medium text-gray-700"}," Max Tokens/Request * ",-1)),i(e("input",{id:"max_tokens_per_request","onUpdate:modelValue":t[6]||(t[6]=s=>r(o).max_tokens_per_request=s),type:"number",min:"1",required:"",class:u(["mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",{"border-red-300":l.errors.max_tokens_per_request}])},null,2),[[m,r(o).max_tokens_per_request]])]),e("div",null,[t[23]||(t[23]=e("label",{for:"rate_limit_per_minute",class:"block text-sm font-medium text-gray-700"}," Rate Limit/Minute * ",-1)),i(e("input",{id:"rate_limit_per_minute","onUpdate:modelValue":t[7]||(t[7]=s=>r(o).rate_limit_per_minute=s),type:"number",min:"1",required:"",class:u(["mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",{"border-red-300":l.errors.rate_limit_per_minute}])},null,2),[[m,r(o).rate_limit_per_minute]])])])]),e("div",null,[t[27]||(t[27]=e("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Status",-1)),e("div",oe,[e("div",se,[i(e("input",{id:"is_active","onUpdate:modelValue":t[8]||(t[8]=s=>r(o).is_active=s),type:"checkbox",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,512),[[y,r(o).is_active]]),t[25]||(t[25]=e("label",{for:"is_active",class:"ml-2 block text-sm text-gray-900"}," Active Provider ",-1))]),e("div",le,[i(e("input",{id:"is_default","onUpdate:modelValue":t[9]||(t[9]=s=>r(o).is_default=s),type:"checkbox",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,512),[[y,r(o).is_default]]),t[26]||(t[26]=e("label",{for:"is_default",class:"ml-2 block text-sm text-gray-900"}," Set as Default Provider ",-1))])])])]),e("div",de,[e("button",{type:"button",onClick:q,class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-red-700 bg-red-100 hover:bg-red-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",disabled:l.provider.is_default}," Delete Provider ",8,ie),e("div",ae,[v(r(_),{href:c.route("admin.ai-providers.index"),class:"bg-white py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"},{default:x(()=>[...t[28]||(t[28]=[k(" Cancel ",-1)])]),_:1},8,["href"]),e("button",{type:"submit",disabled:b.value,class:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50"},[b.value?(a(),n("span",ue,[v(r(j),{class:"h-4 w-4 animate-spin"})])):(a(),n("span",me," Update Provider "))],8,ne)])])],32)])])])]),_:1}))}};export{he as default};
