import{g as _,O as V,m as q,c as A,w as v,b as r,a as e,i as l,q as F,y as $,j as i,A as M,f as a,h as P,o as n,F as h,k,n as S,t as d,e as f,s as j,x as w,C as U,z}from"./app-RWparKzM.js";import{_ as D}from"./AppLayout-BDDC9kv3.js";import{r as E}from"./ArrowLeftIcon-BSAmTGGh.js";import{r as G,a as K,b as L}from"./ItalicIcon-t7P7ATM3.js";import{r as O}from"./LinkIcon-BedtJKV3.js";import{r as I}from"./ExclamationTriangleIcon-CrF7EtGW.js";import{r as Q}from"./ArrowPathIcon-CVpCXSt-.js";import{r as R}from"./PaperAirplaneIcon-CPQi26fD.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./XMarkIcon-Bxj87fHb.js";import"./BellIcon-DCKagCV3.js";const W={class:"min-h-screen bg-gradient-to-br from-slate-50 to-emerald-50 py-12"},H={class:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8"},J={class:"mb-8"},X={class:"bg-white rounded-2xl shadow-sm border border-gray-200 p-8"},Y={class:"mb-8"},Z={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},ee=["onClick"],te={class:"text-2xl mb-2"},se={class:"font-medium text-gray-900"},oe={class:"text-xs text-gray-500 mt-1"},re={key:0,class:"mb-8"},le=["value"],ne={class:"mb-8"},ae={class:"mb-8"},ie={class:"border border-gray-300 rounded-xl overflow-hidden"},de={class:"bg-gray-50 border-b border-gray-200 px-4 py-3"},ue={class:"flex space-x-4"},me={class:"flex justify-between text-xs text-gray-500 mt-2"},ce={class:"mb-8"},be={class:"flex flex-wrap gap-2 mb-3"},pe=["onClick"],xe={class:"flex gap-2"},ge={class:"mb-8 p-4 bg-amber-50 border border-amber-200 rounded-xl"},fe={class:"font-medium text-amber-900 mb-2 flex items-center"},ye={class:"flex justify-end space-x-4"},ve=["disabled"],he={key:0},ke={key:1},Fe={__name:"Create",props:{courses:Array},setup(y){const b=_(!1),u=_(""),T=[{value:"discussion",icon:"ðŸ’¬",label:"Discussion",description:"Start a conversation"},{value:"question",icon:"â“",label:"Question",description:"Ask for help"},{value:"achievement",icon:"ðŸ†",label:"Achievement",description:"Share success"},{value:"resource",icon:"ðŸ“š",label:"Resource",description:"Share learning materials"}],o=V({title:"",content:"",type:"discussion",course_id:null,tags:[]});function p(m){const t=document.querySelector("textarea"),s=t.selectionStart,x=t.selectionEnd,g=o.content.substring(s,x);let c="";switch(m){case"bold":c=`**${g}**`;break;case"italic":c=`*${g}*`;break;case"code":c=`\`${g}\``;break;case"link":c=`[${g||"link text"}](url)`;break}o.content=o.content.substring(0,s)+c+o.content.substring(x)}function C(){u.value.trim()&&!o.tags.includes(u.value.trim())&&(o.tags.push(u.value.trim()),u.value="")}function B(m){o.tags=o.tags.filter(t=>t!==m)}function N(){b.value=!0,z.post(route("community.posts.store"),o,{onFinish:()=>b.value=!1})}return q(()=>{}),(m,t)=>(n(),A(D,null,{default:v(()=>[r(l(F),{title:"Create New Post"}),e("div",W,[e("div",H,[e("div",J,[r(l($),{href:m.route("community.index"),class:"inline-flex items-center text-emerald-600 hover:text-emerald-700 font-medium"},{default:v(()=>[r(l(E),{class:"h-4 w-4 mr-2"}),t[8]||(t[8]=i(" Back to Community ",-1))]),_:1},8,["href"])]),t[23]||(t[23]=e("div",{class:"mb-8"},[e("div",{class:"inline-flex items-center px-4 py-2 rounded-full bg-emerald-100 border border-emerald-200 text-emerald-700 text-sm font-medium mb-4"},[e("span",{class:"w-2 h-2 bg-emerald-500 rounded-full mr-2"}),i(" Share with Community ")]),e("h1",{class:"text-3xl font-bold text-gray-900"}," Create New Post "),e("p",{class:"text-gray-600 mt-2"}," Share your learning experience, ask questions, or celebrate achievements with fellow learners. ")],-1)),e("div",X,[e("form",{onSubmit:M(N,["prevent"])},[e("div",Y,[t[9]||(t[9]=e("label",{class:"block text-sm font-medium text-gray-900 mb-4"}," What type of post is this? ",-1)),e("div",Z,[(n(),a(h,null,k(T,s=>e("button",{type:"button",key:s.value,onClick:x=>o.type=s.value,class:S(["p-4 rounded-xl border-2 text-center transition-all duration-300",o.type===s.value?"border-emerald-500 bg-emerald-50 scale-105":"border-gray-200 hover:border-emerald-300 hover:bg-gray-50"])},[e("div",te,d(s.icon),1),e("div",se,d(s.label),1),e("p",oe,d(s.description),1)],10,ee)),64))])]),y.courses&&y.courses.length>0?(n(),a("div",re,[t[11]||(t[11]=e("label",{class:"block text-sm font-medium text-gray-900 mb-2"}," Link to Course (Optional) ",-1)),f(e("select",{"onUpdate:modelValue":t[0]||(t[0]=s=>o.course_id=s),class:"w-full px-4 py-3 rounded-xl border border-gray-300 focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 bg-white"},[t[10]||(t[10]=e("option",{value:null},"No specific course",-1)),(n(!0),a(h,null,k(y.courses,s=>(n(),a("option",{key:s.id,value:s.id},d(s.title)+" ("+d(s.subject)+") ",9,le))),128))],512),[[j,o.course_id]])])):P("",!0),e("div",ne,[t[12]||(t[12]=e("label",{class:"block text-sm font-medium text-gray-900 mb-2"}," Title ",-1)),f(e("input",{"onUpdate:modelValue":t[1]||(t[1]=s=>o.title=s),type:"text",required:"",placeholder:"Give your post a descriptive title...",class:"w-full px-4 py-3 rounded-xl border border-gray-300 focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 placeholder-gray-400"},null,512),[[w,o.title]]),t[13]||(t[13]=e("p",{class:"text-xs text-gray-500 mt-2"}," Be specific and concise. Good titles attract more engagement. ",-1))]),e("div",ae,[t[15]||(t[15]=e("label",{class:"block text-sm font-medium text-gray-900 mb-2"}," Content ",-1)),e("div",ie,[e("div",de,[e("div",ue,[e("button",{type:"button",onClick:t[2]||(t[2]=s=>p("bold")),class:"px-3 py-1 rounded hover:bg-gray-200",title:"Bold"},[r(l(G),{class:"h-4 w-4"})]),e("button",{type:"button",onClick:t[3]||(t[3]=s=>p("italic")),class:"px-3 py-1 rounded hover:bg-gray-200",title:"Italic"},[r(l(K),{class:"h-4 w-4"})]),e("button",{type:"button",onClick:t[4]||(t[4]=s=>p("code")),class:"px-3 py-1 rounded hover:bg-gray-200",title:"Code"},[r(l(L),{class:"h-4 w-4"})]),e("button",{type:"button",onClick:t[5]||(t[5]=s=>p("link")),class:"px-3 py-1 rounded hover:bg-gray-200",title:"Link"},[r(l(O),{class:"h-4 w-4"})])])]),f(e("textarea",{"onUpdate:modelValue":t[6]||(t[6]=s=>o.content=s),required:"",rows:"10",placeholder:"Share your thoughts, questions, or achievements...",class:"w-full px-4 py-4 focus:outline-none resize-none"},null,512),[[w,o.content]])]),e("div",me,[t[14]||(t[14]=e("div",null,"Markdown is supported",-1)),e("div",null,d(o.content.length)+" characters",1)])]),e("div",ce,[t[16]||(t[16]=e("label",{class:"block text-sm font-medium text-gray-900 mb-2"}," Tags ",-1)),e("div",be,[(n(!0),a(h,null,k(o.tags,s=>(n(),a("span",{key:s,class:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-emerald-100 text-emerald-800"},[i(d(s)+" ",1),e("button",{type:"button",onClick:x=>B(s),class:"ml-2 text-emerald-600 hover:text-emerald-800"}," Ã— ",8,pe)]))),128))]),e("div",xe,[f(e("input",{"onUpdate:modelValue":t[7]||(t[7]=s=>u.value=s),onKeyup:U(C,["enter"]),type:"text",placeholder:"Add tags (press Enter)",class:"flex-1 px-4 py-2 rounded-xl border border-gray-300 focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500"},null,544),[[w,u.value]]),e("button",{type:"button",onClick:C,class:"px-4 py-2 bg-gray-100 text-gray-700 rounded-xl hover:bg-gray-200 font-medium"}," Add ")]),t[17]||(t[17]=e("p",{class:"text-xs text-gray-500 mt-2"}," Add relevant tags to help others find your post (e.g., ai, python, math) ",-1))]),e("div",ge,[e("h3",fe,[r(l(I),{class:"h-5 w-5 mr-2"}),t[18]||(t[18]=i(" Community Guidelines ",-1))]),t[19]||(t[19]=e("ul",{class:"text-sm text-amber-800 space-y-1"},[e("li",null,"â€¢ Be respectful and kind to other learners"),e("li",null,"â€¢ Share only educational content"),e("li",null,"â€¢ No spam or self-promotion"),e("li",null,"â€¢ Keep discussions on-topic"),e("li",null,"â€¢ Cite sources when sharing resources")],-1))]),e("div",ye,[r(l($),{href:m.route("community.index"),class:"px-6 py-3 border border-gray-300 text-gray-700 rounded-xl font-medium hover:bg-gray-50"},{default:v(()=>[...t[20]||(t[20]=[i(" Cancel ",-1)])]),_:1},8,["href"]),e("button",{type:"submit",disabled:b.value,class:S(["px-6 py-3 bg-gradient-to-r from-emerald-600 to-teal-600 text-white rounded-xl font-medium","hover:from-emerald-700 hover:to-teal-700 transform transition-all duration-300 hover:scale-105","disabled:opacity-50 disabled:cursor-not-allowed"])},[b.value?(n(),a("span",he,[r(l(Q),{class:"h-5 w-5 animate-spin inline mr-2"}),t[21]||(t[21]=i(" Publishing... ",-1))])):(n(),a("span",ke,[r(l(R),{class:"h-5 w-5 inline mr-2"}),t[22]||(t[22]=i(" Publish Post ",-1))]))],8,ve)])],32)])])])]),_:1}))}};export{Fe as default};
