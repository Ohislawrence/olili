import{u as k,c as S,w as c,b as u,a as e,h as r,p as E,f as i,g as m,x as v,t as d,z as A,e as b,n as p,o as a,F as x,j as y,i as f,q as h,s as C}from"./app-9iTwA3vC.js";import{A as N}from"./AdminLayout-BNATRJWW.js";import{r as V}from"./ArrowLeftIcon-BfYZPnun.js";import"./DropdownLink-BJxGAADP.js";import"./NavLink-CVNpfdyq.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./XMarkIcon-DR50bQrw.js";import"./UsersIcon-Dq-ijHz8.js";import"./ChatBubbleLeftRightIcon-B5E4Bl1m.js";import"./ChartBarIcon-DGOEscCD.js";import"./CurrencyDollarIcon-BD-2biuk.js";import"./EyeIcon-DsHcOT47.js";const j={class:"py-6"},q={class:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8"},B={class:"mb-8"},L={class:"flex items-center space-x-3"},U={class:"mt-1 text-sm text-gray-600"},D={class:"bg-white shadow rounded-lg"},F={class:"p-6"},M={class:"mb-6"},O=["value"],T={key:0,class:"mt-1 text-sm text-red-600"},z={class:"mb-6"},$={key:0,class:"mt-1 text-sm text-red-600"},P={class:"px-6 py-4 border-t border-gray-200 bg-gray-50 flex justify-end space-x-3"},Q=["disabled"],G={key:0},H={key:1},I={key:0,class:"mt-8"},J={class:"bg-white shadow rounded-lg"},K={class:"px-6 py-4 border-b border-gray-200"},R={class:"mt-1 text-sm text-gray-600"},W={class:"p-6"},X={class:"space-y-3"},Y={class:"flex items-center space-x-3"},Z={class:"flex-shrink-0"},ee={class:"h-8 w-8 bg-blue-100 rounded-full flex items-center justify-center"},te={class:"text-sm font-medium text-blue-800"},se={class:"text-sm font-medium text-gray-900"},oe={class:"text-xs text-gray-500"},re={class:"text-right"},le={class:"text-xs text-gray-500"},de=["onClick"],he={__name:"Create",props:{course:Object,availableStudents:Array,errors:Object},setup(o){const _=o,l=k({user_id:"",status:"enrolled",notes:""}),g=()=>{l.post(route("admin.courses.enrollments.store",_.course.id))},w=n=>{l.user_id=n,l.status="enrolled",g()};return(n,t)=>(a(),S(N,null,{default:c(()=>[u(r(E),{title:`Add Enrollment - ${o.course.title}`},null,8,["title"]),e("div",j,[e("div",q,[e("div",B,[e("div",L,[u(r(v),{href:n.route("admin.courses.enrollments.index",o.course.id),class:"text-gray-400 hover:text-gray-600"},{default:c(()=>[u(r(V),{class:"h-5 w-5"})]),_:1},8,["href"]),e("div",null,[t[3]||(t[3]=e("h1",{class:"text-2xl font-bold text-gray-900"},"Add Enrollment",-1)),e("p",U,d(o.course.title),1)])])]),e("div",D,[e("form",{onSubmit:A(g,["prevent"])},[t[10]||(t[10]=e("div",{class:"px-6 py-4 border-b border-gray-200"},[e("h3",{class:"text-lg font-semibold text-gray-900"},"Enrollment Details")],-1)),e("div",F,[e("div",M,[t[5]||(t[5]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Select Student * ",-1)),b(e("select",{"onUpdate:modelValue":t[0]||(t[0]=s=>r(l).user_id=s),required:"",class:p(["w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 py-2 px-3",{"border-red-300":o.errors.user_id}])},[t[4]||(t[4]=e("option",{value:""},"Choose a student...",-1)),(a(!0),i(x,null,y(o.availableStudents,s=>(a(),i("option",{key:s.id,value:s.id},[f(d(s.name)+" ("+d(s.email)+") ",1),s.student_profile?(a(),i(x,{key:0},[f(" â€¢ Level: "+d(s.student_profile.current_level),1)],64)):m("",!0)],8,O))),128))],2),[[h,r(l).user_id]]),o.errors.user_id?(a(),i("p",T,d(o.errors.user_id),1)):m("",!0)]),e("div",z,[t[7]||(t[7]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Enrollment Status * ",-1)),b(e("select",{"onUpdate:modelValue":t[1]||(t[1]=s=>r(l).status=s),required:"",class:p(["w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 py-2 px-3",{"border-red-300":o.errors.status}])},[...t[6]||(t[6]=[e("option",{value:"enrolled"},"Enrolled (Not started)",-1),e("option",{value:"active"},"Active (Started learning)",-1),e("option",{value:"paused"},"Paused (Temporarily stopped)",-1)])],2),[[h,r(l).status]]),o.errors.status?(a(),i("p",$,d(o.errors.status),1)):m("",!0)]),e("div",null,[t[8]||(t[8]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Notes (Optional) ",-1)),b(e("textarea",{"onUpdate:modelValue":t[2]||(t[2]=s=>r(l).notes=s),rows:"3",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 py-2 px-3",placeholder:"Add any notes about this enrollment..."},null,512),[[C,r(l).notes]])])]),e("div",P,[u(r(v),{href:n.route("admin.courses.enrollments.index",o.course.id),class:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50"},{default:c(()=>[...t[9]||(t[9]=[f(" Cancel ",-1)])]),_:1},8,["href"]),e("button",{type:"submit",disabled:r(l).processing,class:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50"},[r(l).processing?(a(),i("span",G,"Enrolling...")):(a(),i("span",H,"Enroll Student"))],8,Q)])],32)]),o.availableStudents.length>0?(a(),i("div",I,[e("div",J,[e("div",K,[t[11]||(t[11]=e("h3",{class:"text-lg font-semibold text-gray-900"},"Available Students",-1)),e("p",R,d(o.availableStudents.length)+" students not enrolled in this course ",1)]),e("div",W,[e("div",X,[(a(!0),i(x,null,y(o.availableStudents,s=>(a(),i("div",{key:s.id,class:"flex items-center justify-between p-3 border border-gray-200 rounded-lg hover:bg-gray-50"},[e("div",Y,[e("div",Z,[e("div",ee,[e("span",te,d(s.name.charAt(0).toUpperCase()),1)])]),e("div",null,[e("div",se,d(s.name),1),e("div",oe,d(s.email),1)])]),e("div",re,[e("div",le," Level: "+d(s.student_profile?.current_level||"Not set"),1),e("button",{onClick:ae=>w(s.id),class:"mt-1 text-xs text-blue-600 hover:text-blue-800"}," Quick Enroll ",8,de)])]))),128))])])])])):m("",!0)])])]),_:1}))}};export{he as default};
