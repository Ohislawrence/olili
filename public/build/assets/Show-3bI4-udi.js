import{f as d,a as e,o as a,r as $,O as K,c as v,w as b,b as l,h as o,p as W,g as u,x as p,t as i,n as g,i as r,F as N,j as U,e as L,s as X,q as A,y as w}from"./app-Du3ti5G-.js";import{A as Y}from"./AdminLayout-DjUaeQft.js";import{_ as Z}from"./ConfirmationModal-CFLv7wvK.js";import{_ as ee}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{r as te}from"./ArrowLeftIcon-rfkOBI_z.js";import{r as C}from"./EnvelopeIcon-CnHpc6dW.js";import{r as j}from"./BellIcon-Dw2GktEE.js";import{r as se}from"./PaperAirplaneIcon-DtYG-_Cq.js";import{r as ie}from"./PencilIcon-DU91WEVV.js";import{r as ne}from"./EyeIcon-xiioeOEu.js";import{r as oe}from"./TrashIcon-B47ek7z8.js";import{r as V}from"./UserIcon-BrAFqYxT.js";import{r as ae}from"./CalendarIcon-BnfJbtVU.js";import{r as F}from"./ClockIcon-C_mk1ga_.js";import{r as R}from"./CheckCircleIcon-BExaLlU5.js";import{r as le}from"./UserGroupIcon-QfXIPci7.js";import{r as re}from"./TagIcon-DZYX2Nt-.js";import{r as de}from"./ArrowPathIcon-I_7TgXGR.js";import{r as ce}from"./ChartBarIcon-DicUuoVI.js";import{r as ue}from"./PlusIcon-C29-9lq2.js";import"./XMarkIcon-Dmbfj0u2.js";import"./UsersIcon-Di9jluZP.js";import"./ChatBubbleLeftRightIcon-DEXvgE9q.js";import"./CurrencyDollarIcon-DeVtfDFM.js";import"./Modal-CqGfnCEu.js";function fe(s,f){return a(),d("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"})])}const me={class:"py-6"},ge={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},xe={class:"mb-8"},ye={class:"flex items-center justify-between"},be={class:"flex items-center"},he={class:"text-3xl font-bold text-gray-900"},ve={class:"mt-2 flex flex-wrap items-center gap-3"},pe={class:"flex w-2 h-2 mr-2"},we={key:0,class:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-blue-100 text-blue-800"},_e={key:1,class:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-gray-100 text-gray-800"},ke={class:"flex items-center space-x-3"},Se=["disabled"],$e={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},Ce={class:"lg:col-span-2 space-y-6"},je={class:"bg-white shadow rounded-lg"},De={class:"p-6 space-y-6"},Te={class:"bg-gray-50 p-4 rounded-md border border-gray-200 whitespace-pre-line"},Ne={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Ue={class:"space-y-1"},Le={class:"flex items-center text-sm text-gray-600"},Me={class:"flex items-center text-sm text-gray-600"},Ae={class:"space-y-1"},Ve={key:0,class:"flex items-center text-sm text-gray-600"},Fe={key:1,class:"flex items-center text-sm text-gray-600"},Re={key:2,class:"text-sm text-gray-600"},Be={class:"bg-gray-50 p-4 rounded-md border border-gray-200"},He={class:"flex items-center justify-between mb-3"},Ie={class:"flex items-center"},Oe={class:"font-medium"},ze={class:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-gray-100 text-gray-800"},Ee={key:0,class:"mt-3"},Pe={class:"flex flex-wrap gap-2"},qe={key:1,class:"mt-3"},Je={class:"text-sm text-gray-600"},Qe={key:0},Ge={class:"bg-gray-900 text-gray-100 p-4 rounded-md overflow-x-auto"},Ke={class:"text-sm whitespace-pre-wrap"},We={class:"bg-white shadow rounded-lg"},Xe={class:"p-6"},Ye={class:"grid grid-cols-2 md:grid-cols-4 gap-4"},Ze={class:"bg-gray-50 rounded-lg p-4 text-center"},et={class:"text-2xl font-bold text-gray-900"},tt={class:"bg-green-50 rounded-lg p-4 text-center"},st={class:"text-2xl font-bold text-green-900"},it={class:"bg-yellow-50 rounded-lg p-4 text-center"},nt={class:"text-2xl font-bold text-yellow-900"},ot={class:"bg-red-50 rounded-lg p-4 text-center"},at={class:"text-2xl font-bold text-red-900"},lt={key:0,class:"mt-6 bg-blue-50 rounded-lg p-4"},rt={class:"flex items-center"},dt={class:"text-sm font-medium text-blue-900"},ct={class:"space-y-6"},ut={class:"bg-white shadow rounded-lg"},ft={class:"p-6 space-y-4"},mt=["disabled"],gt={class:"bg-white shadow rounded-lg"},xt={class:"p-6"},yt={class:"flow-root"},bt={role:"list",class:"-mb-8"},ht={class:"relative pb-8"},vt={class:"relative flex items-start space-x-3"},pt={class:"relative px-1"},wt={class:"h-8 w-8 bg-blue-100 rounded-full ring-8 ring-white flex items-center justify-center"},_t={class:"min-w-0 flex-1 py-1.5"},kt={class:"text-sm text-gray-900"},St={class:"mt-0.5 text-sm text-gray-500"},$t={key:0,class:"relative pb-8"},Ct={class:"relative flex items-start space-x-3"},jt={class:"relative px-1"},Dt={class:"h-8 w-8 bg-yellow-100 rounded-full ring-8 ring-white flex items-center justify-center"},Tt={class:"min-w-0 flex-1 py-1.5"},Nt={class:"mt-0.5 text-sm text-gray-500"},Ut={key:1,class:"relative pb-8"},Lt={class:"relative flex items-start space-x-3"},Mt={class:"relative px-1"},At={class:"h-8 w-8 bg-green-100 rounded-full ring-8 ring-white flex items-center justify-center"},Vt={class:"min-w-0 flex-1 py-1.5"},Ft={class:"mt-0.5 text-sm text-gray-500"},Rt={class:"relative"},Bt={class:"relative flex items-start space-x-3"},Ht={class:"relative px-1"},It={class:"min-w-0 flex-1 py-1.5"},Ot={class:"text-sm text-gray-900"},zt={class:"mt-0.5 text-sm text-gray-500"},Et={key:0,class:"mt-6"},Pt={class:"bg-white shadow rounded-lg"},qt={class:"p-6"},Jt={class:"mb-6"},Qt={class:"flex flex-wrap gap-4 items-center"},Gt={class:"flex-1 min-w-[200px]"},Kt={class:"overflow-x-auto"},Wt={class:"min-w-full divide-y divide-gray-200"},Xt={class:"bg-white divide-y divide-gray-200"},Yt={class:"px-6 py-4 whitespace-nowrap"},Zt={class:"flex items-center"},es={class:"flex-shrink-0 h-10 w-10"},ts={class:"h-10 w-10 rounded-full bg-gray-200 flex items-center justify-center"},ss={class:"ml-4"},is={class:"text-sm font-medium text-gray-900"},ns={class:"text-sm text-gray-500"},os={class:"px-6 py-4 whitespace-nowrap"},as={key:2,class:"flex items-center"},ls={class:"px-6 py-4 whitespace-nowrap"},rs={class:"flex w-2 h-2 mr-1"},ds={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},cs={class:"px-6 py-4 whitespace-nowrap"},us={key:0,class:"text-xs text-red-600 max-w-xs truncate block"},fs={key:1,class:"text-xs text-gray-400"},ms={key:0,class:"mt-6 px-6 py-4 border-t border-gray-200 bg-gray-50"},gs={class:"flex items-center justify-between"},xs={class:"text-sm text-gray-700"},ys={class:"font-medium"},bs={class:"font-medium"},hs={class:"font-medium"},vs={class:"flex space-x-2"},ps={class:"mt-4 p-3 bg-gray-50 rounded-md"},ws={class:"font-medium text-gray-900"},_s={class:"text-sm text-gray-600 mt-1"},ks={__name:"Show",props:{notification:Object,stats:Object,logs:Object,filters:Object},setup(s){const f=s,_=$(!1),k=$(!1),D=$(!1),S=$(!1),x=K({search:f.filters?.search||"",status:f.filters?.status||"",channel:f.filters?.channel||""});let M=null;const B=c=>({draft:"bg-gray-100 text-gray-800",scheduled:"bg-blue-100 text-blue-800",sending:"bg-yellow-100 text-yellow-800",sent:"bg-green-100 text-green-800",failed:"bg-red-100 text-red-800"})[c]||"bg-gray-100 text-gray-800",H=c=>({draft:"bg-gray-400",scheduled:"bg-blue-400",sending:"bg-yellow-400",sent:"bg-green-400",failed:"bg-red-400"})[c]||"bg-gray-400",I=c=>({draft:"bg-gray-500",scheduled:"bg-blue-500",sending:"bg-yellow-500",sent:"bg-green-500",failed:"bg-red-500"})[c]||"bg-gray-500",O=c=>({info:"bg-blue-100 text-blue-800",success:"bg-green-100 text-green-800",warning:"bg-yellow-100 text-yellow-800",alert:"bg-red-100 text-red-800",system:"bg-purple-100 text-purple-800"})[c]||"bg-gray-100 text-gray-800",z=c=>({all:"All Users",roles:"Specific Roles",specific:"Specific Users"})[c]||c,y=c=>c?new Date(c).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"}):"",E=c=>{if(!c)return"";const t=new Date(c),h=Math.floor((new Date-t)/1e3);if(h<60)return"just now";if(h<3600){const m=Math.floor(h/60);return`${m} minute${m!==1?"s":""} ago`}else if(h<86400){const m=Math.floor(h/3600);return`${m} hour${m!==1?"s":""} ago`}else{const m=Math.floor(h/86400);return`${m} day${m!==1?"s":""} ago`}},P=()=>{confirm("Are you sure you want to send this notification now?")&&(_.value=!0,w.post(route("admin.notifications.send-now",f.notification.id),{},{preserveScroll:!0,onFinish:()=>{_.value=!1}}))},q=()=>{confirm(`Resend to ${f.stats.failed} failed recipient(s)?`)&&(k.value=!0,w.post(route("admin.notifications.resend-failed",f.notification.id),{},{preserveScroll:!0,onFinish:()=>{k.value=!1}}))},J=()=>{D.value=!0},Q=()=>{w.delete(route("admin.notifications.destroy",f.notification.id),{onSuccess:()=>{w.visit(route("admin.notifications.index"))}})},G=()=>{clearTimeout(M),M=setTimeout(()=>{T()},300)},T=()=>{w.get(route("admin.notifications.show",f.notification.id),{...x,page:f.logs.current_page},{preserveState:!0,replace:!0})};return(c,t)=>(a(),v(Y,null,{default:b(()=>[l(o(W),{title:`Notification: ${s.notification.title}`},null,8,["title"]),e("div",me,[e("div",ge,[e("div",xe,[e("div",ye,[e("div",null,[e("div",be,[l(o(p),{href:c.route("admin.notifications.index"),class:"text-gray-400 hover:text-gray-600 mr-3"},{default:b(()=>[l(o(te),{class:"h-5 w-5"})]),_:1},8,["href"]),e("div",null,[e("h1",he,i(s.notification.title),1),e("div",ve,[e("span",{class:g([B(s.notification.status),"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium"])},[e("span",pe,[e("span",{class:g([H(s.notification.status),"animate-pulse w-2 h-2 rounded-full"])},null,2)]),r(" "+i(s.notification.status_label),1)],2),e("span",{class:g([O(s.notification.type),"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium capitalize"])},i(s.notification.type),3),s.notification.send_email?(a(),d("span",we,[l(o(C),{class:"h-4 w-4 mr-1"}),t[5]||(t[5]=r(" Email + In-app ",-1))])):(a(),d("span",_e,[l(o(j),{class:"h-4 w-4 mr-1"}),t[6]||(t[6]=r(" In-app only ",-1))]))])])])]),e("div",ke,[s.notification.status!=="sent"&&s.notification.status!=="sending"?(a(),d("button",{key:0,onClick:P,disabled:_.value,class:"inline-flex items-center px-4 py-2 bg-green-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-green-700 focus:bg-green-700 active:bg-green-800 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 transition ease-in-out duration-150 disabled:opacity-50 disabled:cursor-not-allowed"},[l(o(se),{class:"h-4 w-4 mr-2"}),r(" "+i(_.value?"Sending...":"Send Now"),1)],8,Se)):u("",!0),s.notification.status==="draft"?(a(),v(o(p),{key:1,href:c.route("admin.notifications.edit",s.notification.id),class:"inline-flex items-center px-4 py-2 bg-yellow-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-yellow-700 focus:bg-yellow-700 active:bg-yellow-800 focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:ring-offset-2 transition ease-in-out duration-150"},{default:b(()=>[l(o(ie),{class:"h-4 w-4 mr-2"}),t[7]||(t[7]=r(" Edit ",-1))]),_:1},8,["href"])):u("",!0),l(o(p),{href:c.route("admin.notifications.preview",s.notification.id),class:"inline-flex items-center px-4 py-2 bg-purple-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-purple-700 focus:bg-purple-700 active:bg-purple-800 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 transition ease-in-out duration-150"},{default:b(()=>[l(o(ne),{class:"h-4 w-4 mr-2"}),t[8]||(t[8]=r(" Preview ",-1))]),_:1},8,["href"]),s.notification.status!=="sent"?(a(),d("button",{key:2,onClick:J,class:"inline-flex items-center px-4 py-2 bg-red-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-red-700 focus:bg-red-700 active:bg-red-800 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition ease-in-out duration-150"},[l(o(oe),{class:"h-4 w-4 mr-2"}),t[9]||(t[9]=r(" Delete ",-1))])):u("",!0)])])]),e("div",$e,[e("div",Ce,[e("div",je,[t[17]||(t[17]=e("div",{class:"px-6 py-5 border-b border-gray-200"},[e("h3",{class:"text-lg font-medium text-gray-900"},"Notification Details")],-1)),e("div",De,[e("div",null,[t[10]||(t[10]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Message",-1)),e("div",Te,i(s.notification.message),1)]),e("div",Ne,[e("div",null,[t[11]||(t[11]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Created",-1)),e("div",Ue,[e("div",Le,[l(o(V),{class:"h-4 w-4 mr-2 text-gray-400"}),r(" By: "+i(s.notification.sender?.name||"System"),1)]),e("div",Me,[l(o(ae),{class:"h-4 w-4 mr-2 text-gray-400"}),r(" "+i(y(s.notification.created_at)),1)])])]),e("div",null,[t[12]||(t[12]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Timing",-1)),e("div",Ae,[s.notification.scheduled_at?(a(),d("div",Ve,[l(o(F),{class:"h-4 w-4 mr-2 text-gray-400"}),r(" Scheduled: "+i(y(s.notification.scheduled_at)),1)])):u("",!0),s.notification.sent_at?(a(),d("div",Fe,[l(o(R),{class:"h-4 w-4 mr-2 text-green-400"}),r(" Sent: "+i(y(s.notification.sent_at)),1)])):u("",!0),!s.notification.scheduled_at&&!s.notification.sent_at?(a(),d("div",Re," To be sent immediately ")):u("",!0)])])]),e("div",null,[t[15]||(t[15]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Recipient Selection",-1)),e("div",Be,[e("div",He,[e("div",Ie,[l(o(le),{class:"h-5 w-5 mr-2 text-gray-400"}),e("span",Oe,"Target: "+i(z(s.notification.user_selection)),1)]),e("span",ze,i(s.notification.recipients_count)+" recipients ",1)]),s.notification.role_names&&s.notification.role_names.length>0?(a(),d("div",Ee,[t[13]||(t[13]=e("h4",{class:"text-sm font-medium text-gray-700 mb-2"},"Selected Roles:",-1)),e("div",Pe,[(a(!0),d(N,null,U(s.notification.role_names,n=>(a(),d("span",{key:n,class:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800 capitalize"},[l(o(re),{class:"h-3 w-3 mr-1"}),r(" "+i(n),1)]))),128))])])):u("",!0),s.notification.user_ids&&s.notification.user_ids.length>0?(a(),d("div",qe,[t[14]||(t[14]=e("h4",{class:"text-sm font-medium text-gray-700 mb-2"},"Specific Users:",-1)),e("div",Je,i(s.notification.user_ids.length)+" user(s) selected ",1)])):u("",!0)])]),s.notification.data?(a(),d("div",Qe,[t[16]||(t[16]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Additional Data",-1)),e("div",Ge,[e("pre",Ke,i(JSON.stringify(s.notification.data,null,2)),1)])])):u("",!0)])]),e("div",We,[t[22]||(t[22]=e("div",{class:"px-6 py-5 border-b border-gray-200"},[e("h3",{class:"text-lg font-medium text-gray-900"},"Delivery Statistics")],-1)),e("div",Xe,[e("div",Ye,[e("div",Ze,[e("div",et,i(s.stats.total),1),t[18]||(t[18]=e("div",{class:"text-sm text-gray-600"},"Total Recipients",-1))]),e("div",tt,[e("div",st,i(s.stats.sent),1),t[19]||(t[19]=e("div",{class:"text-sm text-green-600"},"Successfully Sent",-1))]),e("div",it,[e("div",nt,i(s.stats.pending),1),t[20]||(t[20]=e("div",{class:"text-sm text-yellow-600"},"Pending",-1))]),e("div",ot,[e("div",at,i(s.stats.failed),1),t[21]||(t[21]=e("div",{class:"text-sm text-red-600"},"Failed",-1))])]),s.stats.email_sent>0?(a(),d("div",lt,[e("div",rt,[l(o(C),{class:"h-5 w-5 text-blue-500 mr-2"}),e("span",dt,i(s.stats.email_sent)+" email(s) sent successfully ",1)])])):u("",!0)])])]),e("div",ct,[e("div",ut,[t[24]||(t[24]=e("div",{class:"px-6 py-5 border-b border-gray-200"},[e("h3",{class:"text-lg font-medium text-gray-900"},"Quick Actions")],-1)),e("div",ft,[s.stats.failed>0?(a(),d("button",{key:0,onClick:q,disabled:k.value,class:"w-full flex items-center justify-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-orange-600 hover:bg-orange-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 disabled:opacity-50 disabled:cursor-not-allowed"},[l(o(de),{class:"h-4 w-4 mr-2"}),r(" "+i(k.value?"Resending...":`Resend Failed (${s.stats.failed})`),1)],8,mt)):u("",!0),l(o(p),{href:c.route("admin.notifications.create"),class:"w-full flex items-center justify-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"},{default:b(()=>[l(o(fe),{class:"h-4 w-4 mr-2"}),t[23]||(t[23]=r(" Clone as New ",-1))]),_:1},8,["href"]),e("button",{onClick:t[0]||(t[0]=n=>S.value=!S.value),class:"w-full flex items-center justify-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"},[l(o(ce),{class:"h-4 w-4 mr-2"}),r(" "+i(S.value?"Hide Logs":"View Detailed Logs"),1)])])]),e("div",gt,[t[29]||(t[29]=e("div",{class:"px-6 py-5 border-b border-gray-200"},[e("h3",{class:"text-lg font-medium text-gray-900"},"Status Timeline")],-1)),e("div",xt,[e("div",yt,[e("ul",bt,[e("li",ht,[e("div",vt,[e("div",null,[e("div",pt,[e("div",wt,[l(o(ue),{class:"h-4 w-4 text-blue-600"})])])]),e("div",_t,[e("div",kt,[t[25]||(t[25]=e("span",{class:"font-medium"},"Created",-1)),r(" by "+i(s.notification.sender?.name||"System"),1)]),e("p",St,i(y(s.notification.created_at)),1)])])]),s.notification.scheduled_at?(a(),d("li",$t,[e("div",Ct,[e("div",null,[e("div",jt,[e("div",Dt,[l(o(F),{class:"h-4 w-4 text-yellow-600"})])])]),e("div",Tt,[t[26]||(t[26]=e("div",{class:"text-sm text-gray-900"},[e("span",{class:"font-medium"},"Scheduled"),r(" for delivery ")],-1)),e("p",Nt,i(y(s.notification.scheduled_at)),1)])])])):u("",!0),s.notification.sent_at?(a(),d("li",Ut,[e("div",Lt,[e("div",null,[e("div",Mt,[e("div",At,[l(o(R),{class:"h-4 w-4 text-green-600"})])])]),e("div",Vt,[t[27]||(t[27]=e("div",{class:"text-sm text-gray-900"},[e("span",{class:"font-medium"},"Sent"),r(" to recipients ")],-1)),e("p",Ft,i(y(s.notification.sent_at)),1)])])])):u("",!0),e("li",Rt,[e("div",Bt,[e("div",null,[e("div",Ht,[e("div",{class:g([I(s.notification.status),"h-8 w-8 rounded-full ring-8 ring-white flex items-center justify-center"])},[l(o(j),{class:"h-4 w-4 text-white"})],2)])]),e("div",It,[e("div",Ot,[t[28]||(t[28]=e("span",{class:"font-medium"},"Current Status:",-1)),r(" "+i(s.notification.status_label),1)]),e("p",zt," Updated "+i(E(s.notification.updated_at)),1)])])])])])])])])]),S.value?(a(),d("div",Et,[e("div",Pt,[t[37]||(t[37]=e("div",{class:"px-6 py-5 border-b border-gray-200"},[e("h3",{class:"text-lg font-medium text-gray-900"},"Delivery Logs"),e("p",{class:"mt-1 text-sm text-gray-500"},"Detailed logs for each recipient")],-1)),e("div",qt,[e("div",Jt,[e("div",Qt,[e("div",Gt,[L(e("input",{"onUpdate:modelValue":t[1]||(t[1]=n=>x.search=n),type:"text",placeholder:"Search by user...",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",onInput:G},null,544),[[X,x.search]])]),L(e("select",{"onUpdate:modelValue":t[2]||(t[2]=n=>x.status=n),class:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",onChange:T},[...t[30]||(t[30]=[e("option",{value:""},"All Status",-1),e("option",{value:"sent"},"Sent",-1),e("option",{value:"failed"},"Failed",-1),e("option",{value:"pending"},"Pending",-1)])],544),[[A,x.status]]),L(e("select",{"onUpdate:modelValue":t[3]||(t[3]=n=>x.channel=n),class:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",onChange:T},[...t[31]||(t[31]=[e("option",{value:""},"All Channels",-1),e("option",{value:"database"},"In-app",-1),e("option",{value:"email"},"Email",-1),e("option",{value:"both"},"Both",-1)])],544),[[A,x.channel]])])]),e("div",Kt,[e("table",Wt,[t[32]||(t[32]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," User "),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Channel "),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Status "),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Sent At "),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Error ")])],-1)),e("tbody",Xt,[(a(!0),d(N,null,U(s.logs.data,n=>(a(),d("tr",{key:n.id,class:"hover:bg-gray-50"},[e("td",Yt,[e("div",Zt,[e("div",es,[e("div",ts,[l(o(V),{class:"h-6 w-6 text-gray-500"})])]),e("div",ss,[e("div",is,i(n.user?.name||"Unknown User"),1),e("div",ns,i(n.user?.email||"No email"),1)])])]),e("td",os,[e("span",{class:g([n.channel==="email"?"bg-blue-100 text-blue-800":n.channel==="both"?"bg-purple-100 text-purple-800":"bg-gray-100 text-gray-800","inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium capitalize"])},[n.channel==="email"?(a(),v(o(C),{key:0,class:"h-3 w-3 mr-1"})):n.channel==="database"?(a(),v(o(j),{key:1,class:"h-3 w-3 mr-1"})):(a(),d("div",as,[l(o(C),{class:"h-3 w-3 mr-0.5"}),l(o(j),{class:"h-3 w-3 ml-0.5"})])),r(" "+i(n.channel),1)],2)]),e("td",ls,[e("span",{class:g([n.status==="sent"?"bg-green-100 text-green-800":n.status==="failed"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800","inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium"])},[e("span",rs,[e("span",{class:g([n.status==="sent"?"bg-green-400":n.status==="failed"?"bg-red-400":"bg-yellow-400","w-2 h-2 rounded-full"])},null,2)]),r(" "+i(n.status_label||n.status),1)],2)]),e("td",ds,i(n.sent_at?y(n.sent_at):"Not sent yet"),1),e("td",cs,[n.error_message?(a(),d("span",us,i(n.error_message),1)):(a(),d("span",fs,"-"))])]))),128))])])]),s.logs.links&&s.logs.links.length>3?(a(),d("div",ms,[e("div",gs,[e("div",xs,[t[33]||(t[33]=r(" Showing ",-1)),e("span",ys,i(s.logs.from),1),t[34]||(t[34]=r(" to ",-1)),e("span",bs,i(s.logs.to),1),t[35]||(t[35]=r(" of ",-1)),e("span",hs,i(s.logs.total),1),t[36]||(t[36]=r(" results ",-1))]),e("div",vs,[(a(!0),d(N,null,U(s.logs.links,n=>(a(),v(o(p),{key:n.label,href:n.url,class:g([n.active?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50","relative inline-flex items-center px-4 py-2 border text-sm font-medium"]),innerHTML:n.label},null,8,["href","class","innerHTML"]))),128))])])])):u("",!0)])])])):u("",!0)])]),l(Z,{show:D.value,onClose:t[4]||(t[4]=n=>D.value=!1),onConfirm:Q},{title:b(()=>[...t[38]||(t[38]=[r(" Delete Notification ",-1)])]),content:b(()=>[t[39]||(t[39]=r(" Are you sure you want to delete this notification? This action cannot be undone. ",-1)),e("div",ps,[e("div",ws,i(s.notification.title),1),e("div",_s,i(s.notification.message.substring(0,100))+"...",1)])]),_:1},8,["show"])]),_:1}))}},Ks=ee(ks,[["__scopeId","data-v-dfc084ec"]]);export{Ks as default};
