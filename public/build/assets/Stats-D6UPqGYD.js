import{f as b,g as R,a as t,i as k,t as a,F as D,j,n as $,o as u,r as B,l as H,m as T,M as E,A as L,d as I,c as P,w as G,b as y,h as S,p as X,x as N,z as tt,e as O,q as W,s as V,y as et}from"./app-9iTwA3vC.js";import{A as st}from"./AdminLayout-BNATRJWW.js";import{_ as C}from"./StatsCard-CbrPMX_H.js";import{C as Z}from"./auto-sRkgK8jz.js";import{_ as Y}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./DropdownLink-BJxGAADP.js";import"./NavLink-CVNpfdyq.js";import"./XMarkIcon-DR50bQrw.js";import"./UsersIcon-Dq-ijHz8.js";import"./ChatBubbleLeftRightIcon-B5E4Bl1m.js";import"./ChartBarIcon-DGOEscCD.js";import"./CurrencyDollarIcon-BD-2biuk.js";import"./EyeIcon-DsHcOT47.js";import"./CheckCircleIcon-gOQAQdUW.js";import"./TrophyIcon-ChH7CVrY.js";import"./SparklesIcon-Vg7orskU.js";import"./CreditCardIcon-BSp36FxJ.js";import"./ExclamationTriangleIcon-D09Y4htZ.js";import"./UserGroupIcon-Cz7EhKcJ.js";import"./AcademicCapIcon-BcrHGEuI.js";const ot={key:0,class:"flex items-center justify-between"},rt={class:"flex-1 flex justify-between sm:hidden"},at=["disabled"],lt=["disabled"],it={class:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between"},nt={class:"text-sm text-gray-700"},dt={class:"font-medium"},ct={class:"font-medium"},ut={class:"font-medium"},gt={class:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination"},mt=["onClick","disabled","innerHTML"],bt={__name:"Pagination",props:{links:{type:Array,default:()=>[]},from:{type:Number,default:0},to:{type:Number,default:0},total:{type:Number,default:0}},emits:["page-change"],setup(o){const s=d=>{if(!d)return null;const i=d.match(/page=(\d+)/);return i?parseInt(i[1]):null};return(d,i)=>o.links&&o.links.length>3?(u(),b("div",ot,[t("div",rt,[t("button",{disabled:!o.links[0].url,onClick:i[0]||(i[0]=m=>d.$emit("page-change",s(o.links[0].url))),class:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"}," Previous ",8,at),t("button",{disabled:!o.links[o.links.length-1].url,onClick:i[1]||(i[1]=m=>d.$emit("page-change",s(o.links[o.links.length-1].url))),class:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"}," Next ",8,lt)]),t("div",it,[t("div",null,[t("p",nt,[i[2]||(i[2]=k(" Showing ",-1)),t("span",dt,a(o.from),1),i[3]||(i[3]=k(" to ",-1)),t("span",ct,a(o.to),1),i[4]||(i[4]=k(" of ",-1)),t("span",ut,a(o.total),1),i[5]||(i[5]=k(" results ",-1))])]),t("div",null,[t("nav",gt,[(u(!0),b(D,null,j(o.links,(m,v)=>(u(),b("button",{key:v,onClick:w=>!m.active&&m.url&&d.$emit("page-change",s(m.url)),disabled:!m.url||m.active,class:$(["relative inline-flex items-center px-4 py-2 border text-sm font-medium",v===0?"rounded-l-md":"",v===o.links.length-1?"rounded-r-md":"",m.active?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50",!m.url||m.active?"disabled:opacity-50 disabled:cursor-not-allowed":"cursor-pointer"]),innerHTML:m.label},null,10,mt))),128))])])])])):R("",!0)}},ht={__name:"BarChart",props:{type:{type:String,default:"bar"},data:{type:Object,default:()=>({})},options:{type:Object,default:()=>({})},height:{type:String,default:"300px"}},setup(o){const s=o,d=B(null);let i=null;const m={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},tooltip:{callbacks:{label:function(w){let _=w.dataset.label||"";return _&&(_+=": "),w.parsed.y!==null&&(_+=w.parsed.y),_}}}},scales:{y:{beginAtZero:!0,ticks:{precision:0}}}},v=()=>{if(!d.value||!s.data)return;i&&i.destroy();const w=d.value.getContext("2d");i=new Z(w,{type:s.type,data:s.data,options:{...m,...s.options}})};return H(()=>{v()}),T(()=>s.data,()=>{v()},{deep:!0}),E(()=>{i&&i.destroy()}),(w,_)=>(u(),b("div",{class:"chart-container",style:L({height:o.height})},[t("canvas",{ref_key:"chartCanvas",ref:d},null,512)],4))}},xt=Y(ht,[["__scopeId","data-v-fe6625bc"]]),pt={__name:"LineChart",props:{data:{type:Object,default:()=>({})},options:{type:Object,default:()=>({})},height:{type:String,default:"300px"},gradient:{type:Boolean,default:!0},fill:{type:Boolean,default:!0},tension:{type:Number,default:.4}},setup(o){const s=o,d=B(null);let i=null;const m={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{usePointStyle:!0,padding:20,font:{size:12}}},tooltip:{mode:"index",intersect:!1,backgroundColor:"rgba(0, 0, 0, 0.7)",titleFont:{size:14},bodyFont:{size:13},padding:12,cornerRadius:6,callbacks:{label:function(c){let g=c.dataset.label||"";if(g&&(g+=": "),c.parsed.y!==null){const h=c.parsed.y;g+=h.toLocaleString()}return g}}}},interaction:{mode:"nearest",axis:"x",intersect:!1},scales:{x:{grid:{display:!0,color:"rgba(0, 0, 0, 0.05)"},ticks:{font:{size:11},maxRotation:45}},y:{beginAtZero:!0,grid:{display:!0,color:"rgba(0, 0, 0, 0.05)"},ticks:{font:{size:11},callback:function(c){return c>=1e3?(c/1e3).toFixed(1)+"K":c}}}},elements:{line:{tension:s.tension},point:{radius:3,hoverRadius:6,backgroundColor:"white",borderWidth:2}}},v=(c,g,h)=>{if(!c||!g)return h;const n=c.createLinearGradient(0,g.bottom,0,g.top);let p;if(h.startsWith("rgba"))p=h;else if(h.startsWith("#")){const A=h.replace("#",""),U=parseInt(A.substring(0,2),16),M=parseInt(A.substring(2,4),16),z=parseInt(A.substring(4,6),16);p=`rgba(${U}, ${M}, ${z}, 0.1)`}else p="rgba(59, 130, 246, 0.1)";return n.addColorStop(0,"rgba(255, 255, 255, 0)"),n.addColorStop(1,p),n},w=()=>{if(!s.data||!s.data.datasets)return s.data;const c={...s.data};return c.datasets=c.datasets.map((g,h)=>{const n={...g};if(n.borderWidth=n.borderWidth||2,n.pointBorderWidth=n.pointBorderWidth||2,n.pointRadius=n.pointRadius||3,n.pointHoverRadius=n.pointHoverRadius||6,n.pointBackgroundColor=n.pointBackgroundColor||"white",!n.borderColor){const p=["#3b82f6","#10b981","#8b5cf6","#f59e0b","#ef4444","#06b6d4","#84cc16","#f97316","#ec4899","#6366f1"];n.borderColor=p[h%p.length]}return n.pointBorderColor=n.borderColor,s.fill&&!n.backgroundColor&&(n.backgroundColor=n.borderColor),n}),c},_=()=>{if(!d.value||!s.data)return;i&&i.destroy();const c=d.value.getContext("2d"),g=w();if(s.gradient&&s.fill){const n={top:0,right:d.value.width,bottom:d.value.height};g.datasets=g.datasets.map(p=>p.backgroundColor&&p.backgroundColor.startsWith("rgba")||p.backgroundColor.startsWith("#")?{...p,backgroundColor:v(c,n,p.backgroundColor)}:p)}const h={...m,...s.options};i=new Z(c,{type:"line",data:g,options:h})};return H(()=>{setTimeout(()=>{_()},100)}),T(()=>s.data,()=>{if(i){const c=w();if(s.gradient&&s.fill&&d.value){const g=d.value.getContext("2d"),h={top:0,right:d.value.width,bottom:d.value.height};c.datasets=c.datasets.map(n=>n.backgroundColor&&(n.backgroundColor.startsWith("rgba")||n.backgroundColor.startsWith("#"))?{...n,backgroundColor:v(g,h,n.backgroundColor)}:n)}i.data=c,i.update()}else _()},{deep:!0}),T(()=>s.options,()=>{i&&(i.options={...m,...s.options},i.update())},{deep:!0}),E(()=>{i&&(i.destroy(),i=null)}),(c,g)=>(u(),b("div",{class:"chart-container",style:L({height:o.height})},[t("canvas",{ref_key:"chartCanvas",ref:d},null,512)],4))}},ft=Y(pt,[["__scopeId","data-v-5b6a4ac8"]]),yt={class:"py-6"},vt={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},wt={class:"mb-8"},_t={class:"flex justify-between items-center"},kt={class:"flex space-x-3"},Ct={class:"bg-white shadow rounded-lg p-6 mb-8"},$t={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8"},At={class:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8"},Gt={class:"bg-white shadow rounded-lg p-6 mb-8"},St={class:"flex justify-between items-center mb-4"},Dt={class:"text-sm text-gray-500"},jt={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},Ut={class:"lg:col-span-2"},Mt={key:1,class:"h-64 flex items-center justify-center text-gray-500 border-2 border-dashed border-gray-300 rounded-lg"},Nt={class:"space-y-4"},Ot={class:"flex justify-between items-center mb-2"},Rt={class:"font-medium text-gray-900 capitalize"},Lt={class:"w-full bg-gray-200 rounded-full h-2"},zt={class:"text-xs text-gray-500 mt-1 text-right"},Pt={key:0,class:"text-center py-8 text-gray-500"},Tt={class:"bg-white shadow rounded-lg p-6 mb-8"},Bt={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},Ft={class:"lg:col-span-2"},It={key:1,class:"h-64 flex items-center justify-center text-gray-500 border-2 border-dashed border-gray-300 rounded-lg"},Wt={class:"space-y-4"},Vt={class:"p-4 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg"},Ht={class:"text-3xl font-bold text-gray-900 mb-2"},Et={class:"text-xs text-gray-500 mt-1"},Zt={class:"grid grid-cols-2 gap-4"},Yt={class:"p-4 bg-gray-50 rounded-lg"},qt={class:"text-2xl font-bold text-gray-900"},Jt={class:"p-4 bg-gray-50 rounded-lg"},Kt={class:"text-2xl font-bold text-gray-900"},Qt={class:"p-4 bg-gradient-to-r from-green-50 to-emerald-50 rounded-lg"},Xt={class:"text-2xl font-bold text-green-900"},te={class:"text-sm text-gray-600"},ee={class:"bg-white shadow rounded-lg p-6 mb-8"},se={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6"},oe={class:"text-center p-4 bg-blue-50 rounded-lg"},re={class:"text-2xl font-bold text-blue-900"},ae={class:"text-center p-4 bg-green-50 rounded-lg"},le={class:"text-2xl font-bold text-green-900"},ie={class:"text-center p-4 bg-purple-50 rounded-lg"},ne={class:"text-2xl font-bold text-purple-900"},de={class:"text-center p-4 bg-orange-50 rounded-lg"},ce={class:"text-2xl font-bold text-orange-900"},ue={key:0},ge={class:"space-y-2"},me={class:"w-24 text-sm text-gray-600"},be={class:"flex-1"},he={class:"w-full bg-gray-200 rounded-full h-4"},xe={class:"w-16 text-right text-sm font-medium text-gray-900"},pe={class:"bg-white shadow rounded-lg overflow-hidden mb-8"},fe={class:"overflow-x-auto"},ye={class:"min-w-full divide-y divide-gray-200"},ve={class:"bg-white divide-y divide-gray-200"},we={class:"px-6 py-4 whitespace-nowrap"},_e={class:"flex items-center"},ke={class:"flex-shrink-0 h-10 w-10"},Ce={class:"h-10 w-10 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white font-bold"},$e={class:"ml-4"},Ae={class:"text-sm font-medium text-gray-900"},Ge={class:"text-sm text-gray-500"},Se={class:"px-6 py-4 whitespace-nowrap"},De={class:"px-6 py-4 whitespace-nowrap"},je={class:"text-sm text-gray-900"},Ue={class:"px-6 py-4 whitespace-nowrap"},Me={class:"text-sm text-gray-900"},Ne={class:"px-6 py-4 whitespace-nowrap"},Oe={class:"text-sm text-gray-900"},Re={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},Le={key:0,class:"text-center py-8 text-gray-500"},ze={class:"bg-white shadow rounded-lg overflow-hidden"},Pe={class:"px-6 py-4 border-b border-gray-200"},Te={class:"flex justify-between items-center"},Be={class:"text-sm text-gray-500"},Fe={class:"overflow-x-auto"},Ie={class:"min-w-full divide-y divide-gray-200"},We={class:"bg-white divide-y divide-gray-200"},Ve={class:"px-6 py-4 whitespace-nowrap"},He={class:"flex items-center"},Ee={class:"flex-shrink-0 h-10 w-10"},Ze={class:"h-10 w-10 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white font-bold"},Ye={class:"ml-4"},qe={class:"text-sm font-medium text-gray-900"},Je={class:"text-sm text-gray-500"},Ke={class:"px-6 py-4 whitespace-nowrap"},Qe={class:"px-6 py-4 whitespace-nowrap"},Xe={class:"text-sm text-gray-900"},ts={class:"text-xs text-gray-500"},es={class:"px-6 py-4 whitespace-nowrap"},ss={class:"px-6 py-4 whitespace-nowrap"},os={class:"text-sm text-gray-900"},rs={class:"text-xs text-gray-500"},as={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},ls={class:"px-6 py-4 border-t border-gray-200"},Gs={__name:"Stats",props:{users:Object,stats:Object,roleDistribution:Object,monthlyGrowth:Object,topPerformers:Array,learningAnalytics:Object,filters:Object},setup(o){const s=o,d=B({role:s.filters.role||"",status:s.filters.status||"",date_from:s.filters.date_from||"",date_to:s.filters.date_to||""}),i=()=>{et.get(route("admin.users.stats"),d.value,{preserveState:!0,preserveScroll:!0})},m=()=>{d.value={role:"",status:"",date_from:"",date_to:""},i()},v=l=>({admin:"bg-red-100 text-red-800",tutor:"bg-blue-100 text-blue-800",student:"bg-green-100 text-green-800",organization:"bg-purple-100 text-purple-800"})[l]||"bg-gray-100 text-gray-800",w=l=>l?l.split(" ").map(e=>e[0]).join("").toUpperCase().substring(0,2):"?",_=l=>{if(!l)return"Never";const e=new Date(l),f=new Date-e,x=Math.floor(f/(1e3*60*60*24));return x===0?"Today":x===1?"Yesterday":x<7?`${x} days ago`:x<30?`${Math.floor(x/7)} weeks ago`:e.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})},c=I(()=>{if(!s.roleDistribution||Object.keys(s.roleDistribution).length===0)return{};const l=Object.keys(s.roleDistribution),e=Object.values(s.roleDistribution),r=l.map(x=>p(x)),f=r.map(x=>x.replace("0.8","1"));return{labels:l.map(x=>x.charAt(0).toUpperCase()+x.slice(1)),datasets:[{label:"Number of Users",data:e,backgroundColor:r,borderColor:f,borderWidth:1}]}}),g={plugins:{legend:{display:!1},tooltip:{callbacks:{label:function(l){const e=s.stats.total_users||1,r=(l.raw/e*100).toFixed(1);return`${l.label}: ${l.raw} users (${r}%)`}}}},scales:{y:{beginAtZero:!0,title:{display:!0,text:"Number of Users"}},x:{title:{display:!0,text:"Roles"}}}},h=I(()=>{if(!s.monthlyGrowth||!s.monthlyGrowth.labels||s.monthlyGrowth.labels.length===0)return{};const l=s.monthlyGrowth.labels.map(x=>M(x)),e=s.monthlyGrowth.data||[],r=[];let f=0;return e.forEach(x=>{f+=x,r.push(f)}),{labels:l,datasets:[{label:"New Users",data:e,borderColor:"#3b82f6",backgroundColor:"rgba(59, 130, 246, 0.1)",tension:.4,fill:!0},{label:"Total Users",data:r,borderColor:"#10b981",backgroundColor:"rgba(16, 185, 129, 0.1)",tension:.4,fill:!1,borderDash:[5,5]}]}}),n={plugins:{tooltip:{mode:"index",intersect:!1}},scales:{y:{beginAtZero:!0,title:{display:!0,text:"Number of Users"}},x:{title:{display:!0,text:"Month"}}},interaction:{mode:"nearest",axis:"x",intersect:!1}},p=l=>({admin:"rgba(239, 68, 68, 0.8)",tutor:"rgba(59, 130, 246, 0.8)",student:"rgba(16, 185, 129, 0.8)",organization:"rgba(139, 92, 246, 0.8)"})[l]||"rgba(156, 163, 175, 0.8)",A=l=>({admin:"bg-red-500",tutor:"bg-blue-500",student:"bg-green-500",organization:"bg-purple-500"})[l]||"bg-gray-500",U=(l,e)=>!e||e===0?0:(l/e*100).toFixed(1),M=l=>{if(!l)return"";const[e,r]=l.split("-");return new Date(e,r-1,1).toLocaleDateString("en-US",{month:"short",year:"2-digit"})},z=()=>!s.monthlyGrowth?.data||s.monthlyGrowth.data.length===0?0:s.monthlyGrowth.data.slice(-1)[0]||0,q=()=>{if(!s.monthlyGrowth?.data||s.monthlyGrowth.data.length<2)return 0;const l=s.monthlyGrowth.data.slice(-1)[0]||0,e=s.monthlyGrowth.data.slice(-2)[0]||0;return e===0?100:((l-e)/e*100).toFixed(1)},F=()=>s.monthlyGrowth?.data?s.monthlyGrowth.data.reduce((l,e)=>l+e,0):0,J=()=>{if(!s.monthlyGrowth?.data||s.monthlyGrowth.data.length===0)return 0;const l=F();return Math.round(l/s.monthlyGrowth.data.length)},K=()=>{if(!s.monthlyGrowth?.data||s.monthlyGrowth.data.length===0)return"N/A";const l=s.monthlyGrowth.data.indexOf(Math.max(...s.monthlyGrowth.data));return M(s.monthlyGrowth.labels[l])},Q=()=>!s.monthlyGrowth?.data||s.monthlyGrowth.data.length===0?0:Math.max(...s.monthlyGrowth.data);return(l,e)=>(u(),P(st,null,{default:G(()=>[y(S(X),{title:"User Statistics Dashboard"}),t("div",yt,[t("div",vt,[t("div",wt,[t("div",_t,[e[6]||(e[6]=t("div",null,[t("h1",{class:"text-3xl font-bold text-gray-900"},"User Statistics Dashboard"),t("p",{class:"mt-2 text-gray-600"}," Comprehensive analytics and insights about all users ")],-1)),t("div",kt,[y(S(N),{href:l.route("admin.users.stats.export",d.value),class:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50"},{default:G(()=>[...e[4]||(e[4]=[k(" Export Stats ",-1)])]),_:1},8,["href"]),y(S(N),{href:l.route("admin.users.index"),class:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50"},{default:G(()=>[...e[5]||(e[5]=[k(" View Users ",-1)])]),_:1},8,["href"])])])]),t("div",Ct,[e[14]||(e[14]=t("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"Filters",-1)),t("form",{onSubmit:tt(i,["prevent"]),class:"grid grid-cols-1 md:grid-cols-4 gap-4"},[t("div",null,[e[8]||(e[8]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Role",-1)),O(t("select",{"onUpdate:modelValue":e[0]||(e[0]=r=>d.value.role=r),class:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"},[...e[7]||(e[7]=[t("option",{value:""},"All Roles",-1),t("option",{value:"student"},"Student",-1),t("option",{value:"tutor"},"Tutor",-1),t("option",{value:"admin"},"Admin",-1),t("option",{value:"organization"},"Organization",-1)])],512),[[W,d.value.role]])]),t("div",null,[e[10]||(e[10]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Status",-1)),O(t("select",{"onUpdate:modelValue":e[1]||(e[1]=r=>d.value.status=r),class:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"},[...e[9]||(e[9]=[t("option",{value:""},"All Status",-1),t("option",{value:"active"},"Active",-1),t("option",{value:"inactive"},"Inactive",-1)])],512),[[W,d.value.status]])]),t("div",null,[e[11]||(e[11]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Date From",-1)),O(t("input",{"onUpdate:modelValue":e[2]||(e[2]=r=>d.value.date_from=r),type:"date",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"},null,512),[[V,d.value.date_from]])]),t("div",null,[e[12]||(e[12]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Date To",-1)),O(t("input",{"onUpdate:modelValue":e[3]||(e[3]=r=>d.value.date_to=r),type:"date",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"},null,512),[[V,d.value.date_to]])]),t("div",{class:"md:col-span-4 flex justify-end space-x-3"},[e[13]||(e[13]=t("button",{type:"submit",class:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700"}," Apply Filters ",-1)),t("button",{type:"button",onClick:m,class:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50"}," Reset ")])],32)]),t("div",$t,[y(C,{title:"Total Users",value:o.stats.total_users,icon:"users",color:"blue",description:`${o.stats.active_users} active`},null,8,["value","description"]),y(C,{title:"Total Enrollments",value:o.stats.total_enrollments,icon:"academic-cap",color:"green",description:`${o.stats.completed_enrollments} completed`},null,8,["value","description"]),y(C,{title:"Completion Rate",value:`${o.stats.completion_rate}%`,icon:"trophy",color:"orange",description:`Avg progress: ${o.stats.avg_progress}%`},null,8,["value","description"]),y(C,{title:"Total Study Hours",value:o.stats.total_study_hours,icon:"clock",color:"purple",description:`${o.stats.active_students} active students`},null,8,["value","description"]),y(C,{title:"Certificates Issued",value:o.stats.total_certificates,icon:"check-badge",color:"emerald",description:`${o.stats.active_certificates} active, ${o.stats.certificate_rate}% rate`},null,8,["value","description"]),y(C,{title:"New Users (Month)",value:o.stats.new_users_month,icon:"user-plus",color:"pink",description:`${o.stats.new_users_week} this week`},null,8,["value","description"]),y(C,{title:"Avg Study Hours",value:o.stats.avg_study_hours,icon:"chart-bar",color:"indigo",description:"Per user"},null,8,["value"]),y(C,{title:"Verified Users",value:o.stats.verified_users,icon:"shield-check",color:"teal",description:`${Math.round(o.stats.verified_users/o.stats.total_users*100)}% of total`},null,8,["value","description"])]),t("div",At,[t("div",Gt,[t("div",St,[e[15]||(e[15]=t("h3",{class:"text-lg font-semibold text-gray-900"},"Role Distribution",-1)),t("div",Dt," Total: "+a(o.stats.total_users)+" users ",1)]),t("div",jt,[t("div",Ut,[c.value.labels&&c.value.labels.length>0?(u(),P(xt,{key:0,data:c.value,options:g,height:"250px"},null,8,["data"])):(u(),b("div",Mt," No role distribution data available "))]),t("div",Nt,[(u(!0),b(D,null,j(o.roleDistribution,(r,f)=>(u(),b("div",{key:f,class:"p-4 rounded-lg border border-gray-200 hover:bg-gray-50"},[t("div",Ot,[t("span",Rt,a(f),1),t("span",{class:$(["text-sm px-2 py-1 rounded-full",v(f)])},a(r),3)]),t("div",Lt,[t("div",{class:$(["h-2 rounded-full",A(f)]),style:L({width:`${U(r,o.stats.total_users)}%`})},null,6)]),t("div",zt,a(U(r,o.stats.total_users))+"% ",1)]))),128)),Object.keys(o.roleDistribution).length===0?(u(),b("div",Pt," No roles data available ")):R("",!0)])])]),t("div",Tt,[e[20]||(e[20]=t("div",{class:"flex justify-between items-center mb-4"},[t("h3",{class:"text-lg font-semibold text-gray-900"},"Monthly User Growth"),t("div",{class:"text-sm text-gray-500"}," Last 12 months ")],-1)),t("div",Bt,[t("div",Ft,[h.value.labels&&h.value.labels.length>0?(u(),P(ft,{key:0,data:h.value,options:n,height:"250px"},null,8,["data"])):(u(),b("div",It," No growth data available "))]),t("div",Wt,[t("div",Vt,[t("div",Ht,a(z()),1),e[16]||(e[16]=t("div",{class:"text-sm text-gray-600"},"New users this month",-1)),t("div",Et,a(q())+"% change from last month ",1)]),t("div",Zt,[t("div",Yt,[t("div",qt,a(F()),1),e[17]||(e[17]=t("div",{class:"text-sm text-gray-600"},"Total this year",-1))]),t("div",Jt,[t("div",Kt,a(J()),1),e[18]||(e[18]=t("div",{class:"text-sm text-gray-600"},"Monthly average",-1))])]),t("div",Qt,[e[19]||(e[19]=t("div",{class:"text-lg font-semibold text-gray-900 mb-2"}," Peak Month ",-1)),t("div",Xt,a(K()),1),t("div",te,a(Q())+" users ",1)])])])])]),t("div",ee,[e[30]||(e[30]=t("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"Learning Analytics Summary",-1)),t("div",se,[t("div",oe,[t("div",re,a(o.learningAnalytics.avg_study_hours),1),e[21]||(e[21]=t("div",{class:"text-sm text-blue-600"},"Avg Study Hours",-1)),e[22]||(e[22]=t("div",{class:"text-xs text-blue-500 mt-1"},"Per active learner",-1))]),t("div",ae,[t("div",le,a(o.learningAnalytics.avg_score),1),e[23]||(e[23]=t("div",{class:"text-sm text-green-600"},"Average Score",-1)),e[24]||(e[24]=t("div",{class:"text-xs text-green-500 mt-1"},"Out of 100",-1))]),t("div",ie,[t("div",ne,a(o.learningAnalytics.active_learners),1),e[25]||(e[25]=t("div",{class:"text-sm text-purple-600"},"Active Learners",-1)),e[26]||(e[26]=t("div",{class:"text-xs text-purple-500 mt-1"},"Last 30 days",-1))]),t("div",de,[t("div",ce,a(o.learningAnalytics.active_days),1),e[27]||(e[27]=t("div",{class:"text-sm text-orange-600"},"Active Days",-1)),e[28]||(e[28]=t("div",{class:"text-xs text-orange-500 mt-1"},"Last 30 days",-1))])]),o.learningAnalytics.streak_distribution&&Object.keys(o.learningAnalytics.streak_distribution).length>0?(u(),b("div",ue,[e[29]||(e[29]=t("h4",{class:"text-sm font-medium text-gray-700 mb-3"},"Learning Streak Distribution (Last 7 Days)",-1)),t("div",ge,[(u(!0),b(D,null,j(o.learningAnalytics.streak_distribution,(r,f)=>(u(),b("div",{key:f,class:"flex items-center"},[t("div",me,a(f)+" day(s)",1),t("div",be,[t("div",he,[t("div",{class:"bg-gradient-to-r from-green-500 to-emerald-600 h-4 rounded-full",style:L({width:`${r/o.learningAnalytics.active_learners*100}%`})},null,4)])]),t("div",xe,a(r)+" users",1)]))),128))])])):R("",!0)]),t("div",pe,[e[32]||(e[32]=t("div",{class:"px-6 py-4 border-b border-gray-200"},[t("h3",{class:"text-lg font-semibold text-gray-900"},"Top Performers")],-1)),t("div",fe,[t("table",ye,[e[31]||(e[31]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"User"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Role"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Completed Courses"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Certificates"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Study Hours"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Last Active")])],-1)),t("tbody",ve,[(u(!0),b(D,null,j(o.topPerformers,r=>(u(),b("tr",{key:r.id,class:"hover:bg-gray-50"},[t("td",we,[t("div",_e,[t("div",ke,[t("div",Ce,a(w(r.name)),1)]),t("div",$e,[t("div",Ae,[y(S(N),{href:l.route("admin.users.show",r.id),class:"hover:text-blue-600"},{default:G(()=>[k(a(r.name),1)]),_:2},1032,["href"])]),t("div",Ge,a(r.email),1)])])]),t("td",Se,[t("span",{class:$(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",v(r.role)])},a(r.role),3)]),t("td",De,[t("div",je,a(r.completed_courses),1)]),t("td",Ue,[t("div",Me,a(r.certificates),1)]),t("td",Ne,[t("div",Oe,a(r.study_hours)+"h",1)]),t("td",Re,a(_(r.last_active)),1)]))),128))])])]),o.topPerformers.length===0?(u(),b("div",Le," No top performers data available ")):R("",!0)]),t("div",ze,[t("div",Pe,[t("div",Te,[e[33]||(e[33]=t("h3",{class:"text-lg font-semibold text-gray-900"},"All Users",-1)),t("div",Be," Showing "+a(o.users.from)+" to "+a(o.users.to)+" of "+a(o.users.total)+" users ",1)])]),t("div",Fe,[t("table",Ie,[e[34]||(e[34]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"User"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Role"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Enrollments"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Status"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Certificates"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Joined")])],-1)),t("tbody",We,[(u(!0),b(D,null,j(o.users.data,r=>(u(),b("tr",{key:r.id,class:"hover:bg-gray-50"},[t("td",Ve,[t("div",He,[t("div",Ee,[t("div",Ze,a(w(r.name)),1)]),t("div",Ye,[t("div",qe,[y(S(N),{href:l.route("admin.users.show",r.id),class:"hover:text-blue-600"},{default:G(()=>[k(a(r.name),1)]),_:2},1032,["href"])]),t("div",Je,a(r.email),1)])])]),t("td",Ke,[t("span",{class:$(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",v(r.roles[0]?.name)])},a(r.roles[0]?.name||"N/A"),3)]),t("td",Qe,[t("div",Xe,[k(a(r.course_enrollments_count)+" ",1),t("span",ts," ("+a(r.active_enrollments_count)+" active, "+a(r.completed_enrollments_count)+" completed) ",1)])]),t("td",es,[t("span",{class:$(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",r.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"])},a(r.is_active?"Active":"Inactive"),3)]),t("td",ss,[t("div",os,[k(a(r.certificates_count)+" ",1),t("span",rs," ("+a(r.active_certificates_count)+" active) ",1)])]),t("td",as,a(_(r.created_at)),1)]))),128))])])]),t("div",ls,[y(bt,{links:o.users.links},null,8,["links"])])])])])]),_:1}))}};export{Gs as default};
