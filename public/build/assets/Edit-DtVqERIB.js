import{u as U,c as V,w as g,b as p,a as t,i as e,q as E,y,j as v,t as r,A as j,e as c,f as d,h as m,n as b,o as n,F as k,k as h,s as w,x as _,z as A}from"./app-B-OZzbbp.js";import{A as B}from"./AdminLayout-ILp_l5Mg.js";import{r as C}from"./UserIcon-DrZVUHx8.js";import"./XMarkIcon-BKBW53Kb.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ChartBarIcon-OQmpj2xI.js";import"./CurrencyDollarIcon-BTQQ5DA-.js";import"./EyeIcon-C4j8cdnB.js";const O={class:"max-w-2xl mx-auto py-8"},T={class:"mb-8"},N={class:"flex items-center space-x-2 mb-2"},F={class:"text-2xl font-bold text-gray-900"},I={class:"mt-1 text-sm text-gray-600"},L={class:"bg-white shadow rounded-lg"},M={class:"space-y-6 p-6"},z={class:"bg-gray-50 rounded-lg p-4"},P={class:"flex items-center"},q={class:"flex-shrink-0 h-10 w-10 bg-gray-200 rounded-full flex items-center justify-center"},$={class:"ml-4"},G={class:"text-sm font-medium text-gray-900"},H={class:"text-sm text-gray-500"},J=["value"],K={key:0,class:"mt-1 text-sm text-red-600"},Q={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},R=["value"],W={key:0,class:"mt-1 text-sm text-red-600"},X={key:0,class:"mt-1 text-sm text-red-600"},Y={key:0,class:"mt-1 text-sm text-red-600"},Z={key:0,class:"mt-1 text-sm text-red-600"},tt={class:"px-6 py-4 bg-gray-50 border-t border-gray-200 flex justify-between"},st={class:"flex space-x-3"},et=["disabled"],it={key:0},ot={key:1},bt={__name:"Edit",props:{subscription:Object,plans:Array,statusOptions:Object},setup(a){const l=a,i=U({subscription_plan_id:l.subscription.subscription_plan_id,status:l.subscription.status,starts_at:f(l.subscription.starts_at),ends_at:f(l.subscription.ends_at),trial_ends_at:l.subscription.trial_ends_at?f(l.subscription.trial_ends_at):""}),S=()=>{i.put(route("admin.subscriptions.update",l.subscription.id))},D=()=>{confirm("Are you sure you want to delete this subscription? This action cannot be undone.")&&A.delete(route("admin.subscriptions.destroy",l.subscription.id))};function f(u){return u?new Date(u).toISOString().slice(0,16):""}return(u,s)=>(n(),V(B,null,{default:g(()=>[p(e(E),{title:`Edit Subscription #${a.subscription.id}`},null,8,["title"]),t("div",O,[t("div",T,[t("div",N,[p(e(y),{href:u.route("admin.subscriptions.index"),class:"text-indigo-600 hover:text-indigo-900 text-sm font-medium"},{default:g(()=>[...s[5]||(s[5]=[v(" â† Back to Subscriptions ",-1)])]),_:1},8,["href"])]),t("h1",F," Edit Subscription #"+r(a.subscription.id),1),t("p",I," Update subscription details for "+r(a.subscription.user.name),1)]),t("div",L,[t("form",{onSubmit:j(S,["prevent"])},[t("div",M,[t("div",null,[s[6]||(s[6]=t("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"User Information",-1)),t("div",z,[t("div",P,[t("div",q,[p(e(C),{class:"h-6 w-6 text-gray-500"})]),t("div",$,[t("div",G,r(a.subscription.user.name),1),t("div",H,r(a.subscription.user.email),1)])])])]),t("div",null,[s[8]||(s[8]=t("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Plan Information",-1)),t("div",null,[s[7]||(s[7]=t("label",{for:"subscription_plan_id",class:"block text-sm font-medium text-gray-700"}," Select Plan * ",-1)),c(t("select",{id:"subscription_plan_id","onUpdate:modelValue":s[0]||(s[0]=o=>e(i).subscription_plan_id=o),class:b(["mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-indigo-500 focus:ring-indigo-500",{"border-red-300":e(i).errors.subscription_plan_id}])},[(n(!0),d(k,null,h(a.plans,o=>(n(),d("option",{key:o.id,value:o.id},r(o.name)+" - "+r(o.formatted_price),9,J))),128))],2),[[w,e(i).subscription_plan_id]]),e(i).errors.subscription_plan_id?(n(),d("p",K,r(e(i).errors.subscription_plan_id),1)):m("",!0)])]),t("div",null,[s[13]||(s[13]=t("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Subscription Details",-1)),t("div",Q,[t("div",null,[s[9]||(s[9]=t("label",{for:"status",class:"block text-sm font-medium text-gray-700"}," Status * ",-1)),c(t("select",{id:"status","onUpdate:modelValue":s[1]||(s[1]=o=>e(i).status=o),class:b(["mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-indigo-500 focus:ring-indigo-500",{"border-red-300":e(i).errors.status}])},[(n(!0),d(k,null,h(a.statusOptions,(o,x)=>(n(),d("option",{key:x,value:x},r(o),9,R))),128))],2),[[w,e(i).status]]),e(i).errors.status?(n(),d("p",W,r(e(i).errors.status),1)):m("",!0)]),t("div",null,[s[10]||(s[10]=t("label",{for:"starts_at",class:"block text-sm font-medium text-gray-700"}," Start Date * ",-1)),c(t("input",{type:"datetime-local",id:"starts_at","onUpdate:modelValue":s[2]||(s[2]=o=>e(i).starts_at=o),class:b(["mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-indigo-500 focus:ring-indigo-500",{"border-red-300":e(i).errors.starts_at}])},null,2),[[_,e(i).starts_at]]),e(i).errors.starts_at?(n(),d("p",X,r(e(i).errors.starts_at),1)):m("",!0)]),t("div",null,[s[11]||(s[11]=t("label",{for:"ends_at",class:"block text-sm font-medium text-gray-700"}," End Date * ",-1)),c(t("input",{type:"datetime-local",id:"ends_at","onUpdate:modelValue":s[3]||(s[3]=o=>e(i).ends_at=o),class:b(["mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-indigo-500 focus:ring-indigo-500",{"border-red-300":e(i).errors.ends_at}])},null,2),[[_,e(i).ends_at]]),e(i).errors.ends_at?(n(),d("p",Y,r(e(i).errors.ends_at),1)):m("",!0)]),t("div",null,[s[12]||(s[12]=t("label",{for:"trial_ends_at",class:"block text-sm font-medium text-gray-700"}," Trial End Date ",-1)),c(t("input",{type:"datetime-local",id:"trial_ends_at","onUpdate:modelValue":s[4]||(s[4]=o=>e(i).trial_ends_at=o),class:b(["mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-indigo-500 focus:ring-indigo-500",{"border-red-300":e(i).errors.trial_ends_at}])},null,2),[[_,e(i).trial_ends_at]]),e(i).errors.trial_ends_at?(n(),d("p",Z,r(e(i).errors.trial_ends_at),1)):m("",!0)])])])]),t("div",tt,[t("button",{type:"button",onClick:D,class:"inline-flex items-center px-4 py-2 bg-red-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-red-700 focus:bg-red-700 active:bg-red-800 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 disabled:opacity-25 transition ease-in-out duration-150"}," Delete "),t("div",st,[p(e(y),{href:u.route("admin.subscriptions.index"),class:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md font-semibold text-xs text-gray-700 uppercase tracking-widest shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 disabled:opacity-25 transition ease-in-out duration-150"},{default:g(()=>[...s[14]||(s[14]=[v(" Cancel ",-1)])]),_:1},8,["href"]),t("button",{type:"submit",disabled:e(i).processing,class:"inline-flex items-center px-4 py-2 bg-indigo-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-indigo-700 focus:bg-indigo-700 active:bg-indigo-800 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 disabled:opacity-25 transition ease-in-out duration-150"},[e(i).processing?(n(),d("span",it,"Updating...")):(n(),d("span",ot,"Update Subscription"))],8,et)])])],32)])])]),_:1}))}};export{bt as default};
