import{g,d as $,m as M,N,c as j,w as A,b as T,a as e,i as B,q as V,t as r,f as i,h as x,o as a,B as O,A as D,F as f,k as y,n as p,e as w,W as I,v as U,z as F}from"./app-DdL3oBcW.js";import{S as L}from"./StudentLayout-Cf1O1lLg.js";import"./XMarkIcon-mSRpeXsv.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./UserIcon-DhcC205o.js";import"./PlusIcon-DZaatXLl.js";import"./BellIcon-CsQ8GXXV.js";import"./CreditCardIcon-DENJ65nM.js";const P={class:"min-h-screen bg-gradient-to-br from-slate-50 to-emerald-50"},E={class:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-6"},R={class:"bg-white shadow-sm rounded-xl border border-gray-100 mb-6"},W={class:"px-6 py-4 border-b border-gray-200"},G={class:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4"},H={class:"text-xl font-bold text-gray-900"},J={class:"text-sm text-gray-600"},K={class:"text-right"},X={key:0,class:"text-lg font-bold text-gray-900 bg-emerald-50 px-3 py-1 rounded-lg"},Y={class:"text-sm text-gray-500"},Z={class:"mb-6"},ee={class:"flex justify-between text-sm text-gray-600 mb-1"},te={class:"w-full bg-gray-200 rounded-full h-2.5"},se={class:"bg-white shadow-sm rounded-xl border border-gray-100"},oe={class:"p-6 border-b border-gray-200"},le={class:"text-lg font-bold text-gray-900 mb-4"},re={class:"text-gray-700 mb-6 text-lg"},ae={key:0,class:"space-y-3"},ne=["onClick"],ie=["name","value"],de={class:"ml-3 block text-sm font-medium text-gray-700 cursor-pointer flex-1"},ue={key:1,class:"space-y-3"},me=["onClick"],ce=["value"],ve={class:"ml-3 block text-sm font-medium text-gray-700 cursor-pointer flex-1"},be={class:"px-6 py-4 flex flex-col sm:flex-row justify-between gap-3"},ge=["disabled"],he={key:1,type:"submit",class:"inline-flex items-center px-4 py-2.5 border border-transparent text-sm font-semibold rounded-lg text-white bg-emerald-600 hover:bg-emerald-700 shadow-md hover:shadow-lg transition-all duration-200"},xe={class:"mt-6 bg-white shadow-sm rounded-xl border border-gray-100 p-6"},fe={class:"grid grid-cols-5 sm:grid-cols-10 gap-2"},ye=["onClick"],Se={__name:"Take",props:{quiz:Object,attempt:Object,questions:Array,time_limit:Number},setup(n){const m=n,t=g(0),l=g(Array(m.questions.length).fill(null)),h=g(m.time_limit*60),b=g(null),v=$(()=>m.questions[t.value]),k=d=>l.value[t.value]?.includes(d)||!1,q=d=>{l.value[t.value]||(l.value[t.value]=[]);const o=l.value[t.value],s=o.indexOf(d);s>-1?o.splice(s,1):o.push(d)},C=()=>{t.value<m.questions.length-1&&t.value++},Q=()=>{t.value>0&&t.value--},z=d=>{t.value=d},S=d=>{const o=Math.floor(d/60),s=d%60;return`${o}:${s.toString().padStart(2,"0")}`},_=()=>{F.post(route("student.quiz-attempts.submit",m.attempt.id),{answers:l.value})};return M(()=>{m.time_limit>0&&(b.value=setInterval(()=>{h.value>0?h.value--:(clearInterval(b.value),_())},1e3))}),N(()=>{b.value&&clearInterval(b.value)}),(d,o)=>(a(),j(L,null,{default:A(()=>[T(B(V),{title:`Taking Quiz: ${n.quiz.title}`},null,8,["title"]),e("div",P,[e("div",E,[e("div",R,[e("div",W,[e("div",G,[e("div",null,[e("h1",H,r(n.quiz.title),1),e("p",J,r(n.quiz.course_outline.module.course.title)+" â€¢ Attempt #"+r(n.attempt.attempt_number),1)]),e("div",K,[n.time_limit>0?(a(),i("div",X," Time: "+r(S(h.value)),1)):x("",!0),e("div",Y," Question "+r(t.value+1)+" of "+r(n.questions.length),1)])])])]),e("div",Z,[e("div",ee,[o[2]||(o[2]=e("span",null,"Progress",-1)),e("span",null,r(Math.round((t.value+1)/n.questions.length*100))+"%",1)]),e("div",te,[e("div",{class:"bg-gradient-to-r from-emerald-500 to-emerald-600 h-2.5 rounded-full transition-all duration-300",style:O({width:`${(t.value+1)/n.questions.length*100}%`})},null,4)])]),e("div",se,[e("form",{onSubmit:D(_,["prevent"])},[e("div",oe,[e("h2",le," Question "+r(t.value+1),1),e("p",re,r(v.value.question),1),v.value.type==="multiple_choice"?(a(),i("div",ae,[(a(!0),i(f,null,y(v.value.options,(s,u)=>(a(),i("div",{key:u,class:p(["flex items-center p-4 border border-gray-200 rounded-xl hover:bg-emerald-50 cursor-pointer transition-colors duration-200",{"bg-emerald-50 border-emerald-300 shadow-sm":l.value[t.value]===s}]),onClick:c=>l.value[t.value]=s},[w(e("input",{type:"radio",name:`question-${t.value}`,value:s,"onUpdate:modelValue":o[0]||(o[0]=c=>l.value[t.value]=c),class:"focus:ring-emerald-500 h-4 w-4 text-emerald-600 border-gray-300"},null,8,ie),[[I,l.value[t.value]]]),e("label",de,r(s),1)],10,ne))),128))])):x("",!0),v.value.type==="multiple_answer"?(a(),i("div",ue,[(a(!0),i(f,null,y(v.value.options,(s,u)=>(a(),i("div",{key:u,class:p(["flex items-center p-4 border border-gray-200 rounded-xl hover:bg-emerald-50 cursor-pointer transition-colors duration-200",{"bg-emerald-50 border-emerald-300 shadow-sm":k(s)}]),onClick:c=>q(s)},[w(e("input",{type:"checkbox",value:s,"onUpdate:modelValue":o[1]||(o[1]=c=>l.value[t.value]=c),class:"focus:ring-emerald-500 h-4 w-4 text-emerald-600 border-gray-300 rounded"},null,8,ce),[[U,l.value[t.value]]]),e("label",ve,r(s),1)],10,me))),128))])):x("",!0)]),e("div",be,[e("button",{type:"button",onClick:Q,disabled:t.value===0,class:"inline-flex items-center px-4 py-2.5 border border-emerald-300 text-sm font-semibold rounded-lg text-emerald-700 bg-white hover:bg-emerald-50 shadow-sm hover:shadow-md transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed"}," Previous ",8,ge),t.value<n.questions.length-1?(a(),i("button",{key:0,type:"button",onClick:C,class:"inline-flex items-center px-4 py-2.5 border border-transparent text-sm font-semibold rounded-lg text-white bg-emerald-600 hover:bg-emerald-700 shadow-md hover:shadow-lg transition-all duration-200"}," Next Question ")):(a(),i("button",he," Submit Quiz "))])],32)]),e("div",xe,[o[3]||(o[3]=e("h3",{class:"text-sm font-semibold text-gray-900 mb-4"},"Question Navigation",-1)),e("div",fe,[(a(!0),i(f,null,y(n.questions,(s,u)=>(a(),i("button",{key:u,onClick:c=>z(u),class:p(["w-9 h-9 rounded-full text-sm font-medium flex items-center justify-center transition-colors duration-200",u===t.value?"bg-emerald-600 text-white shadow-md":l.value[u]?"bg-emerald-100 text-emerald-800 border border-emerald-300":"bg-gray-100 text-gray-600 border border-gray-300 hover:bg-gray-200"])},r(u+1),11,ye))),128))])])])])]),_:1}))}};export{Se as default};
