import{g as j,c as B,w as c,b as r,a as e,i as a,q as T,f as d,h as y,y as g,j as p,e as f,x as F,o as n,F as w,k as v,t as i,s as _,n as k,z as b}from"./app-D_aca0XA.js";import{A as U}from"./AdminLayout-CBHfnn2B.js";import{_ as $}from"./Pagination-DBxkISwc.js";import{r as C}from"./PlusIcon-DeUSzfS1.js";import{r as M}from"./DocumentTextIcon-DXrNhAaN.js";import"./XMarkIcon-xoIuta9N.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./UserIcon-JIXnFIax.js";import"./ChartBarIcon-VCRtQ2nQ.js";import"./CurrencyDollarIcon-1p_R_MOV.js";import"./EyeIcon-C5_OtGpj.js";const L={class:"space-y-6"},z={class:"flex justify-between items-center"},E={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},I={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},O=["value"],q={class:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden"},G={class:"overflow-x-auto"},H={class:"min-w-full divide-y divide-gray-200"},J={class:"bg-white divide-y divide-gray-200"},K={class:"px-6 py-4 whitespace-nowrap"},Q={class:"flex items-center"},R={key:0,class:"h-10 w-10 flex-shrink-0"},W=["src","alt"],X={class:"ml-4"},Y={class:"text-sm font-medium text-gray-900"},Z={class:"text-sm text-gray-500"},ee={class:"px-6 py-4 whitespace-nowrap"},te={class:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800"},se={class:"px-6 py-4 whitespace-nowrap"},oe={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},re={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},le={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},ae={class:"flex justify-end space-x-2"},ie=["onClick"],ne=["onClick"],de={class:"bg-white px-4 py-3 border-t border-gray-200 sm:px-6"},ue={key:0,class:"text-center py-12"},ce={class:"mt-6"},ke={__name:"Index",props:{blog_posts:Object,filters:Object,categories:Array},setup(u){const x=u,l=j({search:x.filters.search||"",category:x.filters.category||"",status:x.filters.status||""});let h=null;const S=()=>{clearTimeout(h),h=setTimeout(()=>{m()},500)},m=()=>{b.get(route("admin.blog-posts.index"),l.value,{preserveState:!0,replace:!0})},P=()=>{l.value={search:"",category:"",status:""},m()},A=o=>{confirm(`Are you sure you want to ${o.is_published?"unpublish":"publish"} this post?`)&&b.post(route("admin.blog-posts.toggle-publish",o.id),{},{preserveScroll:!0})},D=o=>{confirm("Are you sure you want to delete this blog post? This action cannot be undone.")&&b.delete(route("admin.blog-posts.destroy",o.id))},V=o=>new Date(o).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return(o,t)=>(n(),B(U,null,{default:c(()=>[r(a(T),{title:"Blog Posts Management"}),e("div",L,[e("div",z,[t[4]||(t[4]=e("div",null,[e("h1",{class:"text-3xl font-bold text-gray-900"},"Blog Posts"),e("p",{class:"text-gray-600 mt-2"},"Manage your blog posts and content")],-1)),r(a(g),{href:o.route("admin.blog-posts.create"),class:"inline-flex items-center px-4 py-2 bg-emerald-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-emerald-700 focus:bg-emerald-700 active:bg-emerald-800 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:ring-offset-2 transition ease-in-out duration-150"},{default:c(()=>[r(a(C),{class:"h-4 w-4 mr-2"}),t[3]||(t[3]=p(" New Post ",-1))]),_:1},8,["href"])]),e("div",E,[e("div",I,[e("div",null,[t[5]||(t[5]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Search",-1)),f(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>l.value.search=s),type:"text",placeholder:"Search posts...",class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-emerald-500 focus:border-emerald-500",onInput:S},null,544),[[F,l.value.search]])]),e("div",null,[t[7]||(t[7]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Category",-1)),f(e("select",{"onUpdate:modelValue":t[1]||(t[1]=s=>l.value.category=s),class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-emerald-500 focus:border-emerald-500",onChange:m},[t[6]||(t[6]=e("option",{value:""},"All Categories",-1)),(n(!0),d(w,null,v(u.categories,s=>(n(),d("option",{key:s,value:s},i(s),9,O))),128))],544),[[_,l.value.category]])]),e("div",null,[t[9]||(t[9]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Status",-1)),f(e("select",{"onUpdate:modelValue":t[2]||(t[2]=s=>l.value.status=s),class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-emerald-500 focus:border-emerald-500",onChange:m},[...t[8]||(t[8]=[e("option",{value:""},"All Status",-1),e("option",{value:"published"},"Published",-1),e("option",{value:"draft"},"Draft",-1)])],544),[[_,l.value.status]])]),e("div",{class:"flex items-end"},[e("button",{onClick:P,class:"w-full px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-emerald-500"}," Clear Filters ")])])]),e("div",q,[e("div",G,[e("table",H,[t[12]||(t[12]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Post "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Category "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Status "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Author "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Published "),e("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"}," Actions ")])],-1)),e("tbody",J,[(n(!0),d(w,null,v(u.blog_posts.data,s=>(n(),d("tr",{key:s.id,class:"hover:bg-gray-50"},[e("td",K,[e("div",Q,[s.image_url?(n(),d("div",R,[e("img",{class:"h-10 w-10 rounded-lg object-cover",src:"/storage/"+s.image_url,alt:s.title},null,8,W)])):y("",!0),e("div",X,[e("div",Y,i(s.title),1),e("div",Z,i(s.excerpt),1)])])]),e("td",ee,[e("span",te,i(s.category),1)]),e("td",se,[e("span",{class:k(["inline-flex px-2 py-1 text-xs font-semibold rounded-full",s.is_published?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"])},i(s.is_published?"Published":"Draft"),3)]),e("td",oe,i(s.author?.name),1),e("td",re,i(V(s.published_at)),1),e("td",le,[e("div",ae,[r(a(g),{href:o.route("admin.blog-posts.show",s.id),class:"text-blue-600 hover:text-blue-900"},{default:c(()=>[...t[10]||(t[10]=[p(" View ",-1)])]),_:1},8,["href"]),r(a(g),{href:o.route("admin.blog-posts.edit",s.id),class:"text-emerald-600 hover:text-emerald-900"},{default:c(()=>[...t[11]||(t[11]=[p(" Edit ",-1)])]),_:1},8,["href"]),e("button",{onClick:N=>A(s),class:k(["text-sm",s.is_published?"text-yellow-600 hover:text-yellow-900":"text-green-600 hover:text-green-900"])},i(s.is_published?"Unpublish":"Publish"),11,ie),e("button",{onClick:N=>D(s),class:"text-red-600 hover:text-red-900"}," Delete ",8,ne)])])]))),128))])])]),e("div",de,[r($,{links:u.blog_posts.links},null,8,["links"])])]),u.blog_posts.data.length===0?(n(),d("div",ue,[r(a(M),{class:"mx-auto h-12 w-12 text-gray-400"}),t[14]||(t[14]=e("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"No blog posts",-1)),t[15]||(t[15]=e("p",{class:"mt-1 text-sm text-gray-500"},"Get started by creating a new blog post.",-1)),e("div",ce,[r(a(g),{href:o.route("admin.blog-posts.create"),class:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-emerald-600 hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500"},{default:c(()=>[r(a(C),{class:"h-4 w-4 mr-2"}),t[13]||(t[13]=p(" New Post ",-1))]),_:1},8,["href"])])])):y("",!0)])]),_:1}))}};export{ke as default};
