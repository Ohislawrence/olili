import{f as n,a as e,o as l,V as N,d as P,p as z,c as S,w as _,b as r,i,q,y as $,j as c,F as g,k as p,n as v,l as D,t as m,A as L,h as y,e as w,s as j,x as R,z as E}from"./app-C7Ld7GLn.js";import{S as U}from"./StudentLayout-1ldPrA19.js";import{_ as Q}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{r as W}from"./ArrowLeftIcon-C2bgPq1g.js";import{r as x}from"./ChatBubbleLeftRightIcon-BSto0Pf2.js";import{a as k}from"./UserIcon-DcTnjWN9.js";import{r as A}from"./LightBulbIcon-ARcVlrkD.js";import{r as h}from"./AcademicCapIcon-Cl_6iesL.js";import{r as B}from"./ChevronDownIcon-CXnFtDAV.js";import{r as Y}from"./InformationCircleIcon-1Q2_6tra.js";import{r as T}from"./GlobeAltIcon-BjfdOcUQ.js";import{r as b}from"./CheckIcon-CB7jVe4W.js";import"./XMarkIcon-CW88Rza6.js";import"./PlusIcon-DllYxBZO.js";import"./BellIcon-DuBlkaaZ.js";import"./CreditCardIcon-CcHJDjrg.js";function H(a,f){return l(),n("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m3.75 13.5 10.5-11.25L12 10.5h8.25L9.75 21.75 12 13.5H3.75Z"})])}const Z={class:"py-6"},J={class:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8"},K={class:"mb-8 text-center"},X={class:"flex items-center justify-center gap-3 mb-4"},O={class:"flex items-center justify-center mb-4"},ee={class:"h-16 w-16 bg-gradient-to-r from-emerald-500 to-teal-500 rounded-full flex items-center justify-center shadow-lg"},te={class:"grid grid-cols-1 lg:grid-cols-3 gap-8"},se={class:"lg:col-span-1"},oe={class:"bg-white rounded-xl shadow-sm border border-gray-100 sticky top-6"},re={class:"p-6"},ie={class:"text-lg font-bold text-gray-900 mb-4 flex items-center"},le={class:"space-y-3"},ne=["onClick"],ae={class:"flex items-start space-x-3"},de={class:"flex-shrink-0 h-8 w-8 bg-emerald-100 rounded-lg flex items-center justify-center group-hover:bg-emerald-200 transition-colors"},ce={class:"flex-1"},me={class:"text-sm font-semibold text-gray-900 mb-1"},ue={class:"text-xs text-gray-500 leading-relaxed"},ge={class:"mt-6 pt-6 border-t border-gray-200"},pe={class:"space-y-2"},fe=["onClick"],xe={class:"truncate"},he={class:"lg:col-span-2"},be={class:"bg-white shadow-sm rounded-xl border border-gray-100"},_e={class:"p-6"},ve={class:"mb-6"},ye={for:"course_id",class:"block text-sm font-medium text-gray-700 mb-3"},we={class:"flex items-center"},ke={class:"relative"},Ce=["value"],Se={class:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none"},$e={key:0,class:"mb-6"},je={for:"outline_id",class:"block text-sm font-medium text-gray-700 mb-3"},Ae={class:"flex items-center"},Be={class:"relative"},Te=["label"],Ve=["value"],Fe={class:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none"},Ge={class:"mb-6"},Ie={for:"initial_message",class:"block text-sm font-medium text-gray-700 mb-3"},Me={class:"flex items-center"},Ne={class:"relative"},Pe={class:"absolute bottom-3 right-3"},ze={key:1,class:"mb-6 p-4 bg-gradient-to-r from-emerald-50 to-teal-50 rounded-lg border border-emerald-200"},qe={class:"text-sm font-semibold text-emerald-900 mb-3 flex items-center"},De={class:"space-y-2 text-sm text-emerald-800"},Le={key:0,class:"flex items-center"},Re={key:1,class:"flex items-center"},Ee={class:"text-emerald-600 ml-2"},Ue={key:2,class:"flex items-center"},Qe={key:3,class:"flex items-center"},We={class:"flex justify-end space-x-3 pt-4 border-t border-gray-200"},Ye=["disabled"],He={class:"mt-6 bg-blue-50 rounded-xl border border-blue-200 p-6"},Ze={class:"text-sm font-semibold text-blue-900 mb-3 flex items-center"},Je={class:"text-sm text-blue-800 space-y-2"},Ke={class:"flex items-start"},Xe={class:"flex items-start"},Oe={class:"flex items-start"},et={class:"flex items-start"},tt={__name:"Create",props:{courses:Array,selected_course:Object,selected_outline:Object,available_modules:Array,available_topics:Array},setup(a){const f=a,s=N({course_id:f.selected_course?.id||null,outline_id:f.selected_outline?.id||null,initial_message:"",processing:!1}),V=P(()=>f.courses.slice(0,3)),F=[{title:"Concept Explanation",description:"Get clear explanations of difficult topics",message:"I'm having trouble understanding this concept. Can you break it down for me with simple examples and analogies?",icon:k},{title:"Study Strategy",description:"Get personalized study techniques and plans",message:"I need help developing an effective study strategy for this course. What learning methods would work best for this material?",icon:A},{title:"Practice Problems",description:"Request exercises to test your understanding",message:"Can you provide me with some practice problems or exercises to test my understanding of this topic? Please include explanations for the solutions.",icon:h},{title:"Project Guidance",description:"Get help with assignments and projects",message:"I'm working on a project/assignment and need guidance on the best approach. Can you help me break down the requirements and suggest a plan?",icon:x}],G=async()=>{if(!(s.initial_message.length>1e3)){s.processing=!0;try{const d={course_id:s.course_id||null,outline_id:s.outline_id||null,initial_message:s.initial_message||null};console.log("Submitting form data:",d),await E.post(route("student.chat.store"),d,{onError:t=>{console.error("Form submission errors:",t),s.processing=!1},onFinish:()=>{s.processing=!1}})}catch(d){console.error("Form submission failed:",d),s.processing=!1}}},C=()=>{s.outline_id=null,s.course_id&&console.log("Course selected:",s.course_id)},I=d=>{s.initial_message=d.message},M=d=>{s.course_id=d.id,C()};return z(s,d=>{console.log("Form updated:",d)},{deep:!0}),(d,t)=>(l(),S(U,null,{default:_(()=>[r(i(q),{title:"Start New Chat"}),e("div",Z,[e("div",J,[e("div",K,[e("div",X,[r(i($),{href:d.route("student.chat.index"),class:"inline-flex items-center text-sm font-medium text-emerald-600 hover:text-emerald-500 transition-colors"},{default:_(()=>[r(i(W),{class:"h-4 w-4 mr-1"}),t[3]||(t[3]=c(" Back to Chats ",-1))]),_:1},8,["href"])]),e("div",O,[e("div",ee,[r(i(x),{class:"h-8 w-8 text-white"})])]),t[4]||(t[4]=e("h1",{class:"text-3xl font-bold text-gray-900 mb-3"},"Start New Chat with AI Tutor",-1)),t[5]||(t[5]=e("p",{class:"text-lg text-gray-600 max-w-2xl mx-auto"}," Begin an intelligent conversation about your courses. Get personalized explanations, study help, and learning guidance. ",-1))]),e("div",te,[e("div",se,[e("div",oe,[e("div",re,[e("h2",ie,[r(i(H),{class:"h-5 w-5 text-amber-500 mr-2"}),t[6]||(t[6]=c(" Quick Start ",-1))]),t[8]||(t[8]=e("p",{class:"text-sm text-gray-600 mb-4"}," Choose a common starting point for your conversation ",-1)),e("div",le,[(l(),n(g,null,p(F,o=>e("button",{key:o.title,onClick:u=>I(o),class:v(["w-full p-4 bg-white border border-gray-200 rounded-lg shadow-sm hover:shadow-md hover:border-emerald-300 transition-all duration-200 text-left group",{"border-emerald-300 bg-emerald-50":s.initial_message===o.message}])},[e("div",ae,[e("div",de,[(l(),S(D(o.icon),{class:"h-4 w-4 text-emerald-600"}))]),e("div",ce,[e("h3",me,m(o.title),1),e("p",ue,m(o.description),1)])])],10,ne)),64))]),e("div",ge,[t[7]||(t[7]=e("h3",{class:"text-sm font-semibold text-gray-900 mb-3"},"Recent Courses",-1)),e("div",pe,[(l(!0),n(g,null,p(V.value,o=>(l(),n("button",{key:o.id,onClick:u=>M(o),class:"w-full text-left p-3 text-sm text-gray-700 bg-gray-50 hover:bg-emerald-50 hover:text-emerald-700 rounded-lg transition-colors flex items-center"},[r(i(h),{class:"h-4 w-4 mr-2 text-gray-400"}),e("span",xe,m(o.title),1)],8,fe))),128))])])])])]),e("div",he,[e("div",be,[e("div",_e,[e("form",{onSubmit:L(G,["prevent"])},[e("div",ve,[e("label",ye,[e("div",we,[r(i(h),{class:"h-5 w-5 text-emerald-600 mr-2"}),t[9]||(t[9]=c(" Select Course ",-1))])]),e("div",ke,[w(e("select",{id:"course_id","onUpdate:modelValue":t[0]||(t[0]=o=>s.course_id=o),class:"w-full rounded-lg border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500 py-3 px-4 pr-10 appearance-none bg-white transition-colors",onChange:C},[t[10]||(t[10]=e("option",{value:null},"Choose a course (optional)",-1)),(l(!0),n(g,null,p(a.courses,o=>(l(),n("option",{key:o.id,value:o.id},m(o.title),9,Ce))),128))],544),[[j,s.course_id]]),e("div",Se,[r(i(B),{class:"h-5 w-5 text-gray-400"})])]),t[11]||(t[11]=e("p",{class:"mt-2 text-sm text-gray-500"}," Selecting a course helps the AI provide more relevant and contextual assistance ",-1))]),a.available_topics.length?(l(),n("div",$e,[e("label",je,[e("div",Ae,[r(i(k),{class:"h-5 w-5 text-emerald-600 mr-2"}),t[12]||(t[12]=c(" Focus on Specific Topic ",-1))])]),e("div",Be,[w(e("select",{id:"outline_id","onUpdate:modelValue":t[1]||(t[1]=o=>s.outline_id=o),class:"w-full rounded-lg border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500 py-3 px-4 pr-10 appearance-none bg-white transition-colors"},[t[13]||(t[13]=e("option",{value:null},"Choose a topic (optional)",-1)),(l(!0),n(g,null,p(a.available_modules,o=>(l(),n("optgroup",{key:o.id,label:`Module ${o.order}: ${o.title}`},[(l(!0),n(g,null,p(o.topics,u=>(l(),n("option",{key:u.id,value:u.id}," Topic "+m(u.order)+": "+m(u.title),9,Ve))),128))],8,Te))),128))],512),[[j,s.outline_id]]),e("div",Fe,[r(i(B),{class:"h-5 w-5 text-gray-400"})])]),t[14]||(t[14]=e("p",{class:"mt-2 text-sm text-gray-500"}," Narrow down the conversation to a specific learning topic for more focused assistance ",-1))])):y("",!0),e("div",Ge,[e("label",Ie,[e("div",Me,[r(i(x),{class:"h-5 w-5 text-emerald-600 mr-2"}),t[15]||(t[15]=c(" Your Message ",-1))])]),e("div",Ne,[w(e("textarea",{id:"initial_message","onUpdate:modelValue":t[2]||(t[2]=o=>s.initial_message=o),rows:"5",class:v(["w-full rounded-lg border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500 py-3 px-4 resize-none transition-colors",{"border-emerald-300":s.initial_message.length>0}]),placeholder:"What would you like to learn about today? You can ask questions about course content, request explanations, seek guidance on specific topics, or ask for practice problems..."},null,2),[[R,s.initial_message]]),e("div",Pe,[e("span",{class:v(["text-xs",s.initial_message.length>1e3?"text-red-500":"text-gray-400"])},m(s.initial_message.length)+"/1000 ",3)])]),t[16]||(t[16]=e("p",{class:"mt-2 text-sm text-gray-500"}," Start the conversation with your specific question or learning goal ",-1))]),a.selected_course||a.selected_outline?(l(),n("div",ze,[e("h3",qe,[r(i(Y),{class:"h-4 w-4 mr-2"}),t[17]||(t[17]=c(" Chat Context Preview ",-1))]),e("div",De,[a.selected_course?(l(),n("div",Le,[r(i(h),{class:"h-4 w-4 mr-2"}),e("span",null,[t[18]||(t[18]=e("strong",null,"Course:",-1)),c(" "+m(a.selected_course.title),1)])])):y("",!0),a.selected_outline?(l(),n("div",Re,[r(i(k),{class:"h-4 w-4 mr-2"}),e("span",null,[t[19]||(t[19]=e("strong",null,"Topic:",-1)),c(" "+m(a.selected_outline.title),1)]),e("span",Ee," (Module: "+m(a.selected_outline.module?.title)+") ",1)])):a.selected_course&&!s.outline_id?(l(),n("div",Ue,[r(i(T),{class:"h-4 w-4 mr-2"}),t[20]||(t[20]=e("span",null,[e("strong",null,"Scope:"),c(" General course discussion")],-1))])):(l(),n("div",Qe,[r(i(T),{class:"h-4 w-4 mr-2"}),t[21]||(t[21]=e("span",null,[e("strong",null,"Scope:"),c(" General learning assistance")],-1))]))])])):y("",!0),e("div",We,[r(i($),{href:d.route("student.chat.index"),class:"inline-flex items-center px-6 py-3 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:ring-offset-2 transition-all duration-200"},{default:_(()=>[...t[22]||(t[22]=[c(" Cancel ",-1)])]),_:1},8,["href"]),e("button",{type:"submit",disabled:s.processing||s.initial_message.length>1e3,class:"inline-flex items-center px-6 py-3 text-sm font-semibold text-white bg-gradient-to-r from-emerald-600 to-teal-600 border border-transparent rounded-lg shadow-sm hover:from-emerald-700 hover:to-teal-700 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 hover:shadow-md"},[r(i(x),{class:"h-4 w-4 mr-2"}),c(" "+m(s.processing?"Starting Chat...":"Start Chat Session"),1)],8,Ye)])],32)])]),e("div",He,[e("h3",Ze,[r(i(A),{class:"h-4 w-4 mr-2"}),t[23]||(t[23]=c(" Pro Tips for Better AI Assistance ",-1))]),e("ul",Je,[e("li",Ke,[r(i(b),{class:"h-4 w-4 text-blue-600 mr-2 mt-0.5 flex-shrink-0"}),t[24]||(t[24]=e("span",null,"Be specific about what you're struggling with",-1))]),e("li",Xe,[r(i(b),{class:"h-4 w-4 text-blue-600 mr-2 mt-0.5 flex-shrink-0"}),t[25]||(t[25]=e("span",null,"Mention your current understanding level",-1))]),e("li",Oe,[r(i(b),{class:"h-4 w-4 text-blue-600 mr-2 mt-0.5 flex-shrink-0"}),t[26]||(t[26]=e("span",null,"Ask for examples if concepts are unclear",-1))]),e("li",et,[r(i(b),{class:"h-4 w-4 text-blue-600 mr-2 mt-0.5 flex-shrink-0"}),t[27]||(t[27]=e("span",null,"Request practice problems to test your knowledge",-1))])])])])])])])]),_:1}))}},bt=Q(tt,[["__scopeId","data-v-cf30ab22"]]);export{bt as default};
