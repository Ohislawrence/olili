import{$ as h,d as j,c as B,w,b as v,a as e,i as _,q as D,y as C,j as p,e as l,f as a,h as b,x as u,o as d,t as m,s as c,F as y,k as x,A as N,z as U}from"./app-DXUYSJ2F.js";import{S as E}from"./StudentLayout-BNp3SsWb.js";import"./XMarkIcon-DOgRMAM3.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./CheckCircleIcon-Na17kN2i.js";import"./SparklesIcon-CvZspKZJ.js";import"./QuestionMarkCircleIcon-BYELwjR1.js";import"./UserIcon-BmhQYYlg.js";import"./PlusIcon-DRRZM6zq.js";import"./BellIcon-JCp5jdYo.js";import"./CreditCardIcon-Cr2RAGIQ.js";const T={class:"py-6"},F={class:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8"},G={class:"mb-8"},L={class:"flex justify-between items-center"},M={class:"space-y-6"},z={class:"bg-white shadow-sm rounded-xl border border-gray-100"},H={class:"p-6 space-y-6"},O={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},I={key:0,class:"mt-1 text-sm text-red-600"},R={key:0,class:"mt-1 text-sm text-red-600"},W={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},$={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},J={class:"md:col-span-2"},K={class:"bg-white shadow-sm rounded-xl border border-gray-100"},Q={class:"p-6 space-y-6"},X={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Y=["value"],Z=["value"],ee={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},re=["min"],oe={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},te=["value"],se=["onUpdate:modelValue"],le=["onClick"],de={class:"flex justify-end space-x-3"},ae=["disabled"],ne={key:0},ie={key:1},ue={class:"mt-8 bg-white shadow-sm rounded-xl border border-gray-100"},me={class:"p-6"},pe={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},ge={key:0,class:"mt-1 text-sm text-red-600"},fe={class:"md:col-span-2 grid grid-cols-1 md:grid-cols-2 gap-6"},be={key:0,class:"mt-1 text-sm text-red-600"},ce={class:"mt-6 flex justify-end"},ye=["disabled"],xe={key:0},we={key:1},je={__name:"Edit",props:{user:Object,student_profile:Object,exam_boards:Array,levels:Array,learning_styles:Array},setup(g){const n=g,t=h({name:n.user.name,email:n.user.email,phone:n.user.phone||"",date_of_birth:n.user.date_of_birth||"",gender:n.user.gender||"",bio:n.user.bio||"",exam_board_id:n.student_profile.exam_board_id||"",current_level:n.student_profile.current_level,target_level:n.student_profile.target_level,target_completion_date:n.student_profile.target_completion_date?.split("T")[0]||"",weekly_study_hours:n.student_profile.weekly_study_hours,current_grade:n.student_profile.current_grade||"",target_grade:n.student_profile.target_grade||"",learning_goals:n.student_profile.learning_goals?.length?[...n.student_profile.learning_goals]:[""],errors:{},processing:!1}),s=h({current_password:"",password:"",password_confirmation:"",errors:{},processing:!1}),V=j(()=>{const i=new Date;return i.setDate(i.getDate()+1),i.toISOString().split("T")[0]}),S=()=>{t.learning_goals.push("")},P=i=>{t.learning_goals.splice(i,1)},q=()=>{t.processing=!0,t.errors={},U.put(route("student.profile.update"),{...t,learning_goals:t.learning_goals.filter(i=>i.trim()!=="")},{onFinish:()=>{t.processing=!1},onError:i=>{t.errors=i}})},A=()=>{s.processing=!0,s.errors={},U.put(route("student.profile.update-password"),{current_password:s.current_password,password:s.password,password_confirmation:s.password_confirmation},{onFinish:()=>{s.processing=!1,s.current_password="",s.password="",s.password_confirmation=""},onError:i=>{s.errors=i}})};return(i,r)=>(d(),B(E,null,{default:w(()=>[v(_(D),{title:"Edit Profile"}),e("div",T,[e("div",F,[e("div",G,[e("div",L,[r[17]||(r[17]=e("div",null,[e("h1",{class:"text-2xl font-bold text-gray-900"},"Edit Profile"),e("p",{class:"mt-1 text-sm text-gray-600"}," Update your personal information and learning preferences ")],-1)),v(_(C),{href:i.route("student.profile.show"),class:"inline-flex items-center px-4 py-2.5 border border-emerald-300 shadow-sm text-sm font-medium rounded-lg text-emerald-700 bg-white hover:bg-emerald-50 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:ring-offset-2 transition-all duration-200"},{default:w(()=>[...r[16]||(r[16]=[p(" Cancel ",-1)])]),_:1},8,["href"])])]),e("div",M,[e("div",z,[r[26]||(r[26]=e("div",{class:"px-6 py-4 border-b border-gray-200"},[e("h2",{class:"text-lg font-bold text-gray-900"},"Personal Information")],-1)),e("div",H,[e("div",O,[e("div",null,[r[18]||(r[18]=e("label",{for:"name",class:"block text-sm font-medium text-gray-700 mb-1"}," Full Name * ",-1)),l(e("input",{id:"name","onUpdate:modelValue":r[0]||(r[0]=o=>t.name=o),type:"text",required:"",class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500 py-2.5 px-3"},null,512),[[u,t.name]]),t.errors.name?(d(),a("p",I,m(t.errors.name),1)):b("",!0)]),e("div",null,[r[19]||(r[19]=e("label",{for:"email",class:"block text-sm font-medium text-gray-700 mb-1"}," Email Address * ",-1)),l(e("input",{id:"email","onUpdate:modelValue":r[1]||(r[1]=o=>t.email=o),type:"email",required:"",class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500 py-2.5 px-3"},null,512),[[u,t.email]]),t.errors.email?(d(),a("p",R,m(t.errors.email),1)):b("",!0)])]),e("div",W,[e("div",null,[r[20]||(r[20]=e("label",{for:"phone",class:"block text-sm font-medium text-gray-700 mb-1"}," Phone Number ",-1)),l(e("input",{id:"phone","onUpdate:modelValue":r[2]||(r[2]=o=>t.phone=o),type:"tel",class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500 py-2.5 px-3"},null,512),[[u,t.phone]])]),e("div",null,[r[21]||(r[21]=e("label",{for:"date_of_birth",class:"block text-sm font-medium text-gray-700 mb-1"}," Date of Birth ",-1)),l(e("input",{id:"date_of_birth","onUpdate:modelValue":r[3]||(r[3]=o=>t.date_of_birth=o),type:"date",class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500 py-2.5 px-3"},null,512),[[u,t.date_of_birth]])])]),e("div",$,[e("div",null,[r[23]||(r[23]=e("label",{for:"gender",class:"block text-sm font-medium text-gray-700 mb-1"}," Gender ",-1)),l(e("select",{id:"gender","onUpdate:modelValue":r[4]||(r[4]=o=>t.gender=o),class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500 py-2.5 px-3"},[...r[22]||(r[22]=[e("option",{value:""},"Select gender",-1),e("option",{value:"male"},"Male",-1),e("option",{value:"female"},"Female",-1),e("option",{value:"other"},"Other",-1)])],512),[[c,t.gender]])]),e("div",J,[r[24]||(r[24]=e("label",{for:"bio",class:"block text-sm font-medium text-gray-700 mb-1"}," Bio ",-1)),l(e("textarea",{id:"bio","onUpdate:modelValue":r[5]||(r[5]=o=>t.bio=o),rows:"4",class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500 py-2.5 px-3",placeholder:"Tell us a bit about yourself and your learning journey..."},null,512),[[u,t.bio]]),r[25]||(r[25]=e("p",{class:"mt-1 text-sm text-gray-500"}," Brief description for your profile. URLs are hyperlinked. ",-1))])])])]),e("div",K,[r[41]||(r[41]=e("div",{class:"px-6 py-4 border-b border-gray-200"},[e("h2",{class:"text-lg font-bold text-gray-900"},"Learning Preferences")],-1)),e("div",Q,[e("div",X,[e("div",null,[r[28]||(r[28]=e("label",{for:"current_level",class:"block text-sm font-medium text-gray-700 mb-1"}," Current Level * ",-1)),l(e("select",{id:"current_level","onUpdate:modelValue":r[6]||(r[6]=o=>t.current_level=o),required:"",class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500 py-2.5 px-3"},[r[27]||(r[27]=e("option",{value:""},"Select current level",-1)),(d(!0),a(y,null,x(g.levels,o=>(d(),a("option",{key:o,value:o},m(o.charAt(0).toUpperCase()+o.slice(1)),9,Y))),128))],512),[[c,t.current_level]])]),e("div",null,[r[30]||(r[30]=e("label",{for:"target_level",class:"block text-sm font-medium text-gray-700 mb-1"}," Target Level * ",-1)),l(e("select",{id:"target_level","onUpdate:modelValue":r[7]||(r[7]=o=>t.target_level=o),required:"",class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500 py-2.5 px-3"},[r[29]||(r[29]=e("option",{value:""},"Select target level",-1)),(d(!0),a(y,null,x(g.levels,o=>(d(),a("option",{key:o,value:o},m(o.charAt(0).toUpperCase()+o.slice(1)),9,Z))),128))],512),[[c,t.target_level]])])]),e("div",ee,[e("div",null,[r[31]||(r[31]=e("label",{for:"weekly_study_hours",class:"block text-sm font-medium text-gray-700 mb-1"}," Weekly Study Hours * ",-1)),l(e("input",{id:"weekly_study_hours","onUpdate:modelValue":r[8]||(r[8]=o=>t.weekly_study_hours=o),type:"number",min:"1",max:"40",required:"",class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500 py-2.5 px-3"},null,512),[[u,t.weekly_study_hours]]),r[32]||(r[32]=e("p",{class:"mt-1 text-sm text-gray-500"}," How many hours can you dedicate per week? ",-1))]),e("div",null,[r[33]||(r[33]=e("label",{for:"target_completion_date",class:"block text-sm font-medium text-gray-700 mb-1"}," Target Completion Date * ",-1)),l(e("input",{id:"target_completion_date","onUpdate:modelValue":r[9]||(r[9]=o=>t.target_completion_date=o),type:"date",required:"",min:V.value,class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500 py-2.5 px-3"},null,8,re),[[u,t.target_completion_date]])])]),e("div",oe,[e("div",null,[r[34]||(r[34]=e("label",{for:"current_grade",class:"block text-sm font-medium text-gray-700 mb-1"}," Current Grade (%) ",-1)),l(e("input",{id:"current_grade","onUpdate:modelValue":r[10]||(r[10]=o=>t.current_grade=o),type:"number",min:"0",max:"100",step:"0.1",class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500 py-2.5 px-3"},null,512),[[u,t.current_grade]])]),e("div",null,[r[35]||(r[35]=e("label",{for:"target_grade",class:"block text-sm font-medium text-gray-700 mb-1"}," Target Grade (%) ",-1)),l(e("input",{id:"target_grade","onUpdate:modelValue":r[11]||(r[11]=o=>t.target_grade=o),type:"number",min:"0",max:"100",step:"0.1",class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500 py-2.5 px-3"},null,512),[[u,t.target_grade]])])]),e("div",null,[r[37]||(r[37]=e("label",{for:"exam_board_id",class:"block text-sm font-medium text-gray-700 mb-1"}," Preferred Exam Board ",-1)),l(e("select",{id:"exam_board_id","onUpdate:modelValue":r[12]||(r[12]=o=>t.exam_board_id=o),class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500 py-2.5 px-3"},[r[36]||(r[36]=e("option",{value:""},"No specific exam board",-1)),(d(!0),a(y,null,x(g.exam_boards,o=>(d(),a("option",{key:o.id,value:o.id},m(o.name),9,te))),128))],512),[[c,t.exam_board_id]])]),e("div",null,[r[39]||(r[39]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Learning Goals ",-1)),(d(!0),a(y,null,x(t.learning_goals,(o,f)=>(d(),a("div",{key:f,class:"flex gap-2 mb-2"},[l(e("input",{"onUpdate:modelValue":k=>t.learning_goals[f]=k,type:"text",class:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500 py-2.5 px-3",placeholder:"What do you want to achieve?"},null,8,se),[[u,t.learning_goals[f]]]),e("button",{type:"button",onClick:k=>P(f),class:"flex-shrink-0 px-3 py-2.5 text-sm text-red-600 hover:text-red-800 border border-red-200 rounded-lg hover:bg-red-50 transition-colors"}," Remove ",8,le)]))),128)),e("button",{type:"button",onClick:S,class:"inline-flex items-center px-4 py-2.5 border border-emerald-300 shadow-sm text-sm font-medium rounded-lg text-emerald-700 bg-white hover:bg-emerald-50 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:ring-offset-2 transition-all duration-200"},[...r[38]||(r[38]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),p(" Add Goal ",-1)])]),r[40]||(r[40]=e("p",{class:"mt-1 text-sm text-gray-500"}," Define your learning objectives and what you hope to achieve. ",-1))])])]),e("div",de,[v(_(C),{href:i.route("student.profile.show"),class:"inline-flex items-center px-4 py-2.5 border border-emerald-300 shadow-sm text-sm font-medium rounded-lg text-emerald-700 bg-white hover:bg-emerald-50 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:ring-offset-2 transition-all duration-200"},{default:w(()=>[...r[42]||(r[42]=[p(" Cancel ",-1)])]),_:1},8,["href"]),e("button",{type:"submit",onClick:q,disabled:t.processing,class:"inline-flex items-center px-4 py-2.5 border border-transparent text-sm font-medium rounded-lg text-white bg-emerald-600 hover:bg-emerald-700 shadow-md hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:ring-offset-2 transition-all duration-200 disabled:opacity-50"},[t.processing?(d(),a("span",ne,[...r[43]||(r[43]=[e("svg",{class:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),p(" Saving... ",-1)])])):(d(),a("span",ie," Save Changes "))],8,ae)])]),e("div",ue,[r[48]||(r[48]=e("div",{class:"px-6 py-4 border-b border-gray-200"},[e("h2",{class:"text-lg font-bold text-gray-900"},"Change Password")],-1)),e("div",me,[e("form",{onSubmit:N(A,["prevent"])},[e("div",pe,[e("div",null,[r[44]||(r[44]=e("label",{for:"current_password",class:"block text-sm font-medium text-gray-700 mb-1"}," Current Password * ",-1)),l(e("input",{id:"current_password","onUpdate:modelValue":r[13]||(r[13]=o=>s.current_password=o),type:"password",required:"",class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500 py-2.5 px-3"},null,512),[[u,s.current_password]]),s.errors.current_password?(d(),a("p",ge,m(s.errors.current_password),1)):b("",!0)]),e("div",fe,[e("div",null,[r[45]||(r[45]=e("label",{for:"password",class:"block text-sm font-medium text-gray-700 mb-1"}," New Password * ",-1)),l(e("input",{id:"password","onUpdate:modelValue":r[14]||(r[14]=o=>s.password=o),type:"password",required:"",class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500 py-2.5 px-3"},null,512),[[u,s.password]]),s.errors.password?(d(),a("p",be,m(s.errors.password),1)):b("",!0)]),e("div",null,[r[46]||(r[46]=e("label",{for:"password_confirmation",class:"block text-sm font-medium text-gray-700 mb-1"}," Confirm New Password * ",-1)),l(e("input",{id:"password_confirmation","onUpdate:modelValue":r[15]||(r[15]=o=>s.password_confirmation=o),type:"password",required:"",class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500 py-2.5 px-3"},null,512),[[u,s.password_confirmation]])])])]),e("div",ce,[e("button",{type:"submit",disabled:s.processing,class:"inline-flex items-center px-4 py-2.5 border border-transparent text-sm font-medium rounded-lg text-white bg-emerald-600 hover:bg-emerald-700 shadow-md hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:ring-offset-2 transition-all duration-200 disabled:opacity-50"},[s.processing?(d(),a("span",xe,[...r[47]||(r[47]=[e("svg",{class:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),p(" Updating... ",-1)])])):(d(),a("span",we," Update Password "))],8,ye)])],32)])])])])]),_:1}))}};export{je as default};
