import{M as q,g as k,d as h,m as T,c as E,w as j,b as C,a as e,i as S,q as N,A as F,e as m,f as n,h as p,x as b,o as l,t as a,n as L,F as x,k as y,s as V,j as g,y as H,z as W}from"./app-pIZqAYBp.js";import{S as $}from"./StudentLayout-D1gDQUZk.js";import{_ as P}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./XMarkIcon-CBNc4J3J.js";import"./CheckCircleIcon-CzWSoO1y.js";import"./ExclamationTriangleIcon-YqpT7_LG.js";import"./HomeIcon-BrAWCmmp.js";import"./ChatBubbleLeftRightIcon-DlmKnt1Q.js";import"./PlusIcon-DU9ZRhMB.js";import"./BellIcon-BQekV_io.js";import"./CreditCardIcon-DAYagXkl.js";const G={class:"py-6"},Q={class:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8"},R={class:"bg-white shadow-sm rounded-xl border border-gray-100"},Y={class:"p-6 space-y-6"},J={key:0,class:"mt-1 text-sm text-red-600"},K={class:"mt-1 relative"},X={class:"relative"},Z={class:"absolute inset-y-0 right-0 flex items-center pr-3"},ee={key:0,class:"absolute z-10 mt-1 w-full bg-white shadow-lg max-h-60 rounded-lg py-1 text-base ring-1 ring-black ring-opacity-5 overflow-auto focus:outline-none sm:text-sm scrollbar-custom"},te=["onClick"],se={class:"block truncate font-medium"},re={key:0,class:"absolute inset-y-0 right-0 flex items-center pr-4 text-emerald-600"},oe={class:"block truncate font-medium text-emerald-600"},le={key:0,class:"mt-1 text-sm text-red-600"},ne=["value"],ae={class:"mt-1 text-sm text-gray-500"},ie=["min"],de=["value"],ue={key:0,class:"mt-1 text-sm text-red-600"},me=["onUpdate:modelValue"],ce=["onClick"],pe={class:"bg-emerald-50 p-4 rounded-lg border border-emerald-100"},be={class:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-emerald-700"},ge={class:"px-6 py-4 bg-gray-50 rounded-b-xl flex justify-between items-center"},ve=["disabled"],fe={key:0},xe={key:1},ye={__name:"Create",props:{student_profile:Object,exam_boards:Array,subjects:Array,student_levels:Object},setup(c){const v=c,s=q({title:"",subject:"",description:"",exam_board_id:"",target_level:v.student_profile?.target_level||"intermediate",weekly_study_hours:v.student_profile?.weekly_study_hours||10,target_completion_date:"",learning_objectives:[""],errors:{},processing:!1}),d=k(""),i=k(!1),f=k(""),M=h(()=>{const o=new Date;return o.setDate(o.getDate()+1),o.toISOString().split("T")[0]}),w=h(()=>{if(!f.value)return v.subjects;const o=f.value.toLowerCase();return v.subjects.filter(t=>t.toLowerCase().includes(o))}),B=o=>{f.value=o.target.value,i.value=!0},D=o=>{s.subject=o,d.value=o,i.value=!1,f.value=""},O=()=>{s.subject=d.value,i.value=!1},U=()=>{setTimeout(()=>{i.value=!1},200)};T(()=>{document.addEventListener("click",o=>{const t=document.getElementById("subject");t&&!t.contains(o.target)&&(i.value=!1)})});const z=()=>{s.learning_objectives.push("")},A=o=>{s.learning_objectives.splice(o,1)},I=()=>{s.processing=!0,s.errors={},W.post(route("student.courses.store"),{title:s.title,subject:s.subject,description:s.description,exam_board_id:s.exam_board_id,target_level:s.target_level,weekly_study_hours:s.weekly_study_hours,target_completion_date:s.target_completion_date,learning_objectives:s.learning_objectives.filter(o=>o.trim()!=="")},{onFinish:()=>{s.processing=!1},onError:o=>{s.errors=o}})};return(o,t)=>(l(),E($,null,{default:j(()=>[C(S(N),{title:"Create Course"}),e("div",G,[e("div",Q,[t[30]||(t[30]=e("div",{class:"mb-8"},[e("h1",{class:"text-2xl font-bold text-gray-900"},"Create New Course"),e("p",{class:"mt-1 text-sm text-gray-600"}," Create a personalized learning path with AI assistance ")],-1)),e("div",R,[e("form",{onSubmit:F(I,["prevent"])},[e("div",Y,[e("div",null,[t[9]||(t[9]=e("label",{for:"title",class:"block text-sm font-medium text-gray-700 mb-1"}," Course Title * ",-1)),m(e("input",{id:"title","onUpdate:modelValue":t[0]||(t[0]=r=>s.title=r),type:"text",required:"",class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500 py-2.5 px-3",placeholder:"e.g., Advanced Calculus for Engineering"},null,512),[[b,s.title]]),s.errors.title?(l(),n("p",J,a(s.errors.title),1)):p("",!0)]),e("div",null,[t[12]||(t[12]=e("label",{for:"subject",class:"block text-sm font-medium text-gray-700 mb-1"}," Subject * ",-1)),e("div",K,[e("div",X,[m(e("input",{id:"subject","onUpdate:modelValue":t[1]||(t[1]=r=>d.value=r),type:"text",required:"",class:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500 pr-10 py-2.5 px-3",placeholder:"Search or select a subject",onFocus:t[2]||(t[2]=r=>i.value=!0),onInput:B,onBlur:U},null,544),[[b,d.value]]),e("div",Z,[(l(),n("svg",{xmlns:"http://www.w3.org/2000/svg",class:L(["h-5 w-5 text-gray-400 cursor-pointer",{"transform rotate-180":i.value}]),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",onClick:t[3]||(t[3]=r=>i.value=!i.value)},[...t[10]||(t[10]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)])],2))])]),i.value&&w.value.length>0?(l(),n("div",ee,[(l(!0),n(x,null,y(w.value,r=>(l(),n("div",{key:r,class:L(["cursor-pointer select-none relative py-2 pl-3 pr-9 hover:bg-emerald-50",{"bg-emerald-50 text-emerald-700":d.value===r}]),onClick:u=>D(r)},[e("span",se,a(r),1),d.value===r?(l(),n("span",re,[...t[11]||(t[11]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1)])])):p("",!0)],10,te))),128)),d.value&&!w.value.includes(d.value)?(l(),n("div",{key:0,class:"cursor-pointer select-none relative py-2 pl-3 pr-9 hover:bg-emerald-50 border-t border-gray-100",onClick:O},[e("span",oe,' Use "'+a(d.value)+'" as custom subject ',1)])):p("",!0)])):p("",!0)]),s.errors.subject?(l(),n("p",le,a(s.errors.subject),1)):p("",!0)]),e("div",null,[t[14]||(t[14]=e("label",{for:"target_level",class:"block text-sm font-medium text-gray-700 mb-1"}," Target Level * ",-1)),m(e("select",{id:"target_level","onUpdate:modelValue":t[4]||(t[4]=r=>s.target_level=r),required:"",class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500 py-2.5 px-3"},[t[13]||(t[13]=e("option",{value:""},"Select target level",-1)),(l(!0),n(x,null,y(c.student_levels,(r,u)=>(l(),n("option",{key:u,value:u},a(r),9,ne))),128))],512),[[V,s.target_level]]),e("p",ae," Current level: "+a(c.student_profile?.current_level),1)]),e("div",null,[t[15]||(t[15]=e("label",{for:"weekly_study_hours",class:"block text-sm font-medium text-gray-700 mb-1"}," Weekly Study Hours * ",-1)),m(e("input",{id:"weekly_study_hours","onUpdate:modelValue":t[5]||(t[5]=r=>s.weekly_study_hours=r),type:"number",min:"1",max:"40",required:"",class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500 py-2.5 px-3",placeholder:"e.g., 10"},null,512),[[b,s.weekly_study_hours]]),t[16]||(t[16]=e("p",{class:"mt-1 text-sm text-gray-500"}," How many hours per week can you dedicate to this course? ",-1))]),e("div",null,[t[17]||(t[17]=e("label",{for:"target_completion_date",class:"block text-sm font-medium text-gray-700 mb-1"}," Target Completion Date * ",-1)),m(e("input",{id:"target_completion_date","onUpdate:modelValue":t[6]||(t[6]=r=>s.target_completion_date=r),type:"date",required:"",min:M.value,class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500 py-2.5 px-3"},null,8,ie),[[b,s.target_completion_date]]),t[18]||(t[18]=e("p",{class:"mt-1 text-sm text-gray-500"}," When do you aim to complete this course? ",-1))]),e("div",null,[t[20]||(t[20]=e("label",{for:"exam_board_id",class:"block text-sm font-medium text-gray-700 mb-1"}," Exam Board (Optional) ",-1)),m(e("select",{id:"exam_board_id","onUpdate:modelValue":t[7]||(t[7]=r=>s.exam_board_id=r),class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500 py-2.5 px-3"},[t[19]||(t[19]=e("option",{value:""},"No specific exam board",-1)),(l(!0),n(x,null,y(c.exam_boards,r=>(l(),n("option",{key:r.id,value:r.id},a(r.name),9,de))),128))],512),[[V,s.exam_board_id]])]),e("div",null,[t[21]||(t[21]=e("label",{for:"description",class:"block text-sm font-medium text-gray-700 mb-1"}," Description ",-1)),m(e("textarea",{id:"description","onUpdate:modelValue":t[8]||(t[8]=r=>s.description=r),rows:"4",class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500 py-2.5 px-3",placeholder:"Describe what you want to learn and your goals..."},null,512),[[b,s.description]]),s.errors.description?(l(),n("p",ue,a(s.errors.description),1)):p("",!0)]),e("div",null,[t[23]||(t[23]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Learning Objectives (Optional) ",-1)),(l(!0),n(x,null,y(s.learning_objectives,(r,u)=>(l(),n("div",{key:u,class:"flex gap-2 mb-2"},[m(e("input",{"onUpdate:modelValue":_=>s.learning_objectives[u]=_,type:"text",class:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500 py-2.5 px-3",placeholder:"What do you want to achieve?"},null,8,me),[[b,s.learning_objectives[u]]]),e("button",{type:"button",onClick:_=>A(u),class:"flex-shrink-0 px-3 py-2.5 text-sm text-red-600 hover:text-red-800 border border-red-200 rounded-lg hover:bg-red-50 transition-colors"}," Remove ",8,ce)]))),128)),e("button",{type:"button",onClick:z,class:"inline-flex items-center px-4 py-2.5 border border-emerald-300 shadow-sm text-sm font-medium rounded-lg text-emerald-700 bg-white hover:bg-emerald-50 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:ring-offset-2 transition-all duration-200"},[...t[22]||(t[22]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),g(" Add Objective ",-1)])])]),e("div",pe,[t[27]||(t[27]=e("h3",{class:"text-sm font-semibold text-emerald-800 mb-2"},"Student Profile",-1)),e("div",be,[e("div",null,[t[24]||(t[24]=e("span",{class:"font-medium"},"Current Level:",-1)),g(" "+a(c.student_profile?.current_level),1)]),e("div",null,[t[25]||(t[25]=e("span",{class:"font-medium"},"Learning Style:",-1)),g(" "+a(c.student_profile?.learning_style),1)]),e("div",null,[t[26]||(t[26]=e("span",{class:"font-medium"},"Pace:",-1)),g(" "+a(c.student_profile?.preferred_pace),1)])])])]),e("div",ge,[C(S(H),{href:o.route("student.courses.index"),class:"inline-flex items-center px-4 py-2.5 border border-emerald-300 shadow-sm text-sm font-medium rounded-lg text-emerald-700 bg-white hover:bg-emerald-50 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:ring-offset-2 transition-all duration-200"},{default:j(()=>[...t[28]||(t[28]=[g(" Cancel ",-1)])]),_:1},8,["href"]),e("button",{type:"submit",disabled:s.processing||!s.subject,class:"inline-flex items-center px-4 py-2.5 bg-gradient-to-r from-emerald-600 to-teal-600 border border-transparent rounded-lg font-semibold text-white shadow-md hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:ring-offset-2 transition-all duration-200 disabled:opacity-50"},[s.processing?(l(),n("span",fe,[...t[29]||(t[29]=[e("svg",{class:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),g(" Creating... ",-1)])])):(l(),n("span",xe,"Create Course"))],8,ve)])],32)]),t[31]||(t[31]=e("div",{class:"mt-6 bg-emerald-50 border border-emerald-200 rounded-xl p-4"},[e("div",{class:"flex"},[e("div",{class:"flex-shrink-0"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-emerald-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"})])]),e("div",{class:"ml-3"},[e("h3",{class:"text-sm font-semibold text-emerald-800"}," AI-Powered Course Generation "),e("div",{class:"mt-2 text-sm text-emerald-700"},[e("p",null," Our AI will create a personalized learning path based on: "),e("ul",{class:"list-disc list-inside mt-1 space-y-1"},[e("li",null,"Your current and target levels"),e("li",null,"Weekly study hours and completion timeline"),e("li",null,"Learning objectives and preferences"),e("li",null,"Subject-specific requirements")]),e("p",{class:"mt-2 font-semibold"}," This may take a few moments as we generate your personalized course outline. ")])])])],-1))])])]),_:1}))}},De=P(ye,[["__scopeId","data-v-c54cda29"]]);export{De as default};
