import{g as _,u as V,p as B,c as O,w as x,b as y,a as s,i as r,q as U,y as w,j as c,A as j,e as i,f as a,h as f,n as h,o as l,F as k,k as C,t as u,s as p,x as F,v as q}from"./app-DdL3oBcW.js";import{S as D}from"./StudentLayout-Cf1O1lLg.js";import"./XMarkIcon-mSRpeXsv.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./UserIcon-DhcC205o.js";import"./PlusIcon-DZaatXLl.js";import"./BellIcon-CsQ8GXXV.js";import"./CreditCardIcon-DENJ65nM.js";const L={class:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 py-8"},M={class:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8"},N={class:"mb-8"},A={class:"flex items-center justify-between"},T={class:"bg-white rounded-xl shadow-sm border border-gray-200 p-6"},G={class:"mb-6"},E=["value"],I={key:0,class:"text-red-500 text-xs mt-1"},z={class:"mb-6"},H=["disabled"],J=["value"],K={key:0,class:"text-xs text-emerald-600 mt-2 flex items-center"},P={class:"mb-6"},Q={key:0,class:"text-red-500 text-xs mt-1"},R={class:"mb-6"},W={class:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6"},X={class:"mb-8"},Y={class:"flex items-center"},Z={class:"flex items-center justify-between"},$=["disabled"],ee={key:0,class:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"},ne={__name:"Create",props:{courses:Array,selected_course:Object,selected_outline:Object,available_outlines:Array},setup(v){const b=v,m=_(!1),n=_([...b.available_outlines]),t=V({course_id:b.selected_course?.id||"",course_outline_id:b.selected_outline?.id||"",title:"",description:"",number_of_cards:10,difficulty_level:"medium",include_explanations:!1}),g=async()=>{if(!t.course_id){n.value=[];return}m.value=!0;try{const d=await axios.get(route("student.courses.outlines",t.course_id));n.value=d.data.outlines}catch(d){console.error("Failed to load outlines:",d),n.value=[]}finally{m.value=!1}},S=()=>{t.post(route("student.flashcards.store"))};return t.course_id&&g(),B(()=>t.course_id,d=>{d?g():(n.value=[],t.course_outline_id="")}),(d,e)=>(l(),O(D,null,{default:x(()=>[y(r(U),{title:"Create Flashcard Set"}),s("div",L,[s("div",M,[s("div",N,[s("div",A,[e[8]||(e[8]=s("div",null,[s("h1",{class:"text-3xl font-bold text-gray-900"},"Create Flashcard Set"),s("p",{class:"text-gray-600 mt-2"},"Generate flashcards from your course topics using AI")],-1)),y(r(w),{href:d.route("student.flashcards.index"),class:"text-gray-600 hover:text-gray-900 transition-colors"},{default:x(()=>[...e[7]||(e[7]=[c(" â† Back to Flashcards ",-1)])]),_:1},8,["href"])])]),s("div",T,[s("form",{onSubmit:j(S,["prevent"])},[s("div",G,[e[10]||(e[10]=s("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Select Course * ",-1)),i(s("select",{"onUpdate:modelValue":e[0]||(e[0]=o=>r(t).course_id=o),onChange:g,class:h(["w-full px-3 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",{"border-red-300":r(t).errors.course_id}]),required:""},[e[9]||(e[9]=s("option",{value:""},"Choose a course",-1)),(l(!0),a(k,null,C(v.courses,o=>(l(),a("option",{key:o.id,value:o.id},u(o.title),9,E))),128))],34),[[p,r(t).course_id]]),r(t).errors.course_id?(l(),a("p",I,u(r(t).errors.course_id),1)):f("",!0)]),s("div",z,[e[13]||(e[13]=s("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Select Topic (Optional) ",-1)),i(s("select",{"onUpdate:modelValue":e[1]||(e[1]=o=>r(t).course_outline_id=o),class:"w-full px-3 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",disabled:!r(t).course_id||m.value},[e[11]||(e[11]=s("option",{value:""},"General Course Flashcards",-1)),(l(!0),a(k,null,C(n.value,o=>(l(),a("option",{key:o.id,value:o.id},u(o.full_title),9,J))),128))],8,H),[[p,r(t).course_outline_id]]),m.value?(l(),a("div",K,[...e[12]||(e[12]=[s("div",{class:"animate-spin rounded-full h-3 w-3 border-b-2 border-emerald-600 mr-2"},null,-1),c(" Loading topics... ",-1)])])):f("",!0),e[14]||(e[14]=s("p",{class:"text-xs text-gray-500 mt-2"}," Selecting a specific topic will generate more focused flashcards ",-1))]),s("div",P,[e[15]||(e[15]=s("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Flashcard Set Title * ",-1)),i(s("input",{"onUpdate:modelValue":e[2]||(e[2]=o=>r(t).title=o),type:"text",class:h(["w-full px-3 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",{"border-red-300":r(t).errors.title}]),placeholder:"e.g., Biology Basics Flashcards",required:""},null,2),[[F,r(t).title]]),r(t).errors.title?(l(),a("p",Q,u(r(t).errors.title),1)):f("",!0)]),s("div",R,[e[16]||(e[16]=s("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Description (Optional) ",-1)),i(s("textarea",{"onUpdate:modelValue":e[3]||(e[3]=o=>r(t).description=o),rows:"3",class:"w-full px-3 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",placeholder:"Describe what this flashcard set covers..."},null,512),[[F,r(t).description]])]),s("div",W,[s("div",null,[e[18]||(e[18]=s("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Number of Cards * ",-1)),i(s("select",{"onUpdate:modelValue":e[4]||(e[4]=o=>r(t).number_of_cards=o),class:"w-full px-3 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",required:""},[...e[17]||(e[17]=[s("option",{value:"5"},"5 Cards",-1),s("option",{value:"10"},"10 Cards",-1),s("option",{value:"15"},"15 Cards",-1),s("option",{value:"20"},"20 Cards",-1),s("option",{value:"25"},"25 Cards",-1)])],512),[[p,r(t).number_of_cards]])]),s("div",null,[e[20]||(e[20]=s("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Difficulty Level * ",-1)),i(s("select",{"onUpdate:modelValue":e[5]||(e[5]=o=>r(t).difficulty_level=o),class:"w-full px-3 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",required:""},[...e[19]||(e[19]=[s("option",{value:"easy"},"Easy",-1),s("option",{value:"medium"},"Medium",-1),s("option",{value:"hard"},"Hard",-1)])],512),[[p,r(t).difficulty_level]])])]),s("div",X,[s("label",Y,[i(s("input",{"onUpdate:modelValue":e[6]||(e[6]=o=>r(t).include_explanations=o),type:"checkbox",class:"rounded border-gray-300 text-emerald-600 focus:ring-emerald-500"},null,512),[[q,r(t).include_explanations]]),e[21]||(e[21]=s("span",{class:"ml-2 text-sm text-gray-700"}," Include detailed explanations ",-1))])]),s("div",Z,[y(r(w),{href:d.route("student.flashcards.index"),class:"px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors"},{default:x(()=>[...e[22]||(e[22]=[c(" Cancel ",-1)])]),_:1},8,["href"]),s("button",{type:"submit",disabled:r(t).processing,class:"px-6 py-2 bg-gradient-to-r from-emerald-600 to-teal-600 text-white font-semibold rounded-lg hover:from-emerald-700 hover:to-teal-700 disabled:opacity-50 transition-all duration-200 flex items-center"},[r(t).processing?(l(),a("div",ee)):f("",!0),c(" "+u(r(t).processing?"Generating Flashcards...":"Create Flashcard Set"),1)],8,$)])],32)])])])]),_:1}))}};export{ne as default};
