import{S as B}from"./StudentLayout-CG3ayj3X.js";import{r as p,d as L,l as T,c as D,w as u,b as d,a as t,h as a,p as V,t as s,f as i,g as m,o as n,F as w,j as k,x,i as c,n as j,A as F}from"./app-9iTwA3vC.js";import{r as C}from"./CheckCircleIcon-gOQAQdUW.js";import{r as z}from"./ExclamationTriangleIcon-D09Y4htZ.js";import{r as g}from"./AcademicCapIcon-BcrHGEuI.js";import{r as O}from"./ClockIcon-DtrScC2X.js";import{r as A}from"./ChartBarIcon-DGOEscCD.js";import{r as E}from"./ArrowRightIcon-m6ejKsRk.js";import{r as G}from"./PencilIcon-CUPf8DWf.js";import"./DropdownLink-BJxGAADP.js";import"./NavLink-CVNpfdyq.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./XMarkIcon-DR50bQrw.js";import"./SparklesIcon-Vg7orskU.js";import"./transition-BH8B5sua.js";import"./UserCircleIcon-yAE3agds.js";import"./BellIcon-CKLl074K.js";import"./CreditCardIcon-BSp36FxJ.js";const H={class:"py-6"},I={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},U={class:"grid grid-cols-1 lg:grid-cols-3 gap-8"},Q={class:"lg:col-span-2 space-y-6"},W={class:"bg-white shadow-sm rounded-xl border border-gray-100"},q={class:"p-6"},J={class:"flex items-center space-x-6"},K={class:"flex-shrink-0"},R={class:"h-20 w-20 rounded-full bg-gradient-to-r from-emerald-500 to-teal-600 flex items-center justify-center text-white text-2xl font-bold shadow-md"},X={class:"flex-1"},Y={class:"text-xl font-bold text-gray-900"},Z={class:"text-sm text-gray-600"},tt={key:0,class:"text-sm text-gray-600"},et={class:"mt-2 flex flex-wrap gap-2"},st={class:"inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold bg-emerald-100 text-emerald-800"},rt={key:0,class:"inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold bg-teal-100 text-teal-800"},ot={class:"mt-6 grid grid-cols-2 gap-4 text-sm"},lt={key:0},dt={class:"text-gray-600"},at={key:1},nt={class:"text-gray-600 capitalize"},it={key:2,class:"col-span-2"},ut={class:"text-gray-600 mt-1"},mt={class:"bg-white shadow-sm rounded-xl border border-gray-100"},xt={class:"p-6"},ct={key:0,class:"space-y-3"},gt={class:"text-gray-700"},ft={key:1,class:"text-center py-4"},yt={class:"bg-white shadow-sm rounded-xl border border-gray-100"},bt={class:"p-6"},pt={key:0,class:"text-center py-8"},vt={key:1,class:"text-center py-4"},ht={key:2,class:"space-y-4"},_t={class:"flex justify-between items-start mb-2"},wt={class:"font-bold text-gray-900"},kt={class:"mb-3"},jt={class:"flex justify-between text-sm text-gray-600 mb-1"},Ct={class:"font-bold"},Pt={class:"w-full bg-gray-200 rounded-full h-2.5"},St={class:"grid grid-cols-2 gap-3 text-xs"},Mt={class:"text-center p-3 bg-emerald-50 rounded-lg"},Nt={class:"font-bold text-emerald-700"},$t={class:"text-emerald-500 font-bold mt-1"},Bt={class:"text-center p-3 bg-teal-50 rounded-lg"},Lt={class:"font-bold text-teal-700"},Tt={class:"text-teal-500 font-bold mt-1"},Dt={class:"mt-3"},Vt={key:3,class:"text-center py-4"},Ft={class:"space-y-6"},zt={class:"bg-white shadow-sm rounded-xl border border-gray-100"},Ot={class:"p-6 space-y-4"},At={class:"flex items-center justify-between"},Et={class:"text-2xl font-bold text-gray-900"},Gt={class:"flex items-center justify-between"},Ht={class:"text-2xl font-bold text-gray-900"},It={class:"flex items-center justify-between"},Ut={class:"text-2xl font-bold text-gray-900"},Qt={class:"flex items-center justify-between"},Wt={class:"text-2xl font-bold text-gray-900"},qt={class:"bg-white shadow-sm rounded-xl border border-gray-100"},Jt={class:"p-6 space-y-3"},Kt={class:"text-lg font-bold text-gray-900 capitalize"},Rt={class:"text-lg font-bold text-gray-900"},Xt={class:"text-lg font-bold text-gray-900"},Yt={key:0,class:"pt-3 border-t border-gray-200"},Zt={class:"flex justify-between items-center"},te={class:"text-lg font-bold text-gray-900"},ee={class:"text-lg font-bold text-emerald-600"},se={class:"bg-white shadow-sm rounded-xl border border-gray-100"},re={class:"p-6 space-y-3"},we={__name:"Show",props:{user:Object,student_profile:Object,stats:Object},setup(r){const P=r,f=p([]),y=p(!1),b=p(null),S=L(()=>P.user.name.split(" ").map(o=>o[0]).join("").toUpperCase().slice(0,2)),M=o=>({draft:"bg-gray-100 text-gray-800",active:"bg-emerald-100 text-emerald-800",paused:"bg-yellow-100 text-yellow-800",completed:"bg-teal-100 text-teal-800"})[o]||"bg-gray-100 text-gray-800",N=o=>o>=80?"bg-emerald-500":o>=50?"bg-teal-500":o>=25?"bg-amber-500":"bg-red-500",v=o=>o?new Date(o).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"Not set",h=(o,e)=>e>0?Math.round(o/e*100):0,_=async()=>{y.value=!0,b.value=null;try{const o=await fetch(route("student.profile.course-progress"));if(!o.ok)throw new Error(`Failed to load course progress: ${o.status}`);const e=await o.json();f.value=e.courses||[]}catch(o){console.error("Failed to load course progress:",o),b.value=o.message}finally{y.value=!1}};return T(()=>{_()}),(o,e)=>(n(),D(B,null,{default:u(()=>[d(a(V),{title:"My Profile"}),t("div",H,[t("div",I,[e[31]||(e[31]=t("div",{class:"mb-8"},[t("h1",{class:"text-2xl font-bold text-gray-900"},"My Profile"),t("p",{class:"mt-1 text-sm text-gray-600"}," Manage your personal information and learning preferences ")],-1)),t("div",U,[t("div",Q,[t("div",W,[e[3]||(e[3]=t("div",{class:"px-6 py-4 border-b border-gray-200"},[t("h2",{class:"text-lg font-bold text-gray-900"},"Personal Information")],-1)),t("div",q,[t("div",J,[t("div",K,[t("div",R,s(S.value),1)]),t("div",X,[t("h3",Y,s(r.user.name),1),t("p",Z,s(r.user.email),1),r.user.phone?(n(),i("p",tt,s(r.user.phone),1)):m("",!0),t("div",et,[t("span",st,s(r.student_profile.current_level),1),r.student_profile.exam_board?(n(),i("span",rt,s(r.student_profile.exam_board.name),1)):m("",!0)])])]),t("div",ot,[r.user.date_of_birth?(n(),i("div",lt,[e[0]||(e[0]=t("span",{class:"font-medium text-gray-700"},"Date of Birth:",-1)),t("p",dt,s(v(r.user.date_of_birth)),1)])):m("",!0),r.user.gender?(n(),i("div",at,[e[1]||(e[1]=t("span",{class:"font-medium text-gray-700"},"Gender:",-1)),t("p",nt,s(r.user.gender),1)])):m("",!0),r.user.bio?(n(),i("div",it,[e[2]||(e[2]=t("span",{class:"font-medium text-gray-700"},"Bio:",-1)),t("p",ut,s(r.user.bio),1)])):m("",!0)])])]),t("div",mt,[e[6]||(e[6]=t("div",{class:"px-6 py-4 border-b border-gray-200"},[t("h2",{class:"text-lg font-bold text-gray-900"},"Learning Goals")],-1)),t("div",xt,[r.student_profile.learning_goals?.length?(n(),i("div",ct,[(n(!0),i(w,null,k(r.student_profile.learning_goals,(l,$)=>(n(),i("div",{key:$,class:"flex items-center p-4 bg-emerald-50 rounded-xl border border-emerald-100"},[d(a(C),{class:"h-5 w-5 text-emerald-500 mr-3 flex-shrink-0"}),t("span",gt,s(l),1)]))),128))])):(n(),i("div",ft,[e[5]||(e[5]=t("p",{class:"text-gray-500"},"No learning goals set yet.",-1)),d(a(x),{href:o.route("student.profile.edit"),class:"mt-2 inline-flex items-center text-sm text-emerald-600 hover:text-emerald-500 font-medium"},{default:u(()=>[...e[4]||(e[4]=[c(" Set your learning goals ",-1)])]),_:1},8,["href"])]))])]),t("div",yt,[e[15]||(e[15]=t("div",{class:"px-6 py-4 border-b border-gray-200"},[t("h2",{class:"text-lg font-bold text-gray-900"},"Course Progress")],-1)),t("div",bt,[y.value?(n(),i("div",pt,[...e[7]||(e[7]=[t("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-emerald-600 mx-auto"},null,-1),t("p",{class:"mt-2 text-sm text-gray-500"},"Loading course progress...",-1)])])):b.value?(n(),i("div",vt,[d(a(z),{class:"h-8 w-8 text-red-500 mx-auto mb-2"}),e[8]||(e[8]=t("p",{class:"text-red-600 mb-2"},"Failed to load course progress",-1)),t("button",{onClick:_,class:"text-sm text-emerald-600 hover:text-emerald-500 font-medium"}," Try again ")])):f.value.length?(n(),i("div",ht,[(n(!0),i(w,null,k(f.value,l=>(n(),i("div",{key:l.id,class:"border border-gray-200 rounded-xl p-4 hover:border-emerald-300 transition-colors"},[t("div",_t,[t("h4",wt,s(l.title),1),t("span",{class:j(["inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold",M(l.status)])},s(l.status),3)]),t("div",kt,[t("div",jt,[e[9]||(e[9]=t("span",null,"Overall Progress",-1)),t("span",Ct,s(Math.round(l.progress_percentage))+"%",1)]),t("div",Pt,[t("div",{class:j(["h-2.5 rounded-full transition-all duration-300",N(l.progress_percentage)]),style:F({width:`${l.progress_percentage}%`})},null,6)])]),t("div",St,[t("div",Mt,[t("div",Nt,s(l.completed_modules)+"/"+s(l.total_modules),1),e[10]||(e[10]=t("div",{class:"text-emerald-600"},"Modules",-1)),t("div",$t,s(h(l.completed_modules,l.total_modules))+"% ",1)]),t("div",Bt,[t("div",Lt,s(l.completed_topics)+"/"+s(l.total_topics),1),e[11]||(e[11]=t("div",{class:"text-teal-600"},"Topics",-1)),t("div",Tt,s(h(l.completed_topics,l.total_topics))+"% ",1)])]),t("div",Dt,[d(a(x),{href:o.route("student.courses.show",l.id),class:"w-full text-center block px-3 py-2 text-sm font-medium text-emerald-600 hover:text-emerald-700 hover:bg-emerald-50 rounded-lg transition-colors"},{default:u(()=>[...e[12]||(e[12]=[c(" View Course Details ",-1)])]),_:1},8,["href"])])]))),128))])):(n(),i("div",Vt,[d(a(g),{class:"h-8 w-8 text-gray-400 mx-auto mb-2"}),e[14]||(e[14]=t("p",{class:"text-gray-500"},"No courses in progress.",-1)),d(a(x),{href:o.route("student.catalog.browse"),class:"mt-2 inline-flex items-center text-sm text-emerald-600 hover:text-emerald-500 font-medium"},{default:u(()=>[...e[13]||(e[13]=[c(" Browse Courses ",-1)])]),_:1},8,["href"])]))])])]),t("div",Ft,[t("div",zt,[e[20]||(e[20]=t("div",{class:"px-6 py-4 border-b border-gray-200"},[t("h2",{class:"text-lg font-bold text-gray-900"},"Learning Statistics")],-1)),t("div",Ot,[t("div",At,[t("div",null,[e[16]||(e[16]=t("p",{class:"text-sm font-medium text-gray-600"},"Total Courses",-1)),t("p",Et,s(r.stats.total_courses||0),1)]),d(a(g),{class:"h-8 w-8 text-emerald-500"})]),t("div",Gt,[t("div",null,[e[17]||(e[17]=t("p",{class:"text-sm font-medium text-gray-600"},"Completed",-1)),t("p",Ht,s(r.stats.completed_courses||0),1)]),d(a(C),{class:"h-8 w-8 text-emerald-500"})]),t("div",It,[t("div",null,[e[18]||(e[18]=t("p",{class:"text-sm font-medium text-gray-600"},"Active",-1)),t("p",Ut,s(r.stats.active_courses||0),1)]),d(a(O),{class:"h-8 w-8 text-emerald-500"})]),t("div",Qt,[t("div",null,[e[19]||(e[19]=t("p",{class:"text-sm font-medium text-gray-600"},"Study Hours",-1)),t("p",Wt,s(Math.round(r.stats.total_study_hours||0)),1)]),d(a(A),{class:"h-8 w-8 text-emerald-500"})])])]),t("div",qt,[e[26]||(e[26]=t("div",{class:"px-6 py-4 border-b border-gray-200"},[t("h2",{class:"text-lg font-bold text-gray-900"},"Study Plan")],-1)),t("div",Jt,[t("div",null,[e[21]||(e[21]=t("p",{class:"text-sm font-medium text-gray-700"},"Target Level",-1)),t("p",Kt,s(r.student_profile.target_level||"Not set"),1)]),t("div",null,[e[22]||(e[22]=t("p",{class:"text-sm font-medium text-gray-700"},"Weekly Study Hours",-1)),t("p",Rt,s(r.student_profile.weekly_study_hours||0)+" hours ",1)]),t("div",null,[e[23]||(e[23]=t("p",{class:"text-sm font-medium text-gray-700"},"Target Completion",-1)),t("p",Xt,s(v(r.student_profile.target_completion_date)),1)]),r.student_profile.current_grade||r.student_profile.target_grade?(n(),i("div",Yt,[e[24]||(e[24]=t("p",{class:"text-sm font-medium text-gray-700 mb-2"},"Grade Progress",-1)),e[25]||(e[25]=t("div",{class:"flex justify-between items-center"},[t("span",{class:"text-sm text-gray-600"},"Current"),t("span",{class:"text-sm text-gray-600"},"Target")],-1)),t("div",Zt,[t("span",te,s(r.student_profile.current_grade||"--")+"% ",1),d(a(E),{class:"h-4 w-4 text-gray-400"}),t("span",ee,s(r.student_profile.target_grade||"--")+"% ",1)])])):m("",!0)])]),t("div",se,[e[30]||(e[30]=t("div",{class:"px-6 py-4 border-b border-gray-200"},[t("h2",{class:"text-lg font-bold text-gray-900"},"Quick Actions")],-1)),t("div",re,[d(a(x),{href:o.route("student.profile.edit"),class:"w-full flex items-center justify-center px-4 py-2.5 border border-emerald-300 text-sm font-semibold rounded-lg text-emerald-700 bg-white hover:bg-emerald-50 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:ring-offset-2 transition-all duration-200"},{default:u(()=>[d(a(G),{class:"h-4 w-4 mr-2"}),e[27]||(e[27]=c(" Edit Profile ",-1))]),_:1},8,["href"]),d(a(x),{href:o.route("student.courses.index"),class:"w-full flex items-center justify-center px-4 py-2.5 border border-emerald-300 text-sm font-semibold rounded-lg text-emerald-700 bg-white hover:bg-emerald-50 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:ring-offset-2 transition-all duration-200"},{default:u(()=>[d(a(g),{class:"h-4 w-4 mr-2"}),e[28]||(e[28]=c(" View Courses ",-1))]),_:1},8,["href"]),d(a(x),{href:o.route("student.certificates.index"),class:"w-full flex items-center justify-center px-4 py-2.5 border border-emerald-300 text-sm font-semibold rounded-lg text-emerald-700 bg-white hover:bg-emerald-50 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:ring-offset-2 transition-all duration-200"},{default:u(()=>[d(a(g),{class:"h-4 w-4 mr-2"}),e[29]||(e[29]=c(" Certificates ",-1))]),_:1},8,["href"])])])])])])])]),_:1}))}};export{we as default};
