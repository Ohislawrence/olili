import{r as M,d as y,l as de,c as p,w as S,b as u,a as e,f as l,g as c,h as d,p as ce,o as r,n as f,t as o,F as b,i as g,A as k,j,x as N,y as F}from"./app-9iTwA3vC.js";import{S as ue}from"./StudentLayout-CG3ayj3X.js";import{_ as me}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{r as T}from"./AcademicCapIcon-BcrHGEuI.js";import{r as _}from"./CheckCircleIcon-gOQAQdUW.js";import{d as U}from"./XMarkIcon-DR50bQrw.js";import{r as W}from"./ChartBarIcon-DGOEscCD.js";import{r as xe}from"./ClockIcon-DtrScC2X.js";import{r as ge}from"./CalendarIcon-DuDXv21E.js";import{r as he}from"./ChevronDownIcon-BP3cur1W.js";import{r as be}from"./ExclamationTriangleIcon-D09Y4htZ.js";import{r as H}from"./PlayIcon-C8cuJ9yP.js";import{r as fe}from"./PauseIcon-D9sx26wQ.js";import"./DropdownLink-BJxGAADP.js";import"./NavLink-CVNpfdyq.js";import"./SparklesIcon-Vg7orskU.js";import"./transition-BH8B5sua.js";import"./UserCircleIcon-yAE3agds.js";import"./BellIcon-CKLl074K.js";import"./CreditCardIcon-BSp36FxJ.js";const ve={class:"py-6"},ye={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},_e={class:"mb-8"},we={class:"flex justify-between items-start"},pe={class:"flex-1"},ke={class:"flex items-center gap-2 mb-3"},je={key:2,class:"inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold bg-emerald-100 text-emerald-800"},Ce={class:"text-sm text-gray-500"},$e={class:"text-3xl font-bold text-gray-900 mb-2"},Me={class:"text-lg text-gray-600 mb-4"},Se={key:0,class:"ml-2 text-sm font-mono bg-gray-100 px-2 py-1 rounded"},Te={key:0,class:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl p-6 mb-4 border border-blue-100"},De={class:"flex items-center justify-between"},Ee={class:"text-lg font-bold text-gray-900 mb-2"},ze={class:"text-sm text-gray-600"},Be={key:0,class:"ml-2 text-amber-600 font-semibold"},Ne=["disabled"],Re={key:0},Le={key:1},Oe={key:0,class:"mt-2 text-sm text-amber-600"},Fe={key:0},qe={key:1},Ae={key:2},Ve={key:1,class:"bg-gradient-to-r from-emerald-50 to-teal-50 rounded-xl p-6 mb-4 border border-emerald-100"},Pe={class:"flex items-center justify-between mb-4"},Qe={class:"text-right"},Ie={class:"text-3xl font-bold text-emerald-600"},Ue={class:"space-y-3"},We={class:"flex justify-between text-sm text-gray-600 mb-1"},He={class:"font-semibold"},Ye={class:"w-full bg-gray-200 rounded-full h-3"},Ge={class:"grid grid-cols-2 gap-4 text-xs"},Je={class:"text-center"},Ke={class:"font-bold text-gray-900"},Xe={class:"text-center"},Ze={class:"font-bold text-gray-900"},et={key:0,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8"},tt={class:"bg-white rounded-xl shadow-sm border border-gray-100 p-6"},st={class:"flex items-center mb-4"},ot={class:"w-10 h-10 rounded-lg bg-blue-100 flex items-center justify-center mr-3"},rt={class:"space-y-2"},lt={class:"flex items-center text-sm text-gray-600"},nt={class:"flex items-center text-sm text-gray-600"},at={class:"flex items-center text-sm text-gray-600"},it={class:"flex items-center text-sm text-gray-600"},dt={key:0,class:"bg-white rounded-xl shadow-sm border border-gray-100 p-6"},ct={class:"flex items-center mb-4"},ut={class:"w-10 h-10 rounded-lg bg-amber-100 flex items-center justify-center mr-3"},mt={class:"space-y-2"},xt={key:1,class:"bg-white rounded-xl shadow-sm border border-gray-100 p-6"},gt={class:"flex items-center mb-4"},ht={class:"w-10 h-10 rounded-lg bg-emerald-100 flex items-center justify-center mr-3"},bt={class:"space-y-2"},ft={key:1,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8"},vt={class:"bg-white rounded-xl shadow-sm border border-gray-100 p-6 hover:shadow-md transition-shadow"},yt={class:"flex items-center justify-between mb-4"},_t={class:"w-12 h-12 rounded-xl bg-emerald-100 flex items-center justify-center"},wt={class:"text-right"},pt={class:"text-2xl font-bold text-gray-900"},kt={class:"w-full bg-gray-200 rounded-full h-2.5"},jt={class:"text-xs text-gray-500 mt-2"},Ct={class:"bg-white rounded-xl shadow-sm border border-gray-100 p-6 hover:shadow-md transition-shadow"},$t={class:"flex items-center justify-between mb-4"},Mt={class:"w-12 h-12 rounded-xl bg-teal-100 flex items-center justify-center"},St={class:"text-right"},Tt={class:"text-2xl font-bold text-gray-900"},Dt={class:"flex justify-between text-xs text-gray-500"},Et={class:"bg-white rounded-xl shadow-sm border border-gray-100 p-6 hover:shadow-md transition-shadow"},zt={class:"flex items-center justify-between mb-4"},Bt={class:"w-12 h-12 rounded-xl bg-purple-100 flex items-center justify-center"},Nt={class:"text-right"},Rt={class:"text-2xl font-bold text-gray-900"},Lt={class:"text-xs text-gray-500"},Ot={class:"bg-white rounded-xl shadow-sm border border-gray-100 p-6 hover:shadow-md transition-shadow"},Ft={class:"flex items-center justify-between mb-4"},qt={class:"w-12 h-12 rounded-xl bg-amber-100 flex items-center justify-center"},At={class:"text-right"},Vt={key:0,class:"text-sm font-semibold text-gray-900"},Pt={key:1,class:"text-sm text-gray-500"},Qt={key:0},It={class:"text-sm font-medium text-gray-900 line-clamp-2 mb-2"},Ut={class:"text-xs text-gray-500"},Wt={key:1,class:"text-center py-2"},Ht={key:2,class:"bg-white rounded-xl shadow-sm border border-gray-100 p-6 mb-8"},Yt={class:"flex items-center justify-between mb-4"},Gt={class:"text-sm text-gray-600"},Jt={class:"text-xs text-gray-400"},Kt={class:"flex-1 mx-4"},Xt={class:"relative"},Zt={class:"w-full bg-gray-200 rounded-full h-2.5"},es={class:"text-sm text-gray-600 text-right"},ts={class:"grid grid-cols-1 lg:grid-cols-3 gap-8"},ss={class:"bg-white shadow-sm rounded-xl border border-gray-100"},os={class:"px-6 py-4 border-b border-gray-200 bg-gray-50 rounded-t-xl"},rs={class:"flex items-center justify-between"},ls={class:"text-sm text-gray-500 mt-1"},ns={key:0,class:"text-right"},as={class:"text-sm text-gray-600"},is={class:"text-xs text-gray-400"},ds={class:"p-6"},cs={class:"mb-6 p-4 bg-emerald-50 rounded-lg border border-emerald-100"},us={class:"text-sm text-emerald-800"},ms={key:0,class:"mb-6"},xs={class:"grid gap-2"},gs={class:"text-sm text-gray-700"},hs={key:1,class:"absolute inset-0 bg-white/80 backdrop-blur-sm z-10 flex items-center justify-center rounded-xl"},bs={class:"text-center p-8 max-w-md"},fs=["disabled"],vs={key:2},ys={class:"space-y-3"},_s=["onClick"],ws={class:"flex items-center justify-between"},ps={class:"flex items-center flex-1"},ks={class:"relative"},js={class:"w-10 h-10 rounded-full flex items-center justify-center text-sm font-semibold mr-3 bg-gradient-to-br from-emerald-500 to-teal-600 text-white shadow-sm"},Cs={key:0,class:"absolute -top-1 -right-1 w-5 h-5 bg-emerald-500 rounded-full flex items-center justify-center"},$s={class:"flex-1"},Ms={class:"flex items-center gap-2 mb-1"},Ss={class:"text-base font-bold text-gray-900"},Ts={key:0,class:"inline-flex items-center px-2 py-1 rounded-full text-xs font-semibold bg-emerald-100 text-emerald-800"},Ds={class:"flex items-center gap-4 text-xs text-gray-500"},Es={class:"flex items-center gap-3"},zs={class:"text-right"},Bs={class:"text-sm font-bold text-gray-900"},Ns={class:"p-2 rounded-lg hover:bg-gray-100 transition-colors"},Rs={class:"mt-3"},Ls={class:"w-full bg-gray-200 rounded-full h-2.5"},Os={key:0,class:"bg-white"},Fs={class:"flex items-center justify-between"},qs={class:"flex items-center flex-1"},As={key:1},Vs={class:"flex-1"},Ps={class:"flex items-center gap-2 mb-1"},Qs={class:"text-sm font-medium text-gray-900 group-hover:text-emerald-600 transition-colors"},Is={key:0,class:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-semibold bg-amber-100 text-amber-800"},Us={class:"text-xs text-gray-500"},Ws={key:0,class:"ml-2"},Hs={class:"flex items-center gap-2 ml-4"},Ys={class:"space-y-6"},Gs={class:"bg-white rounded-xl shadow-sm border border-gray-100"},Js={class:"px-6 py-4 border-b border-gray-200 bg-gray-50 rounded-t-xl"},Ks={class:"text-lg font-bold text-gray-900"},Xs={class:"p-6 space-y-3"},Zs={key:0},eo=["disabled"],to={key:0,class:"mt-3 p-3 bg-amber-50 border border-amber-200 rounded-lg"},so={class:"flex items-center"},oo={class:"text-sm text-amber-700"},ro={key:0},lo={key:1},no={key:2},ao={class:"pt-3 border-t border-gray-200"},io={class:"pt-3 border-t border-gray-200"},co=["disabled"],uo=["disabled"],mo={class:"bg-white rounded-xl shadow-sm border border-gray-100"},xo={class:"p-6 space-y-4"},go={class:"font-medium text-gray-900"},ho={class:"font-medium text-gray-900"},bo={key:0},fo={class:"font-medium text-gray-900"},vo={class:"font-medium text-gray-900"},yo={class:"font-medium text-gray-900"},_o={key:0},wo={class:"font-medium"},po={key:0,class:"bg-white rounded-xl shadow-sm border border-gray-100"},ko={class:"p-6 space-y-4"},jo=["onClick"],Co={class:"flex justify-between items-center"},$o={class:"text-sm font-medium text-gray-700 truncate"},Mo={class:"w-full bg-gray-200 rounded-full h-2.5"},So={class:"flex justify-between text-xs text-gray-500"},To={key:0,class:"fixed inset-0 z-50 overflow-y-auto"},Do={__name:"Show",props:{course:Object,next_topic:Object,course_stats:{type:Object,default:()=>({completed_modules:0,total_modules:0,completed_topics:0,total_topics:0,module_completion_percentage:0,topic_completion_percentage:0,overall_completion_percentage:0,total_time_minutes:0,completed_time_minutes:0,estimated_total_minutes:0,average_score:0,estimated_remaining_time:0,progress_by_module:[]})},is_enrolled:Boolean,was_dropped:Boolean,dropped_enrollment:Object,enrollment:Object,can_enroll:Boolean,lastViewedTopic:Number},setup(t){const m=t,v=M(!1),D=M(!1),E=M(!1),C=M({}),q=M(!1),h=y(()=>m.is_enrolled||!1);y(()=>m.was_dropped&&m.can_enroll);const w=y(()=>Math.round(m.course_stats?.overall_completion_percentage||0)),$=y(()=>m.course_stats?.completed_topics||0),A=y(()=>m.course_stats?.total_topics||0),Y=y(()=>m.course_stats?.completed_modules||0),G=y(()=>m.course_stats?.total_modules||0),J=y(()=>m.course_stats?.total_time_minutes||0),K=y(()=>m.course_stats?.estimated_remaining_time||0),X=y(()=>m.course_stats?.average_score||0),z=y(()=>m.course_stats?.progress_by_module||[]);de(()=>{m.course.modules?.length&&(C.value[m.course.modules[0].id]=!0)});const V=n=>({draft:"bg-gray-100 text-gray-800",active:"bg-emerald-100 text-emerald-800",paused:"bg-amber-100 text-amber-800",completed:"bg-teal-100 text-teal-800"})[n]||"bg-gray-100 text-gray-800",Z=n=>({draft:"text-gray-600",active:"text-emerald-600",paused:"text-amber-600",completed:"text-teal-600"})[n]||"text-gray-600",P=n=>n?new Date(n).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"Not set",Q=n=>{if(!n)return"";const s=new Date(n),i=Math.abs(new Date-s),x=Math.ceil(i/(1e3*60*60*24));return x===1?"today":x===2?"yesterday":x<7?`${x-1} days ago`:x<30?`${Math.floor(x/7)} weeks ago`:`${Math.floor(x/30)} months ago`},R=n=>{if(!n||n===0)return"0m";const s=Math.floor(n/60),a=Math.round(n%60);return s>0?`${s}h ${a}m`:`${a}m`},ee=n=>{if(!n)return"";const i=new Date(n)-new Date,x=Math.ceil(i/(1e3*60*60*24));return x<0?`${Math.abs(x)} days overdue`:x===0?"Due today":x===1?"1 day left":`${x} days left`},te=n=>{if(!n)return"text-gray-400";const i=new Date(n)-new Date,x=Math.ceil(i/(1e3*60*60*24));return x<0?"text-red-500":x<=7?"text-amber-500":"text-emerald-500"},L=n=>{if(!h.value)return 0;if(z.value.length>0){const i=z.value.find(x=>x.module_id===n.id);if(i)return i.completion_percentage}const s=n.topics?.filter(i=>i.is_completed).length||0,a=n.topics?.length||0;return a>0?Math.round(s/a*100):0},se=n=>m.course.modules?.find(a=>a.id===n)?.order||1,oe=n=>n>=90?"text-emerald-600":n>=70?"text-teal-600":n>=50?"text-amber-600":"text-red-600",re=n=>n>=90?"bg-emerald-500":n>=70?"bg-teal-500":n>=50?"bg-amber-500":"bg-red-500",I=n=>{h.value&&(C.value[n]=!C.value[n])},B=()=>m.course.modules?.reduce((n,s)=>n+(s.topics?.length||0),0)||0,le=()=>m.course.modules?.reduce((n,s)=>n+(s.topics?.filter(a=>a.has_quiz).length||0),0)||0,O=async()=>{if(!(v.value||!m.can_enroll)){v.value=!0;try{await F.post(route("student.courses.enroll",m.course.id),{},{preserveScroll:!0,onSuccess:()=>{},onFinish:()=>{v.value=!1}})}catch(n){console.error("Enrollment failed:",n),v.value=!1}}},ne=async()=>{if(h.value){D.value=!0;try{await F.post(route("student.courses.pause",m.course.id))}finally{D.value=!1}}},ae=async()=>{if(h.value){E.value=!0;try{await F.post(route("student.courses.resume",m.course.id))}finally{E.value=!1}}},ie=()=>{h.value&&(q.value=!0)};return(n,s)=>(r(),p(ue,null,{default:S(()=>[u(d(ce),{title:t.course.title},null,8,["title"]),e("div",ve,[e("div",ye,[e("div",_e,[e("div",we,[e("div",pe,[e("div",ke,[t.enrollment?(r(),l("span",{key:0,class:f(["inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold",V(t.enrollment.status)])},o(t.enrollment.status),3)):(r(),l("span",{key:1,class:f(["inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold",V(t.course.status)])},o(t.course.status),3)),t.course.exam_board?(r(),l("span",je,o(t.course.exam_board.name),1)):c("",!0),e("span",Ce,[t.enrollment?.started_at?(r(),l(b,{key:0},[g(" Started "+o(Q(t.enrollment.started_at)),1)],64)):(r(),l(b,{key:1},[g(" Not started yet ")],64))])]),e("h1",$e,o(t.course.title),1),e("p",Me,[g(o(t.course.subject)+" • "+o(t.course.level)+" ",1),t.course.code?(r(),l("span",Se,o(t.course.code),1)):c("",!0)]),h.value?(r(),l("div",Ve,[e("div",Pe,[s[2]||(s[2]=e("div",null,[e("h3",{class:"text-lg font-bold text-gray-900"},"Course Progress"),e("p",{class:"text-sm text-gray-600"},"Your journey to mastery")],-1)),e("div",Qe,[e("div",Ie,o(w.value)+"% ",1),s[1]||(s[1]=e("div",{class:"text-sm text-gray-500"},"Complete",-1))])]),e("div",Ue,[e("div",null,[e("div",We,[s[3]||(s[3]=e("span",null,"Overall Progress",-1)),e("span",He,o(w.value)+"%",1)]),e("div",Ye,[e("div",{class:"bg-gradient-to-r from-emerald-500 to-teal-600 h-3 rounded-full transition-all duration-500 shadow-sm",style:k({width:`${w.value}%`})},null,4)])]),e("div",Ge,[e("div",Je,[e("div",Ke,o(Y.value)+"/"+o(G.value),1),s[4]||(s[4]=e("div",{class:"text-gray-500"},"Modules",-1))]),e("div",Xe,[e("div",Ze,o($.value)+"/"+o(A.value),1),s[5]||(s[5]=e("div",{class:"text-gray-500"},"Topics",-1))])])])])):(r(),l("div",Te,[e("div",De,[e("div",null,[e("h3",Ee,[t.was_dropped?(r(),l(b,{key:0},[g(" Ready to re-enroll? ")],64)):(r(),l(b,{key:1},[g(" Ready to enroll? ")],64))]),e("p",ze,[g(o(t.course.is_paid?`Price: $${t.course.price}`:"This course is free")+" • "+o(t.course.estimated_duration_hours||0)+" hours • "+o(t.course.current_enrollment||0)+" students enrolled ",1),t.was_dropped?(r(),l("span",Be,"(Previously dropped)")):c("",!0)])]),e("div",null,[e("button",{onClick:O,disabled:v.value||!t.can_enroll,class:f(["px-6 py-3 rounded-lg font-semibold text-white transition-all duration-200",v.value?"bg-blue-400 cursor-not-allowed":t.can_enroll?t.was_dropped?"bg-gradient-to-r from-amber-600 to-orange-600 hover:from-amber-700 hover:to-orange-700 shadow-md hover:shadow-lg":"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 shadow-md hover:shadow-lg":"bg-gray-400 cursor-not-allowed"])},[v.value?(r(),l("span",Re,[...s[0]||(s[0]=[e("svg",{class:"animate-spin h-5 w-5 mr-2 inline-block",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),g(" Processing... ",-1)])])):(r(),l("span",Le,[t.was_dropped?(r(),l(b,{key:0},[g(" Re-enroll Now ")],64)):(r(),l(b,{key:1},[g(o(t.course.is_paid?`Enroll Now - $${t.course.price}`:"Enroll for Free"),1)],64))]))],10,Ne),!t.can_enroll&&!h.value?(r(),l("div",Oe,[t.course.isFull?(r(),l("span",Fe,"Course is full")):t.course.status!=="active"?(r(),l("span",qe,"Course is not available for enrollment")):(r(),l("span",Ae,"Cannot enroll at this time"))])):c("",!0)])])]))])])]),h.value?(r(),l("div",ft,[e("div",vt,[e("div",yt,[e("div",_t,[u(d(W),{class:"h-6 w-6 text-emerald-600"})]),e("div",wt,[e("div",pt,o(w.value)+"%",1),s[9]||(s[9]=e("div",{class:"text-sm text-gray-500"},"Complete",-1))])]),e("div",kt,[e("div",{class:"bg-emerald-600 h-2.5 rounded-full transition-all duration-300",style:k({width:`${w.value}%`})},null,4)]),e("p",jt,o($.value)+" of "+o(A.value)+" topics ",1)]),e("div",Ct,[e("div",$t,[e("div",Mt,[u(d(xe),{class:"h-6 w-6 text-teal-600"})]),e("div",St,[e("div",Tt,o(R(J.value)),1),s[10]||(s[10]=e("div",{class:"text-sm text-gray-500"},"Time Spent",-1))])]),e("div",Dt,[e("span",null,"Est: "+o(t.course.estimated_duration_hours||0)+"h",1),e("span",null,"Remaining: "+o(R(K.value)),1)])]),e("div",Et,[e("div",zt,[e("div",Bt,[u(d(T),{class:"h-6 w-6 text-purple-600"})]),e("div",Nt,[e("div",Rt,o(X.value)+"%",1),s[11]||(s[11]=e("div",{class:"text-sm text-gray-500"},"Avg Score",-1))])]),e("div",Lt," Based on "+o($.value)+" completed topics ",1)]),e("div",Ot,[e("div",Ft,[e("div",qt,[u(d(ge),{class:"h-6 w-6 text-amber-600"})]),e("div",At,[t.next_topic?(r(),l("div",Vt," Next Up ")):(r(),l("div",Pt,"All Done!"))])]),t.next_topic?(r(),l("div",Qt,[e("p",It,o(t.next_topic.title),1),e("p",Ut," Module "+o(se(t.next_topic.module_id))+" • "+o(t.next_topic.estimated_duration_minutes||0)+"min ",1)])):(r(),l("div",Wt,[u(d(_),{class:"h-8 w-8 text-green-500 mx-auto mb-2"}),s[12]||(s[12]=e("p",{class:"text-sm text-gray-600"},"Course Completed!",-1))]))])])):(r(),l("div",et,[e("div",tt,[e("div",st,[e("div",ot,[u(d(T),{class:"h-5 w-5 text-blue-600"})]),s[6]||(s[6]=e("div",null,[e("h3",{class:"font-semibold text-gray-900"},"Course Details"),e("p",{class:"text-sm text-gray-500"},"What you'll learn")],-1))]),e("div",rt,[e("div",lt,[u(d(_),{class:"h-4 w-4 text-emerald-500 mr-2"}),e("span",null,o(t.course.estimated_duration_hours||0)+" hours of content",1)]),e("div",nt,[u(d(_),{class:"h-4 w-4 text-emerald-500 mr-2"}),e("span",null,o(t.course.modules?.length||0)+" modules",1)]),e("div",at,[u(d(_),{class:"h-4 w-4 text-emerald-500 mr-2"}),e("span",null,o(B())+" topics",1)]),e("div",it,[u(d(_),{class:"h-4 w-4 text-emerald-500 mr-2"}),e("span",null,o(le())+" quizzes",1)])])]),t.course.prerequisites?.length?(r(),l("div",dt,[e("div",ct,[e("div",ut,[u(d(U),{class:"h-5 w-5 text-amber-600"})]),s[7]||(s[7]=e("div",null,[e("h3",{class:"font-semibold text-gray-900"},"Prerequisites"),e("p",{class:"text-sm text-gray-500"},"Recommended knowledge")],-1))]),e("div",mt,[(r(!0),l(b,null,j(t.course.prerequisites.slice(0,3),(a,i)=>(r(),l("div",{key:i,class:"text-sm text-gray-600"}," • "+o(a),1))),128))])])):c("",!0),t.course.learning_objectives?.length?(r(),l("div",xt,[e("div",gt,[e("div",ht,[u(d(W),{class:"h-5 w-5 text-emerald-600"})]),s[8]||(s[8]=e("div",null,[e("h3",{class:"font-semibold text-gray-900"},"Learning Objectives"),e("p",{class:"text-sm text-gray-500"},"What you'll achieve")],-1))]),e("div",bt,[(r(!0),l(b,null,j(t.course.learning_objectives.slice(0,3),(a,i)=>(r(),l("div",{key:i,class:"text-sm text-gray-600 line-clamp-2"}," • "+o(a),1))),128))])])):c("",!0)])),h.value?(r(),l("div",Ht,[s[13]||(s[13]=e("h3",{class:"text-lg font-bold text-gray-900 mb-4"},"Completion Timeline",-1)),e("div",Yt,[e("div",Gt,[e("div",null,"Start: "+o(P(t.enrollment?.started_at)),1),e("div",Jt,"Started "+o(Q(t.enrollment?.started_at)),1)]),e("div",Kt,[e("div",Xt,[e("div",Zt,[e("div",{class:"bg-gradient-to-r from-emerald-500 to-teal-500 h-2.5 rounded-full transition-all duration-500",style:k({width:`${w.value}%`})},null,4)]),e("div",{class:"absolute top-0 w-3 h-3 bg-emerald-600 rounded-full border-2 border-white shadow-lg -mt-0.5 transition-all duration-500",style:k({left:`${w.value}%`})},null,4)])]),e("div",es,[e("div",null,"Target: "+o(P(t.course.target_completion_date)),1),e("div",{class:f(["text-xs",te(t.course.target_completion_date)])},o(ee(t.course.target_completion_date)),3)])])])):c("",!0),e("div",ts,[e("div",{class:f(["lg:col-span-2",h.value?"":"opacity-50"])},[e("div",ss,[e("div",os,[e("div",rs,[e("div",null,[s[14]||(s[14]=e("h2",{class:"text-lg font-bold text-gray-900"},"Course Content",-1)),e("p",ls,o(t.course.modules?.length||0)+" modules • "+o(B())+" topics ",1)]),h.value?(r(),l("div",ns,[e("div",as,o($.value)+"/"+o(B())+" completed ",1),e("div",is,o(Math.round($.value/B()*100||0))+"% complete ",1)])):c("",!0)])]),e("div",ds,[e("div",cs,[s[15]||(s[15]=e("h3",{class:"text-sm font-semibold text-emerald-900 mb-2"},"Course Description",-1)),e("p",us,o(t.course.description||"No description available"),1)]),t.course.learning_objectives?.length?(r(),l("div",ms,[s[16]||(s[16]=e("h3",{class:"text-sm font-semibold text-gray-700 mb-3"},"Learning Objectives",-1)),e("div",xs,[(r(!0),l(b,null,j(t.course.learning_objectives,(a,i)=>(r(),l("div",{key:i,class:"flex items-start p-3 bg-gray-50 rounded-lg border border-gray-200"},[u(d(_),{class:"h-4 w-4 text-emerald-500 mr-2 mt-0.5 flex-shrink-0"}),e("span",gs,o(a),1)]))),128))])])):c("",!0),h.value?c("",!0):(r(),l("div",hs,[e("div",bs,[u(d(T),{class:"h-12 w-12 text-blue-500 mx-auto mb-4"}),s[17]||(s[17]=e("h3",{class:"text-xl font-bold text-gray-900 mb-2"},"Enroll to Access Content",-1)),s[18]||(s[18]=e("p",{class:"text-gray-600 mb-6"}," Enroll in this course to access all modules, topics, and learning materials. ",-1)),e("button",{onClick:O,disabled:v.value,class:f(["px-8 py-3 rounded-lg font-semibold text-white transition-all duration-200",v.value?"bg-blue-400 cursor-not-allowed":"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 shadow-md hover:shadow-lg"])},o(t.course.is_paid?`Enroll for $${t.course.price}`:"Enroll for Free"),11,fs)])])),h.value?(r(),l("div",vs,[s[21]||(s[21]=e("h3",{class:"text-sm font-semibold text-gray-700 mb-4"},"Course Structure",-1)),e("div",ys,[(r(!0),l(b,null,j(t.course.modules,a=>(r(),l("div",{key:a.id,class:"border border-gray-200 rounded-xl overflow-hidden hover:border-emerald-300 transition-colors"},[e("div",{class:"p-4 bg-gradient-to-r from-gray-50 to-white border-b border-gray-200 cursor-pointer",onClick:i=>I(a.id)},[e("div",ws,[e("div",ps,[e("div",ks,[e("div",js,o(a.order),1),a.is_completed?(r(),l("div",Cs,[u(d(_),{class:"h-3 w-3 text-white"})])):c("",!0)]),e("div",$s,[e("div",Ms,[e("h4",Ss,o(a.title),1),a.is_completed?(r(),l("span",Ts," Completed ")):c("",!0)]),e("div",Ds,[e("span",null,o(a.topics?.length||0)+" topics",1),e("span",null,o(a.estimated_duration_minutes||0)+"min",1),e("span",null,o(L(a))+"% complete",1)])])]),e("div",Es,[e("div",zs,[e("div",Bs,o(L(a))+"% ",1),s[19]||(s[19]=e("div",{class:"text-xs text-gray-500"},"Complete",-1))]),e("button",Ns,[u(d(he),{class:f(["h-4 w-4 text-gray-500 transition-transform duration-200",{"rotate-180":C.value[a.id]}])},null,8,["class"])])])]),e("div",Rs,[e("div",Ls,[e("div",{class:"bg-gradient-to-r from-emerald-500 to-teal-600 h-2.5 rounded-full transition-all duration-300",style:k({width:`${L(a)}%`})},null,4)])])],8,_s),C.value[a.id]&&a.topics?.length?(r(),l("div",Os,[(r(!0),l(b,null,j(a.topics,i=>(r(),l("div",{key:i.id,class:"p-4 border-b border-gray-100 last:border-b-0 hover:bg-emerald-50 transition-colors group"},[e("div",Fs,[e("div",qs,[e("div",{class:f(["w-8 h-8 rounded-full flex items-center justify-center text-xs font-semibold mr-3 flex-shrink-0 border-2 transition-colors",i.is_completed?"bg-emerald-500 border-emerald-500 text-white":"bg-white border-gray-300 text-gray-400 group-hover:border-emerald-300"])},[i.is_completed?(r(),p(d(_),{key:0,class:"h-3 w-3"})):(r(),l("span",As,o(i.order),1))],2),e("div",Vs,[e("div",Ps,[e("h5",Qs,o(i.title),1),i.has_quiz?(r(),l("span",Is," Quiz ")):c("",!0)]),e("p",Us,[g(o(i.estimated_duration_minutes||0)+"min ",1),i.description?(r(),l("span",Ws,"• "+o(i.description),1)):c("",!0)])])]),e("div",Hs,[i.is_completed?(r(),p(d(_),{key:0,class:"h-5 w-5 text-emerald-600 flex-shrink-0"})):(r(),p(d(N),{key:1,href:n.route("student.courses.learn",{course:t.course.id,topic:i.id}),class:"inline-flex items-center px-3 py-1.5 text-xs font-semibold text-white bg-emerald-600 hover:bg-emerald-700 rounded-lg transition-colors shadow-sm hover:shadow-md"},{default:S(()=>[...s[20]||(s[20]=[g(" Start ",-1)])]),_:1},8,["href"]))])])]))),128))])):c("",!0)]))),128))])])):c("",!0)])])],2),e("div",Ys,[e("div",Gs,[e("div",Js,[e("h2",Ks,o(h.value?"Quick Actions":"Enrollment Options"),1)]),e("div",Xs,[h.value?(r(),l(b,{key:1},[t.enrollment?.status==="active"&&t.next_topic?(r(),p(d(N),{key:0,href:n.route("student.courses.learn",{course:t.course.id,topic:t.next_topic.id}),class:"w-full flex items-center justify-center px-4 py-3 bg-gradient-to-r from-emerald-600 to-teal-600 hover:from-emerald-700 hover:to-teal-700 text-white font-semibold rounded-lg transition-all duration-200 shadow-sm hover:shadow-md focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:ring-offset-2"},{default:S(()=>[u(d(H),{class:"h-4 w-4 mr-2"}),s[22]||(s[22]=g(" Continue Learning ",-1))]),_:1},8,["href"])):t.enrollment?.status==="active"?(r(),p(d(N),{key:1,href:n.route("student.courses.learn",t.course.id),class:"w-full flex items-center justify-center px-4 py-3 bg-gradient-to-r from-emerald-600 to-teal-600 hover:from-emerald-700 hover:to-teal-700 text-white font-semibold rounded-lg transition-all duration-200 shadow-sm hover:shadow-md focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:ring-offset-2"},{default:S(()=>[u(d(T),{class:"h-4 w-4 mr-2"}),s[23]||(s[23]=g(" Review Course ",-1))]),_:1},8,["href"])):c("",!0),e("button",{onClick:ie,class:"w-full flex items-center justify-center px-4 py-2.5 border border-emerald-300 text-sm font-semibold rounded-lg text-emerald-700 bg-white hover:bg-emerald-50 transition-colors disabled:opacity-50"}," Share "),e("div",ao,[t.course.capstone_project?(r(),p(d(N),{key:0,href:n.route("student.capstone-projects.show",t.course.capstone_project.id),class:"flex items-center justify-center px-3 py-2.5 border border-emerald-300 text-sm font-semibold rounded-lg text-emerald-700 bg-white hover:bg-emerald-50 transition-colors"},{default:S(()=>[u(d(U),{class:"h-4 w-4 mr-2"}),s[24]||(s[24]=g(" Capstone ",-1))]),_:1},8,["href"])):c("",!0)]),e("div",io,[t.enrollment?.status==="active"?(r(),l("button",{key:0,onClick:ne,disabled:D.value,class:"w-full flex items-center justify-center px-4 py-2.5 border border-emerald-300 text-sm font-semibold rounded-lg text-emerald-700 bg-white hover:bg-emerald-50 transition-colors disabled:opacity-50"},[u(d(fe),{class:"h-4 w-4 mr-2"}),g(" "+o(D.value?"Pausing...":"Pause Course"),1)],8,co)):c("",!0),t.enrollment?.status==="paused"?(r(),l("button",{key:1,onClick:ae,disabled:E.value,class:"w-full flex items-center justify-center px-4 py-2.5 border border-transparent text-sm font-semibold rounded-lg text-white bg-emerald-600 hover:bg-emerald-700 transition-colors disabled:opacity-50"},[u(d(H),{class:"h-4 w-4 mr-2"}),g(" "+o(E.value?"Resuming...":"Resume Course"),1)],8,uo)):c("",!0)])],64)):(r(),l("div",Zs,[e("button",{onClick:O,disabled:v.value||!t.can_enroll,class:f(["w-full flex items-center justify-center px-4 py-3 font-semibold rounded-lg transition-all duration-200 shadow-sm hover:shadow-md",v.value||!t.can_enroll?"bg-gray-400 text-white cursor-not-allowed":t.course.is_paid?"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white":"bg-gradient-to-r from-emerald-600 to-teal-600 hover:from-emerald-700 hover:to-teal-700 text-white"])},[u(d(T),{class:"h-4 w-4 mr-2"}),g(" "+o(t.course.is_paid?`Enroll for $${t.course.price}`:"Enroll for Free"),1)],10,eo),t.can_enroll?c("",!0):(r(),l("div",to,[e("div",so,[u(d(be),{class:"h-5 w-5 text-amber-500 mr-2"}),e("div",oo,[t.course.isFull?(r(),l("span",ro,"This course is currently full")):t.course.status!=="active"?(r(),l("span",lo,"Course is not available for enrollment")):(r(),l("span",no,"Enrollment is currently closed"))])])]))]))])]),e("div",mo,[s[31]||(s[31]=e("div",{class:"px-6 py-4 border-b border-gray-200 bg-gray-50 rounded-t-xl"},[e("h2",{class:"text-lg font-bold text-gray-900"},"Course Information")],-1)),e("div",xo,[e("div",null,[s[25]||(s[25]=e("div",{class:"text-sm text-gray-500 mb-1"},"Subject",-1)),e("div",go,o(t.course.subject),1)]),e("div",null,[s[26]||(s[26]=e("div",{class:"text-sm text-gray-500 mb-1"},"Level",-1)),e("div",ho,o(t.course.level),1)]),t.course.exam_board?(r(),l("div",bo,[s[27]||(s[27]=e("div",{class:"text-sm text-gray-500 mb-1"},"Exam Board",-1)),e("div",fo,o(t.course.exam_board.name),1)])):c("",!0),e("div",null,[s[28]||(s[28]=e("div",{class:"text-sm text-gray-500 mb-1"},"Duration",-1)),e("div",vo,o(t.course.estimated_duration_hours||0)+" hours",1)]),e("div",null,[s[29]||(s[29]=e("div",{class:"text-sm text-gray-500 mb-1"},"Enrollment",-1)),e("div",yo,[g(o(t.course.current_enrollment||0)+" students ",1),t.course.enrollment_limit?(r(),l("span",_o,"/ "+o(t.course.enrollment_limit)+" limit",1)):c("",!0)])]),e("div",null,[s[30]||(s[30]=e("div",{class:"text-sm text-gray-500 mb-1"},"Status",-1)),e("div",wo,[e("span",{class:f(Z(t.course.status))},o(t.course.status),3)])])])]),h.value&&z.value.length?(r(),l("div",po,[s[32]||(s[32]=e("div",{class:"px-6 py-4 border-b border-gray-200 bg-gray-50 rounded-t-xl"},[e("h2",{class:"text-lg font-bold text-gray-900"},"Module Progress")],-1)),e("div",ko,[(r(!0),l(b,null,j(z.value,a=>(r(),l("div",{key:a.module_id,class:"space-y-2 p-3 rounded-lg hover:bg-emerald-50 transition-colors cursor-pointer",onClick:i=>I(a.module_id)},[e("div",Co,[e("span",$o,o(a.module_title),1),e("span",{class:f(["text-sm font-bold",oe(a.completion_percentage)])},o(Math.round(a.completion_percentage))+"% ",3)]),e("div",Mo,[e("div",{class:f(["h-2.5 rounded-full transition-all duration-300",re(a.completion_percentage)]),style:k({width:`${a.completion_percentage}%`})},null,6)]),e("div",So,[e("span",null,o(a.completed_topics)+"/"+o(a.total_topics)+" topics",1),e("span",null,o(R(a.time_spent_minutes)),1)])],8,jo))),128))])])):c("",!0)])])])]),q.value?(r(),l("div",To)):c("",!0)]),_:1}))}},Ko=me(Do,[["__scopeId","data-v-6973e3bf"]]);export{Ko as default};
