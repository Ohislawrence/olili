import{c as k,w as y,b as d,a as t,i as m,q as R,t as r,j as c,n as u,y as f,f as n,h as a,o as i,F as b,k as v,z as h}from"./app-B-OZzbbp.js";import{A as $}from"./AdminLayout-ILp_l5Mg.js";import{_ as g}from"./StatsCard-CIMCIILS.js";import{r as q}from"./ExclamationTriangleIcon-BLGV8JDz.js";import{r as B}from"./ArrowLeftIcon-75Usxl71.js";import"./XMarkIcon-BKBW53Kb.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./UserIcon-DrZVUHx8.js";import"./ChartBarIcon-OQmpj2xI.js";import"./CurrencyDollarIcon-BTQQ5DA-.js";import"./EyeIcon-C4j8cdnB.js";import"./CheckCircleIcon--0AwJBAc.js";import"./TrophyIcon-C1Gp-aJf.js";import"./SparklesIcon-aQS2W3af.js";import"./CreditCardIcon-DNNtHFv5.js";import"./UserGroupIcon-BtZid4GL.js";import"./AcademicCapIcon-Ccf_VBpf.js";const I={class:"py-6"},z={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},E={class:"mb-8"},M={class:"flex justify-between items-center"},O={class:"text-3xl font-bold text-gray-900"},F={class:"mt-2 text-gray-600"},G={class:"flex space-x-3"},H={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8"},Q={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8"},W={class:"grid grid-cols-1 lg:grid-cols-3 gap-8"},Y={class:"lg:col-span-2 space-y-6"},J={class:"bg-white shadow rounded-lg"},K={class:"p-6"},X={class:"grid grid-cols-1 gap-x-4 gap-y-6 sm:grid-cols-2"},Z={class:"mt-1 text-sm text-gray-900"},tt={class:"mt-1 text-sm text-gray-900"},et={class:"mt-1 text-sm text-gray-900"},st={class:"mt-1"},rt={class:"mt-1"},it={class:"mt-1"},nt={class:"mt-1 text-sm text-gray-900"},lt={class:"mt-1 text-sm text-gray-900"},ot={class:"bg-white shadow rounded-lg"},dt={class:"p-6"},at={key:0,class:"space-y-4"},ut={class:"grid grid-cols-1 gap-x-4 gap-y-4 sm:grid-cols-2"},mt={class:"mt-1 text-sm font-semibold text-gray-900"},ct={class:"mt-1"},xt={class:"mt-1 text-sm text-gray-900"},gt={class:"mt-1 text-sm text-gray-900"},yt={class:"text-xs text-gray-500 ml-1"},ft={key:0},bt={class:"mt-1 text-sm text-gray-900"},vt={class:"mt-1 text-sm text-gray-900"},pt={key:0},ht={key:1,class:"text-gray-500"},wt={key:0},_t={class:"flex flex-wrap gap-2"},kt={key:1,class:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm"},St={class:"text-gray-900"},Ct={class:"text-gray-900"},At={key:0},Lt={class:"text-gray-900"},Nt={key:1},Pt={class:"text-gray-900"},Tt={key:1,class:"text-center text-gray-500 py-4"},Dt={key:0,class:"bg-white shadow rounded-lg"},jt={class:"p-6"},Ut={class:"grid grid-cols-1 gap-x-4 gap-y-6 sm:grid-cols-2"},Vt={class:"mt-1 text-sm text-gray-900"},Rt={class:"mt-1 text-sm text-gray-900 capitalize"},$t={class:"mt-1 text-sm text-gray-900 capitalize"},qt={class:"mt-1 text-sm text-gray-900"},Bt={class:"mt-1 text-sm text-gray-900"},It={class:"mt-1 text-sm text-gray-900"},zt={class:"mt-1 text-sm text-gray-900"},Et={key:0,class:"mt-6"},Mt={class:"flex flex-wrap gap-2"},Ot={key:1,class:"mt-6"},Ft={class:"flex flex-wrap gap-2"},Gt={key:1,class:"bg-white shadow rounded-lg"},Ht={class:"p-6"},Qt={class:"grid grid-cols-1 gap-x-4 gap-y-6 sm:grid-cols-2"},Wt={class:"mt-1 text-sm text-gray-900"},Yt={class:"mt-1 text-sm text-gray-900"},Jt={class:"mt-1 text-sm text-gray-900"},Kt={class:"mt-1"},Xt={class:"mt-1"},Zt={class:"mt-1 text-sm text-gray-900"},te={class:"mt-1 text-sm text-gray-900"},ee={class:"mt-1 text-sm text-gray-900"},se={key:0,class:"mt-6"},re={class:"flex flex-wrap gap-2"},ie={key:1,class:"mt-6"},ne={class:"text-sm text-gray-700"},le={class:"bg-white shadow rounded-lg"},oe={class:"px-6 py-4 border-b border-gray-200"},de={class:"flex justify-between items-center"},ae={class:"p-6"},ue={key:0,class:"space-y-4"},me={class:"flex items-center"},ce={class:"text-sm font-medium text-gray-900"},xe={class:"text-sm text-gray-500"},ge={key:1,class:"text-center text-gray-500 py-4"},ye={class:"space-y-6"},fe={class:"bg-white shadow rounded-lg"},be={class:"p-6 space-y-3"},ve={key:1,class:"bg-yellow-100 border-b border-yellow-200 py-2 px-4"},pe={class:"flex items-center justify-between"},he={class:"flex items-center"},we={class:"text-sm text-yellow-800"},_e={class:"bg-white shadow rounded-lg"},ke={class:"p-6 space-y-4"},Se={class:"text-2xl font-semibold text-gray-900"},Ce={class:"text-2xl font-semibold text-gray-900"},Ae={class:"text-2xl font-semibold text-gray-900"},Le={class:"text-2xl font-semibold text-gray-900"},Ne={class:"bg-white shadow rounded-lg"},Pe={class:"p-6"},Te={key:0,class:"space-y-3"},De={class:"text-sm font-medium text-gray-900"},je={class:"text-xs text-gray-500"},Ue={key:1,class:"text-center text-gray-500 py-4"},Ke={__name:"Show",props:{user:Object,stats:Object,loginStats:Object},setup(s){const p=s,w=l=>({admin:"bg-red-100 text-red-800",tutor:"bg-blue-100 text-blue-800",student:"bg-green-100 text-green-800",organization:"bg-purple-100 text-purple-800"})[l]||"bg-gray-100 text-gray-800",_=l=>({active:"bg-green-100 text-green-800",canceled:"bg-red-100 text-red-800",expired:"bg-gray-100 text-gray-800",past_due:"bg-yellow-100 text-yellow-800"})[l]||"bg-gray-100 text-gray-800",S=l=>({active:"green",canceled:"red",expired:"gray",past_due:"yellow"})[l]||"gray",C=l=>({exam_preparation:"Exam Preparation",career_advancement:"Career Advancement",skill_development:"Skill Development",academic_studies:"Academic Studies",personal_interest:"Personal Interest",certification:"Get Certified"})[l]||l,A=l=>({visual:"Visual",interactive:"Interactive",reading:"Reading",video:"Video",audio:"Audio",social:"Social Learning"})[l]||l,L=l=>({mathematics:"Mathematics",science:"Science",programming:"Programming",languages:"Languages",business:"Business",arts:"Arts",test_prep:"Test Prep",music:"Music",sports:"Sports"})[l]||l,x=l=>l?new Date(l).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A",N=l=>l?new Date(l).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",P=l=>{if(!l.ends_at)return 0;const V=new Date(l.ends_at)-new Date;return Math.ceil(V/(1e3*60*60*24))},T=()=>{confirm(`Are you sure you want to ${p.user.is_active?"deactivate":"activate"} this user?`)&&h.patch(route("admin.users.toggle-status",p.user.id))},D=()=>{confirm("Are you sure you want to impersonate this user?")&&h.post(route("admin.users.impersonate",p.user.id))},j=()=>{h.post(route("admin.impersonate.leave"))},U=()=>{confirm("Are you sure you want to cancel this user's subscription?")&&h.post(route("admin.subscriptions.cancel",p.user.id))};return(l,e)=>(i(),k($,null,{default:y(()=>[d(m(R),{title:`User Details - ${s.user.name}`},null,8,["title"]),t("div",I,[t("div",z,[t("div",E,[t("div",M,[t("div",null,[t("h1",O,r(s.user.name),1),t("p",F,[c(r(s.user.email)+" ",1),t("span",{class:u(["ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",w(s.user.roles[0]?.name)])},r(s.user.roles[0]?.name),3)])]),t("div",G,[d(m(f),{href:l.route("admin.users.edit",s.user.id),class:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50"},{default:y(()=>[...e[0]||(e[0]=[c(" Edit User ",-1)])]),_:1},8,["href"]),d(m(f),{href:l.route("admin.users.index"),class:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50"},{default:y(()=>[...e[1]||(e[1]=[c(" Back to Users ",-1)])]),_:1},8,["href"])])])]),t("div",H,[d(g,{title:"Total Courses",value:s.stats.total_courses,icon:"academic-cap",color:"blue"},null,8,["value"]),d(g,{title:"Completed Courses",value:s.stats.completed_courses,icon:"check-circle",color:"green"},null,8,["value"]),d(g,{title:"Quiz Attempts",value:s.stats.total_quiz_attempts,icon:"chart-bar",color:"purple"},null,8,["value"]),d(g,{title:"Average Quiz Score",value:`${s.stats.average_quiz_score||0}%`,icon:"trophy",color:"orange"},null,8,["value"])]),t("div",Q,[d(g,{title:"Current Plan",value:s.user.current_subscription?.plan?.name||"Free",icon:"credit-card",color:"indigo"},null,8,["value"]),d(g,{title:"Subscription Status",value:s.user.current_subscription?.status||"None",icon:"status-online",color:S(s.user.current_subscription?.status)},null,8,["value","color"]),d(g,{title:"AI Requests This Month",value:s.stats.ai_requests_this_month||0,icon:"sparkles",color:"pink"},null,8,["value"]),d(g,{title:"Total Payments",value:`${s.user.currency||"₦"}${s.stats.total_payments||0}`,icon:"cash",color:"emerald"},null,8,["value"])]),t("div",W,[t("div",Y,[t("div",J,[e[10]||(e[10]=t("div",{class:"px-6 py-4 border-b border-gray-200"},[t("h3",{class:"text-lg font-semibold text-gray-900"},"Basic Information")],-1)),t("div",K,[t("dl",X,[t("div",null,[e[2]||(e[2]=t("dt",{class:"text-sm font-medium text-gray-500"},"Name",-1)),t("dd",Z,r(s.user.name),1)]),t("div",null,[e[3]||(e[3]=t("dt",{class:"text-sm font-medium text-gray-500"},"Email",-1)),t("dd",tt,r(s.user.email),1)]),t("div",null,[e[4]||(e[4]=t("dt",{class:"text-sm font-medium text-gray-500"},"Phone",-1)),t("dd",et,r(s.user.phone||"Not provided"),1)]),t("div",null,[e[5]||(e[5]=t("dt",{class:"text-sm font-medium text-gray-500"},"Role",-1)),t("dd",st,[t("span",{class:u(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",w(s.user.roles[0]?.name)])},r(s.user.roles[0]?.name),3)])]),t("div",null,[e[6]||(e[6]=t("dt",{class:"text-sm font-medium text-gray-500"},"Status",-1)),t("dd",rt,[t("span",{class:u(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",s.user.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"])},r(s.user.is_active?"Active":"Inactive"),3)])]),t("div",null,[e[7]||(e[7]=t("dt",{class:"text-sm font-medium text-gray-500"},"Email Verified",-1)),t("dd",it,[t("span",{class:u(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",s.user.email_verified_at?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"])},r(s.user.email_verified_at?"Verified":"Pending"),3)])]),t("div",null,[e[8]||(e[8]=t("dt",{class:"text-sm font-medium text-gray-500"},"Last Login",-1)),t("dd",nt,r(s.user.last_login_at?x(s.user.last_login_at):"Never"),1)]),t("div",null,[e[9]||(e[9]=t("dt",{class:"text-sm font-medium text-gray-500"},"Registered",-1)),t("dd",lt,r(x(s.user.created_at)),1)])])])]),t("div",ot,[e[22]||(e[22]=t("div",{class:"px-6 py-4 border-b border-gray-200"},[t("h3",{class:"text-lg font-semibold text-gray-900"},"Subscription Information")],-1)),t("div",dt,[s.user.current_subscription?(i(),n("div",at,[t("dl",ut,[t("div",null,[e[11]||(e[11]=t("dt",{class:"text-sm font-medium text-gray-500"},"Current Plan",-1)),t("dd",mt,r(s.user.current_subscription.plan?.name||"Unknown Plan"),1)]),t("div",null,[e[12]||(e[12]=t("dt",{class:"text-sm font-medium text-gray-500"},"Status",-1)),t("dd",ct,[t("span",{class:u(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",_(s.user.current_subscription.status)])},r(s.user.current_subscription.status),3)])]),t("div",null,[e[13]||(e[13]=t("dt",{class:"text-sm font-medium text-gray-500"},"Started",-1)),t("dd",xt,r(x(s.user.current_subscription.starts_at)),1)]),t("div",null,[e[14]||(e[14]=t("dt",{class:"text-sm font-medium text-gray-500"},"Expires",-1)),t("dd",gt,[c(r(x(s.user.current_subscription.ends_at))+" ",1),t("span",yt," ("+r(P(s.user.current_subscription))+" days left) ",1)])]),s.user.current_subscription.trial_ends_at?(i(),n("div",ft,[e[15]||(e[15]=t("dt",{class:"text-sm font-medium text-gray-500"},"Trial Ends",-1)),t("dd",bt,r(x(s.user.current_subscription.trial_ends_at)),1)])):a("",!0),t("div",null,[e[16]||(e[16]=t("dt",{class:"text-sm font-medium text-gray-500"},"Payment Method",-1)),t("dd",vt,[s.user.current_subscription.card_type?(i(),n("span",pt,r(s.user.current_subscription.card_type)+" •••• "+r(s.user.current_subscription.last4),1)):(i(),n("span",ht,"Not set"))])])]),s.user.current_subscription.plan?(i(),n("div",wt,[e[17]||(e[17]=t("h4",{class:"text-sm font-medium text-gray-500 mb-2"},"Plan Features",-1)),t("div",_t,[(i(!0),n(b,null,v(s.user.current_subscription.plan.features||[],o=>(i(),n("span",{key:o,class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800"},r(o),1))),128))])])):a("",!0),s.user.current_subscription.plan?(i(),n("div",kt,[t("div",null,[e[18]||(e[18]=t("dt",{class:"font-medium text-gray-500"},"Max Courses",-1)),t("dd",St,r(s.user.current_subscription.plan.max_courses===-1?"Unlimited":s.user.current_subscription.plan.max_courses),1)]),t("div",null,[e[19]||(e[19]=t("dt",{class:"font-medium text-gray-500"},"AI Requests",-1)),t("dd",Ct,r(s.user.current_subscription.plan.max_ai_requests_per_month===-1?"Unlimited":s.user.current_subscription.plan.max_ai_requests_per_month)+"/month ",1)]),s.user.current_subscription.plan.max_students?(i(),n("div",At,[e[20]||(e[20]=t("dt",{class:"font-medium text-gray-500"},"Max Students",-1)),t("dd",Lt,r(s.user.current_subscription.plan.max_students===-1?"Unlimited":s.user.current_subscription.plan.max_students),1)])):a("",!0),s.user.current_subscription.plan.max_tutors?(i(),n("div",Nt,[e[21]||(e[21]=t("dt",{class:"font-medium text-gray-500"},"Max Tutors",-1)),t("dd",Pt,r(s.user.current_subscription.plan.max_tutors===-1?"Unlimited":s.user.current_subscription.plan.max_tutors),1)])):a("",!0)])):a("",!0)])):(i(),n("div",Tt," No active subscription "))])]),s.user.student_profile?(i(),n("div",Dt,[e[32]||(e[32]=t("div",{class:"px-6 py-4 border-b border-gray-200"},[t("h3",{class:"text-lg font-semibold text-gray-900"},"Student Profile")],-1)),t("div",jt,[t("dl",Ut,[t("div",null,[e[23]||(e[23]=t("dt",{class:"text-sm font-medium text-gray-500"},"Exam Board",-1)),t("dd",Vt,r(s.user.student_profile.exam_board?.name||"Not set"),1)]),t("div",null,[e[24]||(e[24]=t("dt",{class:"text-sm font-medium text-gray-500"},"Current Level",-1)),t("dd",Rt,r(s.user.student_profile.current_level),1)]),t("div",null,[e[25]||(e[25]=t("dt",{class:"text-sm font-medium text-gray-500"},"Target Level",-1)),t("dd",$t,r(s.user.student_profile.target_level),1)]),t("div",null,[e[26]||(e[26]=t("dt",{class:"text-sm font-medium text-gray-500"},"Target Completion",-1)),t("dd",qt,r(x(s.user.student_profile.target_completion_date)),1)]),t("div",null,[e[27]||(e[27]=t("dt",{class:"text-sm font-medium text-gray-500"},"Weekly Study Hours",-1)),t("dd",Bt,r(s.user.student_profile.weekly_study_hours)+" hours ",1)]),t("div",null,[e[28]||(e[28]=t("dt",{class:"text-sm font-medium text-gray-500"},"Current Grade",-1)),t("dd",It,r(s.user.student_profile.current_grade?`${s.user.student_profile.current_grade}%`:"Not set"),1)]),t("div",null,[e[29]||(e[29]=t("dt",{class:"text-sm font-medium text-gray-500"},"Target Grade",-1)),t("dd",zt,r(s.user.student_profile.target_grade?`${s.user.student_profile.target_grade}%`:"Not set"),1)])]),s.user.student_profile.learning_goals?.length?(i(),n("div",Et,[e[30]||(e[30]=t("h4",{class:"text-sm font-medium text-gray-500 mb-2"},"Learning Goals",-1)),t("div",Mt,[(i(!0),n(b,null,v(s.user.student_profile.learning_goals,o=>(i(),n("span",{key:o,class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800"},r(C(o)),1))),128))])])):a("",!0),s.user.student_profile.learning_preferences?.length?(i(),n("div",Ot,[e[31]||(e[31]=t("h4",{class:"text-sm font-medium text-gray-500 mb-2"},"Learning Preferences",-1)),t("div",Ft,[(i(!0),n(b,null,v(s.user.student_profile.learning_preferences,o=>(i(),n("span",{key:o,class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800"},r(A(o)),1))),128))])])):a("",!0)])])):a("",!0),s.user.tutor_profile?(i(),n("div",Gt,[e[43]||(e[43]=t("div",{class:"px-6 py-4 border-b border-gray-200"},[t("h3",{class:"text-lg font-semibold text-gray-900"},"Tutor Profile")],-1)),t("div",Ht,[t("dl",Qt,[t("div",null,[e[33]||(e[33]=t("dt",{class:"text-sm font-medium text-gray-500"},"Qualification",-1)),t("dd",Wt,r(s.user.tutor_profile.qualification||"Not specified"),1)]),t("div",null,[e[34]||(e[34]=t("dt",{class:"text-sm font-medium text-gray-500"},"Experience",-1)),t("dd",Yt,r(s.user.tutor_profile.years_of_experience)+" years ",1)]),t("div",null,[e[35]||(e[35]=t("dt",{class:"text-sm font-medium text-gray-500"},"Hourly Rate",-1)),t("dd",Jt,r(s.user.tutor_profile.hourly_rate?`₦${s.user.tutor_profile.hourly_rate}`:"Not set"),1)]),t("div",null,[e[36]||(e[36]=t("dt",{class:"text-sm font-medium text-gray-500"},"Status",-1)),t("dd",Kt,[t("span",{class:u(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",s.user.tutor_profile.is_verified?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"])},r(s.user.tutor_profile.is_verified?"Verified":"Pending Verification"),3)])]),t("div",null,[e[37]||(e[37]=t("dt",{class:"text-sm font-medium text-gray-500"},"Online Status",-1)),t("dd",Xt,[t("span",{class:u(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",s.user.tutor_profile.is_online?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"])},r(s.user.tutor_profile.is_online?"Online":"Offline"),3)])]),t("div",null,[e[38]||(e[38]=t("dt",{class:"text-sm font-medium text-gray-500"},"Rating",-1)),t("dd",Zt,r(s.user.tutor_profile.rating||"No ratings"),1)]),t("div",null,[e[39]||(e[39]=t("dt",{class:"text-sm font-medium text-gray-500"},"Total Reviews",-1)),t("dd",te,r(s.user.tutor_profile.total_reviews||0),1)]),t("div",null,[e[40]||(e[40]=t("dt",{class:"text-sm font-medium text-gray-500"},"Students",-1)),t("dd",ee,r(s.user.tutor_profile.active_students_count||0)+" / "+r(s.user.tutor_profile.max_students),1)])]),s.user.tutor_profile.specialties?.length?(i(),n("div",se,[e[41]||(e[41]=t("h4",{class:"text-sm font-medium text-gray-500 mb-2"},"Specialties",-1)),t("div",re,[(i(!0),n(b,null,v(s.user.tutor_profile.specialties,o=>(i(),n("span",{key:o,class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800"},r(L(o)),1))),128))])])):a("",!0),s.user.tutor_profile.bio?(i(),n("div",ie,[e[42]||(e[42]=t("h4",{class:"text-sm font-medium text-gray-500 mb-2"},"Bio",-1)),t("p",ne,r(s.user.tutor_profile.bio),1)])):a("",!0)])])):a("",!0),t("div",le,[t("div",oe,[t("div",de,[e[45]||(e[45]=t("h3",{class:"text-lg font-semibold text-gray-900"},"Recent Activity",-1)),d(m(f),{href:l.route("admin.users.login-history",s.user.id),class:"text-sm text-blue-600 hover:text-blue-500"},{default:y(()=>[...e[44]||(e[44]=[c(" View All ",-1)])]),_:1},8,["href"])])]),t("div",ae,[s.user.login_histories?.length?(i(),n("div",ue,[(i(!0),n(b,null,v(s.user.login_histories,o=>(i(),n("div",{key:o.id,class:"flex items-center justify-between py-2"},[t("div",me,[t("div",{class:u(["w-2 h-2 rounded-full mr-3",o.was_successful?"bg-green-400":"bg-red-400"])},null,2),t("div",null,[t("p",ce,r(o.device_type)+" • "+r(o.browser),1),t("p",xe,r(o.ip_address)+" • "+r(N(o.login_at)),1)])]),t("span",{class:u(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",o.was_successful?"bg-green-100 text-green-800":"bg-red-100 text-red-800"])},r(o.was_successful?"Success":"Failed"),3)]))),128))])):(i(),n("div",ge," No recent login activity "))])])]),t("div",ye,[t("div",fe,[e[49]||(e[49]=t("div",{class:"px-6 py-4 border-b border-gray-200"},[t("h3",{class:"text-lg font-semibold text-gray-900"},"Quick Actions")],-1)),t("div",be,[t("button",{onClick:T,class:"w-full flex items-center justify-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50"},r(s.user.is_active?"Deactivate":"Activate")+" User ",1),d(m(f),{href:l.route("admin.users.login-history",s.user.id),class:"w-full flex items-center justify-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50"},{default:y(()=>[...e[46]||(e[46]=[c(" View Login History ",-1)])]),_:1},8,["href"]),d(m(f),{href:l.route("admin.users.payment-history",s.user.id),class:"w-full flex items-center justify-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50"},{default:y(()=>[...e[47]||(e[47]=[c(" View Payment History ",-1)])]),_:1},8,["href"]),s.user.is_active?(i(),n("button",{key:0,onClick:D,class:"w-full flex items-center justify-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-orange-600 hover:bg-orange-700"}," Impersonate User ")):a("",!0),l.$page.props.auth.impersonating?(i(),n("div",ve,[t("div",pe,[t("div",he,[d(m(q),{class:"h-5 w-5 text-yellow-600 mr-2"}),t("span",we," You are currently impersonating "+r(l.$page.props.auth.user.name),1)]),t("button",{onClick:j,class:"inline-flex items-center px-3 py-1 text-xs font-medium rounded bg-yellow-600 text-white hover:bg-yellow-700"},[d(m(B),{class:"h-3 w-3 mr-1"}),e[48]||(e[48]=c(" Stop Impersonating ",-1))])])])):a("",!0),s.user.current_subscription?(i(),n("button",{key:2,onClick:U,class:"w-full flex items-center justify-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-red-600 hover:bg-red-700"}," Cancel Subscription ")):a("",!0)])]),t("div",_e,[e[54]||(e[54]=t("div",{class:"px-6 py-4 border-b border-gray-200"},[t("h3",{class:"text-lg font-semibold text-gray-900"},"Login Statistics")],-1)),t("div",ke,[t("div",null,[e[50]||(e[50]=t("p",{class:"text-sm font-medium text-gray-500"},"Total Logins",-1)),t("p",Se,r(s.loginStats.total_logins_30d||0),1)]),t("div",null,[e[51]||(e[51]=t("p",{class:"text-sm font-medium text-gray-500"},"Success Rate",-1)),t("p",Ce,r(s.loginStats.success_rate_30d||0)+"% ",1)]),t("div",null,[e[52]||(e[52]=t("p",{class:"text-sm font-medium text-gray-500"},"Consecutive Days",-1)),t("p",Ae,r(s.loginStats.consecutive_days||0),1)]),t("div",null,[e[53]||(e[53]=t("p",{class:"text-sm font-medium text-gray-500"},"Unique Locations",-1)),t("p",Le,r(s.loginStats.unique_locations||0),1)])])]),t("div",Ne,[e[56]||(e[56]=t("div",{class:"px-6 py-4 border-b border-gray-200"},[t("h3",{class:"text-lg font-semibold text-gray-900"},"Subscription History")],-1)),t("div",Pe,[s.user.subscriptions?.length?(i(),n("div",Te,[(i(!0),n(b,null,v(s.user.subscriptions.slice(0,3),o=>(i(),n("div",{key:o.id,class:"flex items-center justify-between py-2 border-b border-gray-100 last:border-0"},[t("div",null,[t("p",De,r(o.plan?.name||"Unknown Plan"),1),t("p",je,r(x(o.starts_at))+" - "+r(x(o.ends_at)),1)]),t("span",{class:u(["inline-flex items-center px-2 py-1 rounded-full text-xs font-medium",_(o.status)])},r(o.status),3)]))),128))])):(i(),n("div",Ue," No subscription history ")),s.user.subscriptions?.length>3?(i(),k(m(f),{key:2,href:l.route("admin.users.subscription-history",s.user.id),class:"mt-3 block text-center text-sm text-blue-600 hover:text-blue-500"},{default:y(()=>[...e[55]||(e[55]=[c(" View All Subscriptions ",-1)])]),_:1},8,["href"])):a("",!0)])])])])])])]),_:1}))}};export{Ke as default};
