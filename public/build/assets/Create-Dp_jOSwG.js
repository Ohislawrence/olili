import{u as w,c as S,w as m,b as p,a as s,h as e,p as C,x,i as _,z as V,e as a,f as d,g as l,n as u,o as i,F as y,j as v,t as n,q as b,s as g}from"./app-bHyfwQwP.js";import{A as D}from"./AdminLayout-BsjJQsF9.js";import"./XMarkIcon-DbIGV9st.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./UserIcon-_y9HoBzG.js";import"./UsersIcon-BAiLeAQR.js";import"./ChatBubbleLeftRightIcon-f6JJZ7a_.js";import"./ChartBarIcon-CP2lZCGo.js";import"./CurrencyDollarIcon-DunUa6fL.js";import"./EyeIcon-epZqHa8r.js";const U={class:"max-w-2xl mx-auto py-8"},A={class:"mb-8"},B={class:"flex items-center space-x-2 mb-2"},E={class:"bg-white shadow rounded-lg"},I={class:"space-y-6 p-6"},N=["value"],F={key:0,class:"mt-1 text-sm text-red-600"},M=["value"],T={key:0,class:"mt-1 text-sm text-red-600"},j={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},z={key:0,class:"mt-1 text-sm text-red-600"},L={key:0,class:"mt-1 text-sm text-red-600"},O={key:0,class:"mt-1 text-sm text-red-600"},P={key:0,class:"mt-1 text-sm text-red-600"},h={class:"px-6 py-4 bg-gray-50 border-t border-gray-200 flex justify-end space-x-3"},q=["disabled"],G={key:0},H={key:1},st={__name:"Create",props:{users:Array,plans:Array},setup(f){const r=w({user_id:"",subscription_plan_id:"",status:"active",starts_at:new Date().toISOString().slice(0,16),ends_at:new Date(Date.now()+2592e6).toISOString().slice(0,16),trial_ends_at:""}),k=()=>{r.post(route("admin.subscriptions.store"))};return(c,t)=>(i(),S(D,null,{default:m(()=>[p(e(C),{title:"Create Subscription"}),s("div",U,[s("div",A,[s("div",B,[p(e(x),{href:c.route("admin.subscriptions.index"),class:"text-indigo-600 hover:text-indigo-900 text-sm font-medium"},{default:m(()=>[...t[6]||(t[6]=[_(" â† Back to Subscriptions ",-1)])]),_:1},8,["href"])]),t[7]||(t[7]=s("h1",{class:"text-2xl font-bold text-gray-900"},"Create Subscription",-1)),t[8]||(t[8]=s("p",{class:"mt-1 text-sm text-gray-600"}," Create a new subscription for a user ",-1))]),s("div",E,[s("form",{onSubmit:V(k,["prevent"])},[s("div",I,[s("div",null,[t[11]||(t[11]=s("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"User Information",-1)),s("div",null,[t[10]||(t[10]=s("label",{for:"user_id",class:"block text-sm font-medium text-gray-700"}," Select User * ",-1)),a(s("select",{id:"user_id","onUpdate:modelValue":t[0]||(t[0]=o=>e(r).user_id=o),class:u(["mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-indigo-500 focus:ring-indigo-500",{"border-red-300":e(r).errors.user_id}])},[t[9]||(t[9]=s("option",{value:""},"Select a user",-1)),(i(!0),d(y,null,v(f.users,o=>(i(),d("option",{key:o.id,value:o.id},n(o.name)+" ("+n(o.email)+") ",9,N))),128))],2),[[b,e(r).user_id]]),e(r).errors.user_id?(i(),d("p",F,n(e(r).errors.user_id),1)):l("",!0)])]),s("div",null,[t[14]||(t[14]=s("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Plan Information",-1)),s("div",null,[t[13]||(t[13]=s("label",{for:"subscription_plan_id",class:"block text-sm font-medium text-gray-700"}," Select Plan * ",-1)),a(s("select",{id:"subscription_plan_id","onUpdate:modelValue":t[1]||(t[1]=o=>e(r).subscription_plan_id=o),class:u(["mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-indigo-500 focus:ring-indigo-500",{"border-red-300":e(r).errors.subscription_plan_id}])},[t[12]||(t[12]=s("option",{value:""},"Select a plan",-1)),(i(!0),d(y,null,v(f.plans,o=>(i(),d("option",{key:o.id,value:o.id},n(o.name)+" - "+n(o.formatted_price),9,M))),128))],2),[[b,e(r).subscription_plan_id]]),e(r).errors.subscription_plan_id?(i(),d("p",T,n(e(r).errors.subscription_plan_id),1)):l("",!0)])]),s("div",null,[t[20]||(t[20]=s("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Subscription Details",-1)),s("div",j,[s("div",null,[t[16]||(t[16]=s("label",{for:"status",class:"block text-sm font-medium text-gray-700"}," Status * ",-1)),a(s("select",{id:"status","onUpdate:modelValue":t[2]||(t[2]=o=>e(r).status=o),class:u(["mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-indigo-500 focus:ring-indigo-500",{"border-red-300":e(r).errors.status}])},[...t[15]||(t[15]=[s("option",{value:"active"},"Active",-1),s("option",{value:"canceled"},"Cancelled",-1),s("option",{value:"expired"},"Expired",-1)])],2),[[b,e(r).status]]),e(r).errors.status?(i(),d("p",z,n(e(r).errors.status),1)):l("",!0)]),s("div",null,[t[17]||(t[17]=s("label",{for:"starts_at",class:"block text-sm font-medium text-gray-700"}," Start Date * ",-1)),a(s("input",{type:"datetime-local",id:"starts_at","onUpdate:modelValue":t[3]||(t[3]=o=>e(r).starts_at=o),class:u(["mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-indigo-500 focus:ring-indigo-500",{"border-red-300":e(r).errors.starts_at}])},null,2),[[g,e(r).starts_at]]),e(r).errors.starts_at?(i(),d("p",L,n(e(r).errors.starts_at),1)):l("",!0)]),s("div",null,[t[18]||(t[18]=s("label",{for:"ends_at",class:"block text-sm font-medium text-gray-700"}," End Date * ",-1)),a(s("input",{type:"datetime-local",id:"ends_at","onUpdate:modelValue":t[4]||(t[4]=o=>e(r).ends_at=o),class:u(["mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-indigo-500 focus:ring-indigo-500",{"border-red-300":e(r).errors.ends_at}])},null,2),[[g,e(r).ends_at]]),e(r).errors.ends_at?(i(),d("p",O,n(e(r).errors.ends_at),1)):l("",!0)]),s("div",null,[t[19]||(t[19]=s("label",{for:"trial_ends_at",class:"block text-sm font-medium text-gray-700"}," Trial End Date ",-1)),a(s("input",{type:"datetime-local",id:"trial_ends_at","onUpdate:modelValue":t[5]||(t[5]=o=>e(r).trial_ends_at=o),class:u(["mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-indigo-500 focus:ring-indigo-500",{"border-red-300":e(r).errors.trial_ends_at}])},null,2),[[g,e(r).trial_ends_at]]),e(r).errors.trial_ends_at?(i(),d("p",P,n(e(r).errors.trial_ends_at),1)):l("",!0)])])])]),s("div",h,[p(e(x),{href:c.route("admin.subscriptions.index"),class:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md font-semibold text-xs text-gray-700 uppercase tracking-widest shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 disabled:opacity-25 transition ease-in-out duration-150"},{default:m(()=>[...t[21]||(t[21]=[_(" Cancel ",-1)])]),_:1},8,["href"]),s("button",{type:"submit",disabled:e(r).processing,class:"inline-flex items-center px-4 py-2 bg-indigo-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-indigo-700 focus:bg-indigo-700 active:bg-indigo-800 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 disabled:opacity-25 transition ease-in-out duration-150"},[e(r).processing?(i(),d("span",G,"Creating...")):(i(),d("span",H,"Create Subscription"))],8,q)])],32)])])]),_:1}))}};export{st as default};
