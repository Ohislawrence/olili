import{g as y,c as w,w as m,b as a,a as e,i as l,q as z,t as o,e as k,s as q,f as n,h as f,o as i,F as S,k as N,n as T,y as h,j as _,z as j}from"./app-CWbkaSej.js";import{S as A}from"./StudentLayout-Bz1yixGJ.js";import{_ as C}from"./Pagination-B78p52mS.js";import{c as p}from"./UserIcon-BVedJKyV.js";import{r as V}from"./ChartBarIcon-CkWNpTJj.js";import{r as $}from"./CheckCircleIcon-6Ugpu2Zo.js";import{r as M}from"./TrophyIcon-D4By7Q6L.js";import"./XMarkIcon-CPBwBHdL.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./PlusIcon-dLXzzi6w.js";import"./BellIcon-Mnuvn4R_.js";import"./CreditCardIcon-Dugfw6Ww.js";const D={class:"py-6"},P={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},B={class:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8"},Q={class:"bg-white rounded-xl shadow-sm p-6 border border-gray-100 hover:shadow-md transition-shadow"},F={class:"flex items-center"},L={class:"flex-shrink-0"},O={class:"ml-4"},R={class:"text-2xl font-bold text-gray-900"},U={class:"bg-white rounded-xl shadow-sm p-6 border border-gray-100 hover:shadow-md transition-shadow"},E={class:"flex items-center"},G={class:"flex-shrink-0"},I={class:"ml-4"},H={class:"text-2xl font-bold text-gray-900"},J={class:"bg-white rounded-xl shadow-sm p-6 border border-gray-100 hover:shadow-md transition-shadow"},K={class:"flex items-center"},W={class:"flex-shrink-0"},X={class:"ml-4"},Y={class:"text-2xl font-bold text-gray-900"},Z={class:"bg-white rounded-xl shadow-sm p-6 border border-gray-100 hover:shadow-md transition-shadow"},ee={class:"flex items-center"},te={class:"flex-shrink-0"},se={class:"ml-4"},oe={class:"text-2xl font-bold text-gray-900"},re={class:"mb-6 bg-white rounded-xl shadow-sm p-4 border border-gray-100"},de={class:"flex flex-col sm:flex-row gap-4"},ae={class:"w-full sm:w-48"},ie={class:"bg-white shadow-sm rounded-xl border border-gray-100"},le={class:"p-6"},ne={key:0,class:"space-y-4"},ce={class:"flex items-center justify-between"},me={class:"flex-1"},ue={class:"flex items-center justify-between mb-2"},xe={class:"text-lg font-bold text-gray-900"},fe={class:"flex items-center gap-2"},he={key:0,class:"inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold bg-yellow-100 text-yellow-800"},_e={class:"text-sm text-gray-600 mb-2"},pe={class:"flex items-center justify-between text-sm text-gray-500"},ge={class:"flex items-center gap-4"},be={class:"font-medium"},ve={key:0,class:"font-medium"},ye={key:1,class:"text-yellow-600 font-medium"},we={class:"ml-4 flex-shrink-0"},ze={key:1,class:"text-center py-12"},ke={class:"mt-6"},qe={key:0,class:"px-6 py-4 border-t border-gray-200"},Fe={__name:"Index",props:{quiz_attempts:Object,stats:Object,filters:Object},setup(d){const c=y({status:d.filters.status||""}),g=()=>{j.get(route("student.quizzes.index"),c.value,{preserveState:!0,replace:!0})},u=r=>r?new Date(r).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"numeric"}):"Not completed",b=r=>{if(typeof r!="number"||isNaN(r))return console.warn("Invalid input for formatTimeTaken:",r),"0s";const t=Math.abs(r),s=Math.floor(t/60),x=t%60,v=x.toString().padStart(2,"0");return s===0?`${x}s`:`${s}m ${v}s`};return(r,t)=>(i(),w(A,null,{default:m(()=>[a(l(z),{title:"My Quiz Attempts"}),e("div",D,[e("div",P,[t[10]||(t[10]=e("div",{class:"mb-8"},[e("h1",{class:"text-2xl font-bold text-gray-900"},"My Quiz Attempts"),e("p",{class:"mt-1 text-sm text-gray-600"}," Track your quiz performance and progress ")],-1)),e("div",B,[e("div",Q,[e("div",F,[e("div",L,[a(l(p),{class:"h-8 w-8 text-emerald-600"})]),e("div",O,[t[1]||(t[1]=e("p",{class:"text-sm font-medium text-gray-600"},"Total Attempts",-1)),e("p",R,o(d.stats.total_attempts),1)])])]),e("div",U,[e("div",E,[e("div",G,[a(l(V),{class:"h-8 w-8 text-emerald-600"})]),e("div",I,[t[2]||(t[2]=e("p",{class:"text-sm font-medium text-gray-600"},"Average Score",-1)),e("p",H,o(Math.round(d.stats.average_score))+"% ",1)])])]),e("div",J,[e("div",K,[e("div",W,[a(l($),{class:"h-8 w-8 text-emerald-600"})]),e("div",X,[t[3]||(t[3]=e("p",{class:"text-sm font-medium text-gray-600"},"Passed Quizzes",-1)),e("p",Y,o(d.stats.passed_quizzes),1)])])]),e("div",Z,[e("div",ee,[e("div",te,[a(l(M),{class:"h-8 w-8 text-emerald-600"})]),e("div",se,[t[4]||(t[4]=e("p",{class:"text-sm font-medium text-gray-600"},"Perfect Scores",-1)),e("p",oe,o(d.stats.perfect_scores),1)])])])]),e("div",re,[e("div",de,[e("div",ae,[k(e("select",{"onUpdate:modelValue":t[0]||(t[0]=s=>c.value.status=s),class:"w-full rounded-lg border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500 py-2 px-3 text-gray-700",onChange:g},[...t[5]||(t[5]=[e("option",{value:""},"All Status",-1),e("option",{value:"completed"},"Completed",-1),e("option",{value:"in_progress"},"In Progress",-1),e("option",{value:"not_started"},"Not Started",-1)])],544),[[q,c.value.status]])])])]),e("div",ie,[t[9]||(t[9]=e("div",{class:"px-6 py-4 border-b border-gray-200"},[e("h2",{class:"text-lg font-bold text-gray-900"},"Recent Quiz Attempts")],-1)),e("div",le,[d.quiz_attempts.data.length?(i(),n("div",ne,[(i(!0),n(S,null,N(d.quiz_attempts.data,s=>(i(),n("div",{key:s.id,class:"border border-gray-200 rounded-xl p-5 hover:bg-emerald-50/30 transition-colors duration-200"},[e("div",ce,[e("div",me,[e("div",ue,[e("h3",xe,o(s.quiz.title),1),e("div",fe,[e("span",{class:T(["inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold",s.is_passed?"bg-emerald-100 text-emerald-800":"bg-red-100 text-red-800"])},o(s.is_passed?"Passed":"Failed"),3),s.completed_at?f("",!0):(i(),n("span",he," In Progress "))])]),e("p",_e,o(s.quiz.course_outline.module.course.title)+" • "+o(s.quiz.course_outline.module.title)+" • Attempt #"+o(s.attempt_number),1),e("div",pe,[e("div",ge,[e("span",be,"Score: "+o(s.percentage)+"%",1),e("span",null,"Time: "+o(b(s.time_taken_seconds)),1)]),s.completed_at?(i(),n("span",ve,o(u(s.completed_at)),1)):(i(),n("span",ye," Started: "+o(u(s.started_at)),1))])]),e("div",we,[a(l(h),{href:s.completed_at?r.route("student.quiz-attempts.result",s.id):r.route("student.quizzes.continue.attempt",{quiz:s.quiz.id,attempt:s.id}),class:"inline-flex items-center px-4 py-2 border border-emerald-300 text-sm font-semibold rounded-lg text-emerald-700 bg-white hover:bg-emerald-50 shadow-sm hover:shadow-md transition-all duration-200"},{default:m(()=>[_(o(s.completed_at?"View Result":"Continue"),1)]),_:2},1032,["href"])])])]))),128))])):(i(),n("div",ze,[a(l(p),{class:"mx-auto h-12 w-12 text-emerald-400"}),t[7]||(t[7]=e("h3",{class:"mt-2 text-sm font-semibold text-gray-900"},"No quiz attempts",-1)),t[8]||(t[8]=e("p",{class:"mt-1 text-sm text-gray-500"}," Get started by taking a quiz from one of your courses. ",-1)),e("div",ke,[a(l(h),{href:r.route("student.courses.index"),class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-semibold rounded-lg text-white bg-emerald-600 hover:bg-emerald-700 shadow-md hover:shadow-lg transition-all duration-200"},{default:m(()=>[...t[6]||(t[6]=[_(" View Courses ",-1)])]),_:1},8,["href"])])]))]),d.quiz_attempts.data.length?(i(),n("div",qe,[a(C,{links:d.quiz_attempts.links},null,8,["links"])])):f("",!0)])])])]),_:1}))}};export{Fe as default};
