import{g as k,O as L,d as C,m as M,c as E,w as h,b as r,a as e,i as s,q as P,f as v,h as y,y as b,j as i,t as l,o as m,B as R,n as p,F as T,k as V}from"./app-CjRrDu7t.js";import{S as H}from"./StudentLayout-DNCF6DnA.js";import{_ as Y}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{r as S}from"./ArrowLeftIcon-Dt7ZiJw8.js";import{r as B}from"./DocumentTextIcon-C_P6TBDZ.js";import{r as z}from"./ClockIcon-D-c7fl6y.js";import{r as D}from"./CheckCircleIcon-IK-oLfkr.js";import{r as F}from"./EyeIcon-CZSIPZRr.js";import{r as O}from"./ArrowRightIcon-C3D6dtWz.js";import{r as G}from"./ArrowPathIcon-Bd4FrN2d.js";import{r as N}from"./AcademicCapIcon-c9k093Sm.js";import{r as K}from"./ExclamationTriangleIcon-kmErAba1.js";import"./XMarkIcon-DlMfZcpJ.js";import"./SparklesIcon-BaMuV6Ku.js";import"./QuestionMarkCircleIcon-B9L0xlzz.js";import"./UserIcon-BpPjWfht.js";import"./PlusIcon-CokqUxK8.js";import"./BellIcon-kiTwfDFu.js";import"./CreditCardIcon-DYYlT9ST.js";const q={class:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 py-8"},J={class:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8"},Q={class:"mb-8"},U={class:"flex items-center justify-between"},W={class:"flex items-center space-x-2 text-sm text-gray-600 mb-2"},X={class:"text-gray-600 mt-2"},Z={class:"flex space-x-3"},ee={class:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-8"},te={class:"flex items-center justify-between"},se={class:"flex items-center space-x-6 text-sm text-gray-600"},re={class:"flex items-center"},le={class:"flex items-center"},ae={key:0,class:"flex items-center"},de={class:"text-right"},oe={class:"text-2xl font-bold text-emerald-600"},ie={class:"mt-4 w-full bg-gray-200 rounded-full h-2"},ne={key:0,class:"mb-8"},ue={class:"text-center mb-6"},ce={class:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-emerald-100 text-emerald-800"},me={class:"flashcard-face flashcard-front absolute w-full h-full bg-white rounded-xl shadow-lg border border-gray-200 p-8 backface-hidden"},fe={class:"h-full flex flex-col justify-center items-center text-center"},xe={class:"mb-4"},he={class:"flex-1 flex items-center justify-center"},ve={class:"text-2xl font-semibold text-gray-900 leading-relaxed"},be={class:"mt-6"},ge={class:"text-sm text-gray-500 flex items-center justify-center"},ye={class:"flashcard-face flashcard-back absolute w-full h-full bg-white rounded-xl shadow-lg border border-gray-200 p-8 backface-hidden"},pe={class:"h-full flex flex-col justify-center"},_e={class:"text-center mb-6"},we={class:"flex-1"},ke={class:"text-xl text-gray-700 leading-relaxed text-center mb-6"},Ce={key:0,class:"mt-6 p-4 bg-blue-50 rounded-lg border border-blue-200"},Se={class:"text-sm text-blue-800 leading-relaxed"},je={key:0,class:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mt-6"},$e={class:"grid grid-cols-1 md:grid-cols-6 gap-3"},Ae=["onClick"],Ee={class:"text-2xl font-bold mb-1"},Be={class:"text-sm font-medium"},De={class:"text-xs text-gray-500 mt-1"},Fe={key:1,class:"flex items-center justify-between mt-6"},Ne=["disabled"],Ie=["disabled"],Le={key:1,class:"text-center py-12 bg-white rounded-xl shadow-sm border border-gray-200"},Me={class:"mx-auto h-16 w-16 bg-gradient-to-r from-emerald-500 to-teal-500 rounded-full flex items-center justify-center mb-4"},Pe={class:"text-gray-600 mb-6 max-w-md mx-auto"},Re={class:"flex items-center justify-center space-x-4"},Te={key:2,class:"text-center py-12 bg-white rounded-xl shadow-sm border border-gray-200"},Ve={class:"mx-auto h-16 w-16 bg-gradient-to-r from-amber-500 to-orange-500 rounded-full flex items-center justify-center mb-4"},He={class:"text-gray-600 mb-6"},Ye={class:"flex items-center justify-center space-x-4"},ze={key:3,class:"mt-8 bg-white rounded-xl shadow-sm border border-gray-200 p-6"},Oe={class:"grid grid-cols-2 md:grid-cols-4 gap-6"},Ge={class:"text-center"},Ke={class:"text-2xl font-bold text-emerald-600"},qe={class:"text-center"},Je={class:"text-2xl font-bold text-amber-600"},Qe={class:"text-center"},Ue={class:"text-2xl font-bold text-blue-600"},We={class:"text-center"},Xe={class:"text-2xl font-bold text-rose-600"},Ze={__name:"Study",props:{flashcard_set:Object,due_flashcards:Array,all_flashcards:Array,study_mode:String},setup(u){const _=u,a=k(0),f=k(!1),g=k(_.study_mode||"due"),c=L({studied:0,easy:0,medium:0,hard:0}),I=[{value:0,emoji:"ðŸ˜µ",label:"Forgot",description:"Complete blackout",classes:"border-red-200 bg-red-50 hover:bg-red-100 text-red-700"},{value:1,emoji:"ðŸ˜Ÿ",label:"Hard",description:"Incorrect recall",classes:"border-rose-200 bg-rose-50 hover:bg-rose-100 text-rose-700"},{value:2,emoji:"ðŸ˜",label:"Medium",description:"Correct with effort",classes:"border-amber-200 bg-amber-50 hover:bg-amber-100 text-amber-700"},{value:3,emoji:"ðŸ˜Š",label:"Easy",description:"Correct after hesitation",classes:"border-blue-200 bg-blue-50 hover:bg-blue-100 text-blue-700"},{value:4,emoji:"ðŸŽ¯",label:"Perfect",description:"Instant recall",classes:"border-emerald-200 bg-emerald-50 hover:bg-emerald-100 text-emerald-700"},{value:5,emoji:"ðŸ¤©",label:"Too Easy",description:"Trivial, review later",classes:"border-purple-200 bg-purple-50 hover:bg-purple-100 text-purple-700"}],n=C(()=>g.value==="due"?_.due_flashcards:_.all_flashcards),d=C(()=>n.value[a.value]);C(()=>a.value===n.value.length-1);const w=()=>{f.value=!f.value},j=()=>{a.value<n.value.length-1&&(a.value++,f.value=!1)},$=()=>{a.value>0&&(a.value--,f.value=!1)},A=async o=>{if(d.value)try{c.studied++,o>=4?c.easy++:o>=2?c.medium++:c.hard++;const t=await axios.post(route("student.flashcards.update-progress",d.value.id),{quality:o});t.data.success?a.value<n.value.length-1?(a.value++,f.value=!1):a.value=n.value.length:console.error("Failed to update progress:",t.data.error)}catch(t){console.error("Error rating card:",t),a.value<n.value.length-1&&(a.value++,f.value=!1)}};return M(()=>{const o=t=>{if(n.value.length!==0)switch(t.key){case" ":case"Enter":t.preventDefault(),w();break;case"ArrowLeft":t.preventDefault(),$();break;case"ArrowRight":t.preventDefault(),f.value&&j();break;case"1":case"2":case"3":case"4":case"5":case"6":if(f.value){t.preventDefault();const x=parseInt(t.key)-1;x>=0&&x<=5&&A(x)}break}};return window.addEventListener("keydown",o),()=>{window.removeEventListener("keydown",o)}}),(o,t)=>(m(),E(H,null,{default:h(()=>[r(s(P),{title:`Study - ${u.flashcard_set.title}`},null,8,["title"]),e("div",q,[e("div",J,[e("div",Q,[e("div",U,[e("div",null,[e("div",W,[r(s(b),{href:o.route("student.flashcards.index"),class:"hover:text-emerald-600 transition-colors"},{default:h(()=>[...t[0]||(t[0]=[i(" Flashcards ",-1)])]),_:1},8,["href"]),t[1]||(t[1]=e("span",null,"/",-1)),r(s(b),{href:o.route("student.flashcards.show",u.flashcard_set.id),class:"hover:text-emerald-600 transition-colors"},{default:h(()=>[i(l(u.flashcard_set.title),1)]),_:1},8,["href"]),t[2]||(t[2]=e("span",null,"/",-1)),t[3]||(t[3]=e("span",{class:"text-gray-900 font-medium"},"Study",-1))]),t[4]||(t[4]=e("h1",{class:"text-3xl font-bold text-gray-900"},"Study Session",-1)),e("p",X,l(u.flashcard_set.title),1)]),e("div",Z,[r(s(b),{href:o.route("student.flashcards.show",u.flashcard_set.id),class:"inline-flex items-center px-4 py-2 border border-gray-300 text-gray-700 font-medium rounded-lg hover:bg-gray-50 transition-colors"},{default:h(()=>[r(s(S),{class:"h-4 w-4 mr-2"}),t[5]||(t[5]=i(" Back to Set ",-1))]),_:1},8,["href"])])])]),e("div",ee,[e("div",te,[e("div",null,[t[6]||(t[6]=e("h3",{class:"text-lg font-semibold text-gray-900 mb-2"},"Study Progress",-1)),e("div",se,[e("span",re,[r(s(B),{class:"h-4 w-4 mr-2"}),i(" "+l(a.value+1)+" of "+l(n.value.length)+" cards ",1)]),e("span",le,[r(s(z),{class:"h-4 w-4 mr-2"}),i(" "+l(g.value==="due"?"Due Cards":"All Cards"),1)]),c.studied>0?(m(),v("span",ae,[r(s(D),{class:"h-4 w-4 mr-2 text-emerald-600"}),i(" "+l(c.studied)+" studied ",1)])):y("",!0)])]),e("div",de,[e("div",oe,l(Math.round(a.value/n.value.length*100))+"% ",1),t[7]||(t[7]=e("div",{class:"text-sm text-gray-500"},"Completion",-1))])]),e("div",ie,[e("div",{class:"bg-gradient-to-r from-emerald-500 to-teal-500 h-2 rounded-full transition-all duration-300",style:R({width:`${a.value/n.value.length*100}%`})},null,4)])]),n.value.length>0&&d.value?(m(),v("div",ne,[e("div",ue,[e("span",ce," Card "+l(a.value+1)+" of "+l(n.value.length),1)]),e("div",{class:"flashcard-container perspective-1000",onClick:w},[e("div",{class:p(["flashcard relative w-full h-96 cursor-pointer",{flipped:f.value}])},[e("div",me,[e("div",fe,[e("div",xe,[e("span",{class:p(["inline-flex items-center px-3 py-1 rounded-full text-sm font-medium mb-4",{"bg-emerald-100 text-emerald-800":d.value.difficulty_level==="easy","bg-amber-100 text-amber-800":d.value.difficulty_level==="medium","bg-rose-100 text-rose-800":d.value.difficulty_level==="hard"}])},l(d.value.difficulty_level),3)]),e("div",he,[e("p",ve,l(d.value.question),1)]),e("div",be,[e("p",ge,[r(s(F),{class:"h-4 w-4 mr-1"}),t[8]||(t[8]=i(" Click to reveal answer ",-1))])])])]),e("div",ye,[e("div",pe,[e("div",_e,[e("span",{class:p(["inline-flex items-center px-3 py-1 rounded-full text-sm font-medium",{"bg-emerald-100 text-emerald-800":d.value.difficulty_level==="easy","bg-amber-100 text-amber-800":d.value.difficulty_level==="medium","bg-rose-100 text-rose-800":d.value.difficulty_level==="hard"}])},l(d.value.difficulty_level),3)]),e("div",we,[t[10]||(t[10]=e("h3",{class:"text-lg font-semibold text-gray-900 mb-4 text-center"},"Answer",-1)),e("p",ke,l(d.value.answer),1),d.value.explanation?(m(),v("div",Ce,[t[9]||(t[9]=e("h4",{class:"text-sm font-medium text-blue-900 mb-2"},"Explanation",-1)),e("p",Se,l(d.value.explanation),1)])):y("",!0)]),t[11]||(t[11]=e("div",{class:"mt-6 text-center"},[e("p",{class:"text-sm text-gray-500"}," How well did you know this? ")],-1))])])],2)]),f.value?(m(),v("div",je,[t[12]||(t[12]=e("h3",{class:"text-lg font-semibold text-gray-900 mb-4 text-center"},"Rate Your Recall",-1)),e("div",$e,[(m(),v(T,null,V(I,x=>e("button",{key:x.value,onClick:et=>A(x.value),class:p(["p-4 rounded-lg border-2 transition-all duration-200 hover:scale-105 hover:shadow-md",x.classes])},[e("div",Ee,l(x.emoji),1),e("div",Be,l(x.label),1),e("div",De,l(x.description),1)],10,Ae)),64))])])):(m(),v("div",Fe,[e("button",{onClick:$,disabled:a.value===0,class:"inline-flex items-center px-4 py-2 border border-gray-300 text-gray-700 font-medium rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed"},[r(s(S),{class:"h-4 w-4 mr-2"}),t[13]||(t[13]=i(" Previous ",-1))],8,Ne),e("button",{onClick:w,class:"inline-flex items-center px-6 py-3 bg-gradient-to-r from-emerald-600 to-teal-600 text-white font-semibold rounded-lg hover:from-emerald-700 hover:to-teal-700 transition-all duration-200 shadow-sm hover:shadow-md"},[r(s(F),{class:"h-4 w-4 mr-2"}),t[14]||(t[14]=i(" Reveal Answer ",-1))]),e("button",{onClick:j,disabled:a.value===n.value.length-1,class:"inline-flex items-center px-4 py-2 border border-gray-300 text-gray-700 font-medium rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed"},[t[15]||(t[15]=i(" Next ",-1)),r(s(O),{class:"h-4 w-4 ml-2"})],8,Ie)]))])):n.value.length===0?(m(),v("div",Le,[e("div",Me,[r(s(D),{class:"h-8 w-8 text-white"})]),t[19]||(t[19]=e("h3",{class:"text-2xl font-bold text-gray-900 mb-2"},"Study Session Complete! ðŸŽ‰",-1)),e("p",Pe," You've finished studying all "+l(g.value==="due"?"due":"")+" cards in this set. ",1),e("div",Re,[r(s(b),{href:o.route("student.flashcards.study",{flashcardSet:u.flashcard_set.id,mode:"due"}),class:"inline-flex items-center px-6 py-3 bg-gradient-to-r from-emerald-600 to-teal-600 text-white font-semibold rounded-lg hover:from-emerald-700 hover:to-teal-700 transition-all duration-200"},{default:h(()=>[r(s(G),{class:"h-4 w-4 mr-2"}),t[16]||(t[16]=i(" Study Due Cards ",-1))]),_:1},8,["href"]),r(s(b),{href:o.route("student.flashcards.study",{flashcardSet:u.flashcard_set.id,mode:"all"}),class:"inline-flex items-center px-6 py-3 border border-gray-300 text-gray-700 font-medium rounded-lg hover:bg-gray-50 transition-colors"},{default:h(()=>[r(s(N),{class:"h-4 w-4 mr-2"}),t[17]||(t[17]=i(" Study All Cards ",-1))]),_:1},8,["href"]),r(s(b),{href:o.route("student.flashcards.show",u.flashcard_set.id),class:"inline-flex items-center px-6 py-3 border border-emerald-300 text-emerald-700 font-medium rounded-lg hover:bg-emerald-50 transition-colors"},{default:h(()=>[r(s(B),{class:"h-4 w-4 mr-2"}),t[18]||(t[18]=i(" Back to Set ",-1))]),_:1},8,["href"])])])):(m(),v("div",Te,[e("div",Ve,[r(s(K),{class:"h-8 w-8 text-white"})]),t[22]||(t[22]=e("h3",{class:"text-2xl font-bold text-gray-900 mb-2"},"No Cards Available",-1)),e("p",He,l(g.value==="due"?"You have no cards due for review right now. Great job!":"This flashcard set is empty."),1),e("div",Ye,[g.value==="due"?(m(),E(s(b),{key:0,href:o.route("student.flashcards.study",{flashcardSet:u.flashcard_set.id,mode:"all"}),class:"inline-flex items-center px-6 py-3 bg-gradient-to-r from-emerald-600 to-teal-600 text-white font-semibold rounded-lg hover:from-emerald-700 hover:to-teal-700 transition-all duration-200"},{default:h(()=>[r(s(N),{class:"h-4 w-4 mr-2"}),t[20]||(t[20]=i(" Study All Cards ",-1))]),_:1},8,["href"])):y("",!0),r(s(b),{href:o.route("student.flashcards.show",u.flashcard_set.id),class:"inline-flex items-center px-6 py-3 border border-gray-300 text-gray-700 font-medium rounded-lg hover:bg-gray-50 transition-colors"},{default:h(()=>[r(s(S),{class:"h-4 w-4 mr-2"}),t[21]||(t[21]=i(" Back to Set ",-1))]),_:1},8,["href"])])])),c.studied>0?(m(),v("div",ze,[t[27]||(t[27]=e("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"Session Statistics",-1)),e("div",Oe,[e("div",Ge,[e("div",Ke,l(c.studied),1),t[23]||(t[23]=e("div",{class:"text-sm text-gray-600"},"Cards Studied",-1))]),e("div",qe,[e("div",Je,l(c.easy),1),t[24]||(t[24]=e("div",{class:"text-sm text-gray-600"},"Easy",-1))]),e("div",Qe,[e("div",Ue,l(c.medium),1),t[25]||(t[25]=e("div",{class:"text-sm text-gray-600"},"Medium",-1))]),e("div",We,[e("div",Xe,l(c.hard),1),t[26]||(t[26]=e("div",{class:"text-sm text-gray-600"},"Hard",-1))])])])):y("",!0)])])]),_:1}))}},pt=Y(Ze,[["__scopeId","data-v-605cf5a0"]]);export{pt as default};
