import{N as F,r as _,O as I,d as N,c as W,w as C,b as j,a as t,h as A,p as G,x as S,i as c,z as J,e as m,f as a,g as p,n as w,s as b,o as n,t as u,F as f,j as y,q as M,Q,T as Z,y as V}from"./app-B55pdyKV.js";import{A as K}from"./AdminLayout-B6RzOH9D.js";import{_ as X}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./XMarkIcon-DPQH_s_L.js";import"./UserIcon-_4Xna5Gt.js";import"./UsersIcon-DwVmGstj.js";import"./ChatBubbleLeftRightIcon-CCa7BYB8.js";import"./ChartBarIcon-B5U67zay.js";import"./CurrencyDollarIcon-DQxXsKGG.js";import"./EyeIcon-Bu4kIzD-.js";const Y={class:"py-6"},ee={class:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8"},te={class:"mb-8"},se={class:"flex items-center justify-between"},re={class:"bg-white shadow-sm rounded-xl border border-gray-100 overflow-hidden"},oe={class:"p-6 space-y-8"},le={class:"space-y-6"},ie={key:0,class:"mt-1 text-sm text-red-600"},ne={class:"mt-1"},ae={id:"subjects"},de=["value"],ue={key:0,class:"mt-1 text-sm text-red-600"},me=["value"],ce={class:"space-y-6"},pe=["value"],ge={key:0,class:"mt-1 text-sm text-red-600"},be={key:0,class:"mt-1 text-sm text-red-600"},fe={class:"mt-1 grid grid-cols-1 md:grid-cols-3 gap-3"},ve=["value"],xe={class:"flex flex-1"},we={class:"flex flex-col"},ye={class:"flex items-center text-sm font-medium text-gray-900"},he={key:0,xmlns:"http://www.w3.org/2000/svg",class:"ml-2 h-5 w-5 text-emerald-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},ke={class:"mt-1 text-xs text-gray-500"},_e={key:0,class:"mt-1 text-sm text-red-600"},Ce={class:"mt-1 flex items-center text-sm text-gray-500"},je={key:0,class:"mt-1 text-sm text-red-600"},qe=["min"],Ae={class:"space-y-6"},Me={class:"mt-1 flex items-center"},Ve={class:"flex-shrink-0 h-32 w-48 border-2 border-dashed border-gray-300 rounded-lg overflow-hidden bg-gray-50 flex items-center justify-center"},Se={key:0,class:"h-full w-full"},De=["src"],Be={key:1,class:"text-center p-4"},Le={class:"ml-4"},Te={key:0,class:"mt-1 text-sm text-red-600"},Oe={class:"space-y-3"},Ue={class:"flex-1"},Ee=["onUpdate:modelValue","placeholder"],Pe=["onClick","disabled"],Re={class:"space-y-3"},$e={class:"flex-1"},ze=["onUpdate:modelValue","placeholder"],He=["onClick","disabled"],Fe={class:"space-y-6 border-t border-gray-200 pt-8"},Ie={class:"bg-yellow-50 border border-yellow-200 rounded-lg p-4"},Ne={class:"flex items-start"},We={class:"flex-1"},Ge={class:"mt-3"},Je={class:"px-6 py-4 bg-gray-50 border-t border-gray-200 rounded-b-xl flex justify-between items-center"},Qe={class:"flex space-x-3"},Ze={class:"flex space-x-3"},Ke=["disabled"],Xe=["disabled"],Ye={key:0,class:"fixed inset-0 z-50 overflow-y-auto"},et={class:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},tt={class:"inline-block align-bottom bg-white rounded-lg px-4 pt-5 pb-4 text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full sm:p-6"},st={class:"sm:flex sm:items-start"},rt={class:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left"},ot={class:"mt-2"},lt={key:0,class:"mt-3 p-3 bg-red-50 border border-red-200 rounded-md"},it={class:"text-sm font-medium text-red-800"},nt={class:"mt-5 sm:mt-4 sm:flex sm:flex-row-reverse"},at={__name:"Edit",props:{course:Object,exam_boards:Array,subjects:Array,levels:Object},setup(d){const v=F(),o=d,h=_(!1),x=_(null),q=_(null),k=_(!1),s=I({title:o.course.title,subject:o.course.subject,description:o.course.description||"",exam_board_id:o.course.exam_board_id,level:o.course.level,status:o.course.status,visibility:o.course.visibility,enrollment_limit:o.course.enrollment_limit,estimated_duration_hours:o.course.estimated_duration_hours||40,target_completion_date:o.course.target_completion_date?new Date(o.course.target_completion_date).toISOString().split("T")[0]:"",learning_objectives:Array.isArray(o.course.learning_objectives)?[...o.course.learning_objectives]:o.course.learning_objectives?[o.course.learning_objectives]:[""],prerequisites:Array.isArray(o.course.prerequisites)?[...o.course.prerequisites]:o.course.prerequisites?[o.course.prerequisites]:[""],thumbnail:null,errors:{},processing:!1}),D=[{value:"public",label:"Public",description:"Visible to all students in course catalog"},{value:"private",label:"Private",description:"Only visible to you (for testing)"},{value:"unlisted",label:"Unlisted",description:"Only accessible via direct link"}],B=N(()=>{const l=new Date;return l.setDate(l.getDate()+1),l.toISOString().split("T")[0]}),L=l=>{const e=l.target.files[0];if(!e)return;if(!e.type.match("image.*")){alert("Please select an image file");return}if(e.size>2*1024*1024){alert("Image size should be less than 2MB");return}s.thumbnail=e,k.value=!1;const r=new FileReader;r.onload=i=>{x.value=i.target.result},r.readAsDataURL(e)},T=()=>{s.thumbnail=null,x.value=null,k.value=!0,q.value&&(q.value.value="")},O=()=>{s.learning_objectives.push("")},U=l=>{s.learning_objectives.length>1&&s.learning_objectives.splice(l,1)},E=()=>{s.prerequisites.push("")},P=l=>{s.prerequisites.length>1&&s.prerequisites.splice(l,1)},R=()=>{s.title=o.course.title,s.subject=o.course.subject,s.description=o.course.description||"",s.exam_board_id=o.course.exam_board_id,s.level=o.course.level,s.status=o.course.status,s.visibility=o.course.visibility,s.enrollment_limit=o.course.enrollment_limit,s.estimated_duration_hours=o.course.estimated_duration_hours||40,s.target_completion_date=o.course.target_completion_date?new Date(o.course.target_completion_date).toISOString().split("T")[0]:"",s.learning_objectives=Array.isArray(o.course.learning_objectives)?[...o.course.learning_objectives]:o.course.learning_objectives?[o.course.learning_objectives]:[""],s.prerequisites=Array.isArray(o.course.prerequisites)?[...o.course.prerequisites]:o.course.prerequisites?[o.course.prerequisites]:[""],s.thumbnail=null,x.value=null,k.value=!1,s.errors={}},$=async()=>{s.processing=!0;try{const l=new FormData;Object.keys(s).forEach(e=>{if(e==="thumbnail"&&s[e])l.append(e,s[e]);else if(e==="thumbnail"&&k.value)l.append("remove_thumbnail","1");else if(e==="learning_objectives"||e==="prerequisites"){const r=s[e].filter(i=>i&&i.trim()!=="");r.length>0&&r.forEach((i,g)=>{l.append(`${e}[${g}]`,i)})}else e==="exam_board_id"&&s[e]===null||e==="enrollment_limit"&&s[e]===""?l.append(e,""):e!=="errors"&&e!=="processing"&&s[e]!==null&&s[e]!==void 0&&l.append(e,s[e])}),await V.post(route("admin.catelog.courses.update",o.course.id),l,{preserveScroll:!0,onSuccess:()=>{s.processing=!1,v.props.flash.success="Course updated successfully!"},onError:e=>{s.processing=!1,s.errors=e}})}catch(l){s.processing=!1,console.error("Course update failed:",l),v.props.flash.error=l.message||"An error occurred while updating the course."}},z=async()=>{s.processing=!0;try{const l=new FormData;Object.keys(s).forEach(e=>{if(e==="thumbnail"&&s[e])l.append(e,s[e]);else if(e==="learning_objectives"||e==="prerequisites"){const r=s[e].filter(i=>i&&i.trim()!=="");r.length>0&&r.forEach((i,g)=>{l.append(`${e}[${g}]`,i)})}else e!=="errors"&&e!=="processing"&&e!=="status"&&s[e]!==null&&s[e]!==void 0&&l.append(e,s[e])}),l.append("status","draft"),await V.post(route("admin.catelog.courses.update",o.course.id),l,{preserveScroll:!0,onSuccess:()=>{s.processing=!1,v.props.flash.success="Course saved as draft!"},onError:e=>{s.processing=!1,s.errors=e}})}catch(l){s.processing=!1,console.error("Draft save failed:",l),v.props.flash.error="Failed to save draft. Please try again."}},H=async()=>{h.value=!1;try{await V.post(route("admin.catelog.courses.regenerate",o.course.id),{},{preserveScroll:!0,onSuccess:()=>{v.props.flash.success="Course content regenerated successfully!"},onError:l=>{v.props.flash.error=l.message||"Failed to regenerate content"}})}catch(l){console.error("Regeneration failed:",l),v.props.flash.error="Failed to regenerate content. Please try again."}};return(l,e)=>(n(),W(K,null,{default:C(()=>[j(A(G),{title:`Edit: ${d.course.title}`},null,8,["title"]),t("div",Y,[t("div",ee,[t("div",te,[t("div",se,[e[15]||(e[15]=t("div",null,[t("h1",{class:"text-2xl font-bold text-gray-900"},"Edit Course"),t("p",{class:"mt-1 text-sm text-gray-600"}," Update course details and settings ")],-1)),j(A(S),{href:l.route("admin.catelog.courses.show",d.course.id),class:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500"},{default:C(()=>[...e[14]||(e[14]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1),c(" Back to Course ",-1)])]),_:1},8,["href"])])]),t("div",re,[t("form",{onSubmit:J($,["prevent"])},[t("div",oe,[t("div",le,[e[21]||(e[21]=t("div",{class:"border-b border-gray-200 pb-4"},[t("h2",{class:"text-lg font-semibold text-gray-900"},"Course Basics"),t("p",{class:"mt-1 text-sm text-gray-500"},"Basic information about your course")],-1)),t("div",null,[e[16]||(e[16]=t("label",{for:"title",class:"block text-sm font-medium text-gray-700 mb-1"}," Course Title * ",-1)),m(t("input",{id:"title","onUpdate:modelValue":e[0]||(e[0]=r=>s.title=r),type:"text",required:"",class:w(["mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500 py-2.5 px-3",{"border-red-300":s.errors.title}])},null,2),[[b,s.title]]),s.errors.title?(n(),a("p",ie,u(s.errors.title),1)):p("",!0)]),t("div",null,[e[17]||(e[17]=t("label",{for:"subject",class:"block text-sm font-medium text-gray-700 mb-1"}," Subject * ",-1)),t("div",ne,[m(t("input",{id:"subject","onUpdate:modelValue":e[1]||(e[1]=r=>s.subject=r),type:"text",required:"",list:"subjects",class:w(["block w-full rounded-lg border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500 py-2.5 px-3",{"border-red-300":s.errors.subject}])},null,2),[[b,s.subject]]),t("datalist",ae,[(n(!0),a(f,null,y(d.subjects,r=>(n(),a("option",{key:r,value:r},null,8,de))),128))])]),s.errors.subject?(n(),a("p",ue,u(s.errors.subject),1)):p("",!0)]),t("div",null,[e[19]||(e[19]=t("label",{for:"exam_board_id",class:"block text-sm font-medium text-gray-700 mb-1"}," Exam Board (Optional) ",-1)),m(t("select",{id:"exam_board_id","onUpdate:modelValue":e[2]||(e[2]=r=>s.exam_board_id=r),class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500 py-2.5 px-3"},[e[18]||(e[18]=t("option",{value:null},"No specific exam board",-1)),(n(!0),a(f,null,y(d.exam_boards,r=>(n(),a("option",{key:r.id,value:r.id},u(r.name),9,me))),128))],512),[[M,s.exam_board_id]]),e[20]||(e[20]=t("p",{class:"mt-1 text-sm text-gray-500"}," Selecting an exam board will tailor content to specific syllabus requirements ",-1))])]),t("div",ce,[e[35]||(e[35]=t("div",{class:"border-b border-gray-200 pb-4"},[t("h2",{class:"text-lg font-semibold text-gray-900"},"Course Details"),t("p",{class:"mt-1 text-sm text-gray-500"},"Configure course settings and requirements")],-1)),t("div",null,[e[23]||(e[23]=t("label",{for:"level",class:"block text-sm font-medium text-gray-700 mb-1"}," Course Level * ",-1)),m(t("select",{id:"level","onUpdate:modelValue":e[3]||(e[3]=r=>s.level=r),required:"",class:w(["mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500 py-2.5 px-3",{"border-red-300":s.errors.level}])},[e[22]||(e[22]=t("option",{value:""},"Select course level",-1)),(n(!0),a(f,null,y(d.levels,(r,i)=>(n(),a("option",{key:i,value:i},u(r),9,pe))),128))],2),[[M,s.level]]),s.errors.level?(n(),a("p",ge,u(s.errors.level),1)):p("",!0)]),t("div",null,[e[25]||(e[25]=t("label",{for:"status",class:"block text-sm font-medium text-gray-700 mb-1"}," Course Status * ",-1)),m(t("select",{id:"status","onUpdate:modelValue":e[4]||(e[4]=r=>s.status=r),required:"",class:w(["mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500 py-2.5 px-3",{"border-red-300":s.errors.status}])},[...e[24]||(e[24]=[t("option",{value:"active"},"Active",-1),t("option",{value:"draft"},"Draft",-1),t("option",{value:"paused"},"Paused",-1),t("option",{value:"archived"},"Archived",-1),t("option",{value:"completed"},"Completed",-1)])],2),[[M,s.status]]),s.errors.status?(n(),a("p",be,u(s.errors.status),1)):p("",!0)]),t("div",null,[e[27]||(e[27]=t("label",{for:"visibility",class:"block text-sm font-medium text-gray-700 mb-1"}," Visibility * ",-1)),t("div",fe,[(n(),a(f,null,y(D,r=>t("label",{key:r.value,class:w(["relative flex cursor-pointer rounded-lg border p-4 focus:outline-none",s.visibility===r.value?"border-emerald-500 bg-emerald-50 ring-2 ring-emerald-500":"border-gray-300"])},[m(t("input",{type:"radio",value:r.value,"onUpdate:modelValue":e[5]||(e[5]=i=>s.visibility=i),class:"sr-only"},null,8,ve),[[Q,s.visibility]]),t("div",xe,[t("div",we,[t("span",ye,[c(u(r.label)+" ",1),s.visibility===r.value?(n(),a("svg",he,[...e[26]||(e[26]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)])])):p("",!0)]),t("span",ke,u(r.description),1)])])],2)),64))]),s.errors.visibility?(n(),a("p",_e,u(s.errors.visibility),1)):p("",!0)]),t("div",null,[e[29]||(e[29]=t("label",{for:"enrollment_limit",class:"block text-sm font-medium text-gray-700 mb-1"}," Enrollment Limit (Optional) ",-1)),m(t("input",{id:"enrollment_limit","onUpdate:modelValue":e[6]||(e[6]=r=>s.enrollment_limit=r),type:"number",min:"0",class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500 py-2.5 px-3",placeholder:"Leave empty for unlimited"},null,512),[[b,s.enrollment_limit]]),t("div",Ce,[e[28]||(e[28]=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-1.205a9 9 0 01-13.5 2.201"})],-1)),t("span",null,"Currently enrolled: "+u(d.course.current_enrollment||0)+" students",1)]),e[30]||(e[30]=t("p",{class:"mt-1 text-sm text-gray-500"}," Maximum number of students who can enroll. Leave empty for unlimited enrollment. ",-1))]),t("div",null,[e[31]||(e[31]=t("label",{for:"estimated_duration_hours",class:"block text-sm font-medium text-gray-700 mb-1"}," Estimated Duration (Hours) ",-1)),m(t("input",{id:"estimated_duration_hours","onUpdate:modelValue":e[7]||(e[7]=r=>s.estimated_duration_hours=r),type:"number",min:"1",class:w(["mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500 py-2.5 px-3",{"border-red-300":s.errors.estimated_duration_hours}])},null,2),[[b,s.estimated_duration_hours]]),s.errors.estimated_duration_hours?(n(),a("p",je,u(s.errors.estimated_duration_hours),1)):p("",!0),e[32]||(e[32]=t("p",{class:"mt-1 text-sm text-gray-500"}," Approximate total study time for students to complete the course ",-1))]),t("div",null,[e[33]||(e[33]=t("label",{for:"target_completion_date",class:"block text-sm font-medium text-gray-700 mb-1"}," Suggested Completion Timeline ",-1)),m(t("input",{id:"target_completion_date","onUpdate:modelValue":e[8]||(e[8]=r=>s.target_completion_date=r),type:"date",min:B.value,class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500 py-2.5 px-3"},null,8,qe),[[b,s.target_completion_date]]),e[34]||(e[34]=t("p",{class:"mt-1 text-sm text-gray-500"}," Suggested date for students to aim for completion (optional) ",-1))])]),t("div",Ae,[e[51]||(e[51]=t("div",{class:"border-b border-gray-200 pb-4"},[t("h2",{class:"text-lg font-semibold text-gray-900"},"Course Content"),t("p",{class:"mt-1 text-sm text-gray-500"},"Define what students will learn")],-1)),t("div",null,[e[39]||(e[39]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"}," Course Thumbnail ",-1)),t("div",Me,[t("div",Ve,[x.value||d.course.thumbnail_url?(n(),a("div",Se,[t("img",{src:x.value||d.course.thumbnail_url,alt:"Thumbnail preview",class:"h-full w-full object-cover"},null,8,De)])):(n(),a("div",Be,[...e[36]||(e[36]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1),t("p",{class:"mt-2 text-xs text-gray-500"},"No thumbnail",-1),t("p",{class:"text-xs text-gray-400"},"PNG, JPG up to 2MB",-1)])]))]),t("div",Le,[t("input",{id:"thumbnail",ref_key:"thumbnailInput",ref:q,type:"file",accept:"image/*",class:"sr-only",onChange:L},null,544),t("button",{type:"button",onClick:e[9]||(e[9]=r=>l.$refs.thumbnailInput.click()),class:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500"},[e[37]||(e[37]=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4 4m0 0l-4-4m4 4V4"})],-1)),c(" "+u(x.value||d.course.thumbnail_url?"Change":"Upload")+" Thumbnail ",1)]),x.value||d.course.thumbnail_url?(n(),a("button",{key:0,type:"button",onClick:T,class:"ml-2 inline-flex items-center px-4 py-2 border border-red-300 shadow-sm text-sm font-medium rounded-md text-red-700 bg-white hover:bg-red-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500"},[...e[38]||(e[38]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1),c(" Remove ",-1)])])):p("",!0)])]),e[40]||(e[40]=t("p",{class:"mt-1 text-sm text-gray-500"}," Recommended size: 800x450 pixels. This will be displayed in the course catalog. ",-1))]),t("div",null,[e[41]||(e[41]=t("label",{for:"description",class:"block text-sm font-medium text-gray-700 mb-1"}," Course Description * ",-1)),m(t("textarea",{id:"description","onUpdate:modelValue":e[10]||(e[10]=r=>s.description=r),rows:"4",required:"",class:w(["mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500 py-2.5 px-3",{"border-red-300":s.errors.description}])},null,2),[[b,s.description]]),s.errors.description?(n(),a("p",Te,u(s.errors.description),1)):p("",!0),e[42]||(e[42]=t("p",{class:"mt-1 text-sm text-gray-500"}," A clear description helps students understand what to expect from the course. ",-1))]),t("div",null,[e[45]||(e[45]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Learning Objectives ",-1)),t("div",Oe,[(n(!0),a(f,null,y(s.learning_objectives,(r,i)=>(n(),a("div",{key:i,class:"flex gap-3"},[t("div",Ue,[m(t("input",{"onUpdate:modelValue":g=>s.learning_objectives[i]=g,type:"text",class:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500 py-2.5 px-3",placeholder:`Learning objective ${i+1}`},null,8,Ee),[[b,s.learning_objectives[i]]])]),t("button",{type:"button",onClick:g=>U(i),class:"flex-shrink-0 px-3 py-2.5 text-sm text-red-600 hover:text-red-800 border border-red-200 rounded-lg hover:bg-red-50 transition-colors",disabled:s.learning_objectives.length<=1},[...e[43]||(e[43]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,Pe)]))),128))]),t("button",{type:"button",onClick:O,class:"mt-3 inline-flex items-center px-4 py-2.5 border border-emerald-300 shadow-sm text-sm font-medium rounded-lg text-emerald-700 bg-white hover:bg-emerald-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500 transition-all duration-200"},[...e[44]||(e[44]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),c(" Add Learning Objective ",-1)])]),e[46]||(e[46]=t("p",{class:"mt-1 text-sm text-gray-500"}," What specific skills or knowledge will students gain from this course? ",-1))]),t("div",null,[e[49]||(e[49]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Prerequisites (Optional) ",-1)),t("div",Re,[(n(!0),a(f,null,y(s.prerequisites,(r,i)=>(n(),a("div",{key:i,class:"flex gap-3"},[t("div",$e,[m(t("input",{"onUpdate:modelValue":g=>s.prerequisites[i]=g,type:"text",class:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500 py-2.5 px-3",placeholder:`Prerequisite ${i+1}`},null,8,ze),[[b,s.prerequisites[i]]])]),t("button",{type:"button",onClick:g=>P(i),class:"flex-shrink-0 px-3 py-2.5 text-sm text-red-600 hover:text-red-800 border border-red-200 rounded-lg hover:bg-red-50 transition-colors",disabled:s.prerequisites.length<=1},[...e[47]||(e[47]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,He)]))),128))]),t("button",{type:"button",onClick:E,class:"mt-3 inline-flex items-center px-4 py-2.5 border border-emerald-300 shadow-sm text-sm font-medium rounded-lg text-emerald-700 bg-white hover:bg-emerald-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500 transition-all duration-200"},[...e[48]||(e[48]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),c(" Add Prerequisite ",-1)])]),e[50]||(e[50]=t("p",{class:"mt-1 text-sm text-gray-500"}," What knowledge or skills should students have before taking this course? ",-1))])]),t("div",Fe,[e[56]||(e[56]=t("div",{class:"border-b border-gray-200 pb-4"},[t("h2",{class:"text-lg font-semibold text-gray-900"},"Danger Zone"),t("p",{class:"mt-1 text-sm text-gray-500"},"Critical actions that cannot be undone")],-1)),t("div",Ie,[t("div",Ne,[e[55]||(e[55]=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-yellow-400 mr-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"})],-1)),t("div",We,[e[53]||(e[53]=t("h3",{class:"text-sm font-medium text-yellow-800"}," Regenerate Course Content with AI ",-1)),e[54]||(e[54]=t("div",{class:"mt-2 text-sm text-yellow-700"},[t("p",null,[c(" This will regenerate all modules and topics using AI based on the updated course information. "),t("span",{class:"font-semibold"},"Warning: This will delete all existing content and cannot be undone!")])],-1)),t("div",Ge,[t("button",{type:"button",onClick:e[11]||(e[11]=r=>h.value=!0),class:"inline-flex items-center px-4 py-2 border border-yellow-300 shadow-sm text-sm font-medium rounded-md text-yellow-700 bg-white hover:bg-yellow-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-yellow-500"},[...e[52]||(e[52]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1),c(" Regenerate Course Structure ",-1)])])])])])])])]),t("div",Je,[t("div",Qe,[j(A(S),{href:l.route("admin.catelog.courses.show",d.course.id),class:"inline-flex items-center px-4 py-2.5 border border-gray-300 shadow-sm text-sm font-medium rounded-lg text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500 transition-all duration-200"},{default:C(()=>[...e[57]||(e[57]=[c(" Cancel ",-1)])]),_:1},8,["href"]),t("button",{type:"button",onClick:R,class:"inline-flex items-center px-4 py-2.5 border border-gray-300 shadow-sm text-sm font-medium rounded-lg text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500 transition-all duration-200"}," Reset Changes ")]),t("div",Ze,[t("button",{type:"button",onClick:z,disabled:s.processing,class:"inline-flex items-center px-4 py-2.5 border border-gray-300 shadow-sm text-sm font-medium rounded-lg text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500 transition-all duration-200 disabled:opacity-50"}," Save as Draft ",8,Ke),t("button",{type:"submit",disabled:s.processing,class:"inline-flex items-center px-4 py-2.5 bg-gradient-to-r from-emerald-600 to-teal-600 border border-transparent rounded-lg font-semibold text-white shadow-md hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:ring-offset-2 transition-all duration-200 disabled:opacity-50"},[s.processing?(n(),a(f,{key:0},[e[58]||(e[58]=t("svg",{class:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)),e[59]||(e[59]=c(" Saving... ",-1))],64)):(n(),a(f,{key:1},[c(" Save Changes ")],64))],8,Xe)])])],32)])])]),j(Z,{"enter-active-class":"duration-300 ease-out","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"duration-200 ease-in","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:C(()=>[h.value?(n(),a("div",Ye,[t("div",et,[t("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:e[12]||(e[12]=r=>h.value=!1)}),e[65]||(e[65]=t("span",{class:"hidden sm:inline-block sm:align-middle sm:h-screen"},"​",-1)),t("div",tt,[t("div",st,[e[64]||(e[64]=t("div",{class:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.798-.833-2.732 0L4.346 16.5c-.77.833.192 2.5 1.732 2.5z"})])],-1)),t("div",rt,[e[63]||(e[63]=t("h3",{class:"text-lg leading-6 font-medium text-gray-900"}," Regenerate Course Content ",-1)),t("div",ot,[e[61]||(e[61]=t("p",{class:"text-sm text-gray-500"}," Are you sure you want to regenerate the entire course structure? This action will: ",-1)),e[62]||(e[62]=t("ul",{class:"mt-2 text-sm text-red-600 space-y-1 list-disc list-inside"},[t("li",null,"Delete all existing modules and topics"),t("li",null,"Remove all student progress data for this course"),t("li",null,"Generate new content based on current course settings"),t("li",null,"Cannot be undone")],-1)),d.course.current_enrollment>0?(n(),a("div",lt,[t("p",it," ⚠️ Warning: "+u(d.course.current_enrollment)+" students are currently enrolled in this course! ",1),e[60]||(e[60]=t("p",{class:"mt-1 text-sm text-red-600"}," Regenerating content will reset all student progress and may cause confusion. ",-1))])):p("",!0)])])]),t("div",nt,[t("button",{type:"button",onClick:H,class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm"}," Regenerate Content "),t("button",{type:"button",onClick:e[13]||(e[13]=r=>h.value=!1),class:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500 sm:mt-0 sm:w-auto sm:text-sm"}," Cancel ")])])])])):p("",!0)]),_:1})]),_:1}))}},wt=X(at,[["__scopeId","data-v-277cd71a"]]);export{wt as default};
