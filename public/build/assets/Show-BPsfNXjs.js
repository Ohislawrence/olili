import{f as i,a as e,o as a,r as h,d as Q,l as de,c as y,w,b as m,g as f,h as c,p as ce,n as _,t as o,A as k,F as j,j as C,i as g,x as T,B as H,e as Y,s as G,z as ue,y as A}from"./app-bHyfwQwP.js";import{S as me}from"./StudentLayout-it0hCN4Y.js";import{_ as fe}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{r as xe}from"./ChartBarIcon-CP2lZCGo.js";import{r as he}from"./ClockIcon-CAvzOg5w.js";import{r as I}from"./AcademicCapIcon-CNdIHbMp.js";import{r as J}from"./CalendarIcon-D-J6NV_Y.js";import{r as M}from"./CheckCircleIcon-DHn9ul95.js";import{r as ge}from"./ChevronDownIcon-C8d5Equr.js";import{r as O}from"./PlayIcon-CzrG20v-.js";import{c as ve}from"./UserIcon-_y9HoBzG.js";import"./XMarkIcon-DbIGV9st.js";import"./SparklesIcon-CSO7NOZz.js";import"./QuestionMarkCircleIcon-BlXACcZB.js";import"./PlusIcon-CACRYMFk.js";import"./BellIcon-Byxl_w52.js";import"./CreditCardIcon-11OZiRf4.js";function be(l,v){return a(),i("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 5.25v13.5m-7.5-13.5v13.5"})])}const ye={class:"py-6"},_e={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},pe={class:"mb-8"},we={class:"flex justify-between items-start"},ke={class:"flex-1"},je={class:"flex items-center gap-2 mb-3"},Ce={key:0,class:"inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold bg-emerald-100 text-emerald-800"},Me={class:"text-sm text-gray-500"},Se={class:"text-3xl font-bold text-gray-900 mb-2"},$e={class:"text-lg text-gray-600 mb-4"},De={class:"bg-gradient-to-r from-emerald-50 to-teal-50 rounded-xl p-6 mb-4 border border-emerald-100"},Te={class:"flex items-center justify-between mb-4"},Ee={class:"text-right"},Be={class:"text-3xl font-bold text-emerald-600"},Le={class:"space-y-3"},Re={class:"flex justify-between text-sm text-gray-600 mb-1"},Ve={class:"font-semibold"},Ne={class:"w-full bg-gray-200 rounded-full h-3"},ze={class:"grid grid-cols-2 gap-4 text-xs"},Ae={class:"text-center"},Oe={class:"font-bold text-gray-900"},Ue={class:"text-center"},Fe={class:"font-bold text-gray-900"},Ke={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8"},qe={class:"bg-white rounded-xl shadow-sm border border-gray-100 p-6 hover:shadow-md transition-shadow"},Qe={class:"flex items-center justify-between mb-4"},He={class:"w-12 h-12 rounded-xl bg-emerald-100 flex items-center justify-center"},Ye={class:"text-right"},Ge={class:"text-2xl font-bold text-gray-900"},Ie={class:"w-full bg-gray-200 rounded-full h-2.5"},Je={class:"text-xs text-gray-500 mt-2"},We={class:"bg-white rounded-xl shadow-sm border border-gray-100 p-6 hover:shadow-md transition-shadow"},Xe={class:"flex items-center justify-between mb-4"},Ze={class:"w-12 h-12 rounded-xl bg-teal-100 flex items-center justify-center"},Pe={class:"text-right"},et={class:"text-2xl font-bold text-gray-900"},tt={class:"flex justify-between text-xs text-gray-500"},st={class:"bg-white rounded-xl shadow-sm border border-gray-100 p-6 hover:shadow-md transition-shadow"},ot={class:"flex items-center justify-between mb-4"},rt={class:"w-12 h-12 rounded-xl bg-purple-100 flex items-center justify-center"},lt={class:"text-right"},at={class:"text-2xl font-bold text-gray-900"},it={class:"text-xs text-gray-500"},nt={class:"bg-white rounded-xl shadow-sm border border-gray-100 p-6 hover:shadow-md transition-shadow"},dt={class:"flex items-center justify-between mb-4"},ct={class:"w-12 h-12 rounded-xl bg-amber-100 flex items-center justify-center"},ut={class:"text-right"},mt={key:0,class:"text-sm font-semibold text-gray-900"},ft={key:1,class:"text-sm text-gray-500"},xt={key:0},ht={class:"text-sm font-medium text-gray-900 line-clamp-2 mb-2"},gt={class:"text-xs text-gray-500"},vt={key:1,class:"text-center py-2"},bt={class:"bg-white rounded-xl shadow-sm border border-gray-100 p-6 mb-8"},yt={class:"flex items-center justify-between mb-4"},_t={class:"text-sm text-gray-600"},pt={class:"text-xs text-gray-400"},wt={class:"flex-1 mx-4"},kt={class:"relative"},jt={class:"w-full bg-gray-200 rounded-full h-2.5"},Ct={class:"text-sm text-gray-600 text-right"},Mt={class:"grid grid-cols-1 lg:grid-cols-3 gap-8"},St={class:"lg:col-span-2"},$t={class:"bg-white shadow-sm rounded-xl border border-gray-100"},Dt={class:"px-6 py-4 border-b border-gray-200 bg-gray-50 rounded-t-xl"},Tt={class:"flex items-center justify-between"},Et={class:"text-sm text-gray-500 mt-1"},Bt={class:"text-right"},Lt={class:"text-sm text-gray-600"},Rt={class:"text-xs text-gray-400"},Vt={class:"p-6"},Nt={class:"mb-6 p-4 bg-emerald-50 rounded-lg border border-emerald-100"},zt={class:"text-sm text-emerald-800"},At={key:0,class:"mb-6"},Ot={class:"grid gap-2"},Ut={class:"text-sm text-gray-700"},Ft={class:"space-y-3"},Kt=["onClick"],qt={class:"flex items-center justify-between"},Qt={class:"flex items-center flex-1"},Ht={class:"relative"},Yt={class:"w-10 h-10 rounded-full flex items-center justify-center text-sm font-semibold mr-3 bg-gradient-to-br from-emerald-500 to-teal-600 text-white shadow-sm"},Gt={key:0,class:"absolute -top-1 -right-1 w-5 h-5 bg-emerald-500 rounded-full flex items-center justify-center"},It={class:"flex-1"},Jt={class:"flex items-center gap-2 mb-1"},Wt={class:"text-base font-bold text-gray-900"},Xt={key:0,class:"inline-flex items-center px-2 py-1 rounded-full text-xs font-semibold bg-emerald-100 text-emerald-800"},Zt={class:"flex items-center gap-4 text-xs text-gray-500"},Pt={class:"flex items-center gap-3"},es={class:"text-right"},ts={class:"text-sm font-bold text-gray-900"},ss={class:"p-2 rounded-lg hover:bg-gray-100 transition-colors"},os={class:"mt-3"},rs={class:"w-full bg-gray-200 rounded-full h-2.5"},ls={key:0,class:"bg-white"},as={class:"flex items-center justify-between"},is={class:"flex items-center flex-1"},ns={key:1},ds={class:"flex-1"},cs={class:"flex items-center gap-2 mb-1"},us={class:"text-sm font-medium text-gray-900 group-hover:text-emerald-600 transition-colors"},ms={key:0,class:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-semibold bg-amber-100 text-amber-800"},fs={class:"text-xs text-gray-500"},xs={key:0,class:"ml-2"},hs={class:"flex items-center gap-2 ml-4"},gs={class:"space-y-6"},vs={class:"bg-white rounded-xl shadow-sm border border-gray-100"},bs={class:"p-6 space-y-3"},ys={class:"pt-3 border-t border-gray-200"},_s={class:"pt-3 border-t border-gray-200"},ps=["disabled"],ws=["disabled"],ks={key:0,class:"bg-white rounded-xl shadow-sm border border-gray-100"},js={class:"p-6 space-y-4"},Cs=["onClick"],Ms={class:"flex justify-between items-center"},Ss={class:"text-sm font-medium text-gray-700 truncate"},$s={class:"w-full bg-gray-200 rounded-full h-2.5"},Ds={class:"flex justify-between text-xs text-gray-500"},Ts={class:"bg-white rounded-xl shadow-sm border border-gray-100"},Es={class:"p-6 space-y-4"},Bs={class:"flex justify-between items-center"},Ls={class:"text-sm"},Rs={class:"text-gray-500"},Vs={class:"w-8 h-8 rounded-full bg-emerald-100 flex items-center justify-center"},Ns={class:"flex justify-between items-center"},zs={class:"text-sm"},As={class:"text-gray-500"},Os={class:"w-8 h-8 rounded-full bg-amber-100 flex items-center justify-center"},Us={key:0,class:"flex justify-between items-center"},Fs={class:"text-sm"},Ks={class:"text-gray-500"},qs={class:"w-8 h-8 rounded-full bg-emerald-100 flex items-center justify-center"},Qs={key:0,class:"fixed inset-0 z-50 overflow-y-auto"},Hs={class:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},Ys={class:"bg-white px-6 pt-6 pb-4"},Gs={class:"mb-4"},Is={class:"text-sm text-gray-600 mb-2"},Js={class:"mb-4"},Ws={class:"space-y-3"},Xs=["onUpdate:modelValue","onKeydown"],Zs=["onClick"],Ps={class:"bg-gray-50 px-6 py-4 flex justify-end space-x-3"},eo=["disabled"],to={key:0},so={key:1},oo={__name:"Show",props:{course:Object,next_topic:Object,course_stats:Object},setup(l){const v=l,E=h(!1),B=h(!1),S=h({}),L=h(!1),x=h([""]),$=h(""),b=h([]),W=h([]),p=h(!1),U=Q(()=>x.value.some(s=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s.trim())));de(()=>{v.course.modules?.length&&(S.value[v.course.modules[0].id]=!0)});const d=Q(()=>v.course_stats||{}),X=s=>({draft:"bg-gray-100 text-gray-800",active:"bg-emerald-100 text-emerald-800",paused:"bg-amber-100 text-amber-800",completed:"bg-teal-100 text-teal-800"})[s]||"bg-gray-100 text-gray-800",D=s=>s?new Date(s).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"Not set",F=s=>{if(!s)return"";const t=new Date(s),n=Math.abs(new Date-t),u=Math.ceil(n/(1e3*60*60*24));return u===1?"today":u===2?"yesterday":u<7?`${u-1} days ago`:u<30?`${Math.floor(u/7)} weeks ago`:`${Math.floor(u/30)} months ago`},N=s=>{if(!s||s===0)return"0m";const t=Math.floor(s/60),r=Math.round(s%60);return t>0?`${t}h ${r}m`:`${r}m`},Z=s=>{if(!s)return"";const n=new Date(s)-new Date,u=Math.ceil(n/(1e3*60*60*24));return u<0?`${Math.abs(u)} days overdue`:u===0?"Due today":u===1?"1 day left":`${u} days left`},P=s=>{if(!s)return"text-gray-400";const n=new Date(s)-new Date,u=Math.ceil(n/(1e3*60*60*24));return u<0?"text-red-500":u<=7?"text-amber-500":"text-emerald-500"},z=s=>{const t=s.topics?.filter(n=>n.is_completed).length||0,r=s.topics?.length||0;return r>0?Math.round(t/r*100):0},ee=s=>v.course.modules?.find(r=>r.id===s)?.order||1,te=s=>s>=90?"text-emerald-600":s>=70?"text-teal-600":s>=50?"text-amber-600":"text-red-600",se=s=>s>=90?"bg-emerald-500":s>=70?"bg-teal-500":s>=50?"bg-amber-500":"bg-red-500",K=s=>{S.value[s]=!S.value[s]},oe=async()=>{E.value=!0;try{await A.put(route("student.courses.pause",v.course.id))}finally{E.value=!1}},re=async()=>{B.value=!0;try{await A.put(route("student.courses.resume",v.course.id))}finally{B.value=!1}},le=()=>{L.value=!0,x.value=[""],$.value="",b.value=[],W.value=[]},R=()=>{L.value=!1},ae=()=>{x.value.length<5&&x.value.push("")},ie=s=>{x.value.splice(s,1),b.value.splice(s,1)},ne=()=>{b.value=[];let s=!0;const t=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,r=new Set;return x.value.forEach((n,u)=>{const V=n.trim();V?t.test(V)?r.has(V.toLowerCase())?(b.value[u]="Duplicate email address",s=!1):r.add(V.toLowerCase()):(b.value[u]="Please enter a valid email address",s=!1):(b.value[u]="Email is required",s=!1)}),s},q=async()=>{if(ne()){p.value=!0;try{await A.post(route("student.course.share",v.course.id),{emails:x.value.map(s=>s.trim()).filter(s=>s),message:$.value},{preserveScroll:!0,onFinish:()=>{p.value=!1,L.value=!1,page.props.flash.success&&setTimeout(()=>{x.value=[""],$.value=""},500)}})}catch(s){console.error("Sharing failed:",s),p.value=!1}}};return(s,t)=>(a(),y(me,null,{default:w(()=>[m(c(ce),{title:l.course.title},null,8,["title"]),e("div",ye,[e("div",_e,[e("div",pe,[e("div",we,[e("div",ke,[e("div",je,[e("span",{class:_(["inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold",X(l.course.status)])},o(l.course.status),3),l.course.exam_board?(a(),i("span",Ce,o(l.course.exam_board.name),1)):f("",!0),e("span",Me," Started "+o(F(l.course.start_date)),1)]),e("h1",Se,o(l.course.title),1),e("p",$e,o(l.course.subject)+" • "+o(l.course.level),1),e("div",De,[e("div",Te,[t[2]||(t[2]=e("div",null,[e("h3",{class:"text-lg font-bold text-gray-900"},"Course Progress"),e("p",{class:"text-sm text-gray-600"},"Your journey to mastery")],-1)),e("div",Ee,[e("div",Be,o(Math.round(d.value.overall_completion_percentage||0))+"% ",1),t[1]||(t[1]=e("div",{class:"text-sm text-gray-500"},"Complete",-1))])]),e("div",Le,[e("div",null,[e("div",Re,[t[3]||(t[3]=e("span",null,"Overall Progress",-1)),e("span",Ve,o(Math.round(d.value.overall_completion_percentage||0))+"%",1)]),e("div",Ne,[e("div",{class:"bg-gradient-to-r from-emerald-500 to-teal-600 h-3 rounded-full transition-all duration-500 shadow-sm",style:k({width:`${d.value.overall_completion_percentage||0}%`})},null,4)])]),e("div",ze,[e("div",Ae,[e("div",Oe,o(d.value.completed_modules||0)+"/"+o(d.value.total_modules||0),1),t[4]||(t[4]=e("div",{class:"text-gray-500"},"Modules",-1))]),e("div",Ue,[e("div",Fe,o(d.value.completed_topics||0)+"/"+o(d.value.total_topics||0),1),t[5]||(t[5]=e("div",{class:"text-gray-500"},"Topics",-1))])])])])])])]),e("div",Ke,[e("div",qe,[e("div",Qe,[e("div",He,[m(c(xe),{class:"h-6 w-6 text-emerald-600"})]),e("div",Ye,[e("div",Ge,o(Math.round(d.value.overall_completion_percentage||0))+"%",1),t[6]||(t[6]=e("div",{class:"text-sm text-gray-500"},"Complete",-1))])]),e("div",Ie,[e("div",{class:"bg-emerald-600 h-2.5 rounded-full transition-all duration-300",style:k({width:`${d.value.overall_completion_percentage||0}%`})},null,4)]),e("p",Je,o(d.value.completed_topics||0)+" of "+o(d.value.total_topics||0)+" topics ",1)]),e("div",We,[e("div",Xe,[e("div",Ze,[m(c(he),{class:"h-6 w-6 text-teal-600"})]),e("div",Pe,[e("div",et,o(N(d.value.total_time_minutes||0)),1),t[7]||(t[7]=e("div",{class:"text-sm text-gray-500"},"Time Spent",-1))])]),e("div",tt,[e("span",null,"Est: "+o(l.course.estimated_duration_hours||0)+"h",1),e("span",null,"Remaining: "+o(N(d.value.estimated_remaining_time||0)),1)])]),e("div",st,[e("div",ot,[e("div",rt,[m(c(I),{class:"h-6 w-6 text-purple-600"})]),e("div",lt,[e("div",at,o(d.value.average_score||0)+"%",1),t[8]||(t[8]=e("div",{class:"text-sm text-gray-500"},"Avg Score",-1))])]),e("div",it," Based on "+o(d.value.completed_topics||0)+" completed topics ",1)]),e("div",nt,[e("div",dt,[e("div",ct,[m(c(J),{class:"h-6 w-6 text-amber-600"})]),e("div",ut,[l.next_topic?(a(),i("div",mt," Next Up ")):(a(),i("div",ft,"All Done!"))])]),l.next_topic?(a(),i("div",xt,[e("p",ht,o(l.next_topic.title),1),e("p",gt," Module "+o(ee(l.next_topic.module_id))+" • "+o(l.next_topic.estimated_duration_minutes||0)+"min ",1)])):(a(),i("div",vt,[m(c(M),{class:"h-8 w-8 text-green-500 mx-auto mb-2"}),t[9]||(t[9]=e("p",{class:"text-sm text-gray-600"},"Course Completed!",-1))]))])]),e("div",bt,[t[10]||(t[10]=e("h3",{class:"text-lg font-bold text-gray-900 mb-4"},"Completion Timeline",-1)),e("div",yt,[e("div",_t,[e("div",null,"Start: "+o(D(l.course.start_date)),1),e("div",pt,"Started "+o(F(l.course.start_date)),1)]),e("div",wt,[e("div",kt,[e("div",jt,[e("div",{class:"bg-gradient-to-r from-emerald-500 to-teal-500 h-2.5 rounded-full transition-all duration-500",style:k({width:`${d.value.overall_completion_percentage||0}%`})},null,4)]),e("div",{class:"absolute top-0 w-3 h-3 bg-emerald-600 rounded-full border-2 border-white shadow-lg -mt-0.5 transition-all duration-500",style:k({left:`${d.value.overall_completion_percentage||0}%`})},null,4)])]),e("div",Ct,[e("div",null,"Target: "+o(D(l.course.target_completion_date)),1),e("div",{class:_(["text-xs",P(l.course.target_completion_date)])},o(Z(l.course.target_completion_date)),3)])])]),e("div",Mt,[e("div",St,[e("div",$t,[e("div",Dt,[e("div",Tt,[e("div",null,[t[11]||(t[11]=e("h2",{class:"text-lg font-bold text-gray-900"},"Course Content",-1)),e("p",Et,o(d.value.total_modules||0)+" modules • "+o(d.value.total_topics||0)+" topics ",1)]),e("div",Bt,[e("div",Lt,o(d.value.completed_topics||0)+"/"+o(d.value.total_topics||0)+" completed ",1),e("div",Rt,o(Math.round(d.value.topic_completion_percentage||0))+"% complete ",1)])])]),e("div",Vt,[e("div",Nt,[t[12]||(t[12]=e("h3",{class:"text-sm font-semibold text-emerald-900 mb-2"},"Course Description",-1)),e("p",zt,o(l.course.description||"No description available"),1)]),l.course.learning_objectives?.length?(a(),i("div",At,[t[13]||(t[13]=e("h3",{class:"text-sm font-semibold text-gray-700 mb-3"},"Learning Objectives",-1)),e("div",Ot,[(a(!0),i(j,null,C(l.course.learning_objectives,(r,n)=>(a(),i("div",{key:n,class:"flex items-start p-3 bg-gray-50 rounded-lg border border-gray-200"},[m(c(M),{class:"h-4 w-4 text-emerald-500 mr-2 mt-0.5 flex-shrink-0"}),e("span",Ut,o(r),1)]))),128))])])):f("",!0),e("div",null,[t[16]||(t[16]=e("h3",{class:"text-sm font-semibold text-gray-700 mb-4"},"Course Structure",-1)),e("div",Ft,[(a(!0),i(j,null,C(l.course.modules,r=>(a(),i("div",{key:r.id,class:"border border-gray-200 rounded-xl overflow-hidden hover:border-emerald-300 transition-colors"},[e("div",{class:"p-4 bg-gradient-to-r from-gray-50 to-white border-b border-gray-200 cursor-pointer",onClick:n=>K(r.id)},[e("div",qt,[e("div",Qt,[e("div",Ht,[e("div",Yt,o(r.order),1),r.is_completed?(a(),i("div",Gt,[m(c(M),{class:"h-3 w-3 text-white"})])):f("",!0)]),e("div",It,[e("div",Jt,[e("h4",Wt,o(r.title),1),r.is_completed?(a(),i("span",Xt," Completed ")):f("",!0)]),e("div",Zt,[e("span",null,o(r.topics?.length||0)+" topics",1),e("span",null,o(r.estimated_duration_minutes||0)+"min",1),e("span",null,o(z(r))+"% complete",1)])])]),e("div",Pt,[e("div",es,[e("div",ts,o(z(r))+"% ",1),t[14]||(t[14]=e("div",{class:"text-xs text-gray-500"},"Complete",-1))]),e("button",ss,[m(c(ge),{class:_(["h-4 w-4 text-gray-500 transition-transform duration-200",{"rotate-180":S.value[r.id]}])},null,8,["class"])])])]),e("div",os,[e("div",rs,[e("div",{class:"bg-gradient-to-r from-emerald-500 to-teal-600 h-2.5 rounded-full transition-all duration-300",style:k({width:`${z(r)}%`})},null,4)])])],8,Kt),S.value[r.id]&&r.topics?.length?(a(),i("div",ls,[(a(!0),i(j,null,C(r.topics,n=>(a(),i("div",{key:n.id,class:"p-4 border-b border-gray-100 last:border-b-0 hover:bg-emerald-50 transition-colors group"},[e("div",as,[e("div",is,[e("div",{class:_(["w-8 h-8 rounded-full flex items-center justify-center text-xs font-semibold mr-3 flex-shrink-0 border-2 transition-colors",n.is_completed?"bg-emerald-500 border-emerald-500 text-white":"bg-white border-gray-300 text-gray-400 group-hover:border-emerald-300"])},[n.is_completed?(a(),y(c(M),{key:0,class:"h-3 w-3"})):(a(),i("span",ns,o(n.order),1))],2),e("div",ds,[e("div",cs,[e("h5",us,o(n.title),1),n.has_quiz?(a(),i("span",ms," Quiz ")):f("",!0)]),e("p",fs,[g(o(n.estimated_duration_minutes||0)+"min ",1),n.description?(a(),i("span",xs,"• "+o(n.description),1)):f("",!0)])])]),e("div",hs,[n.is_completed?(a(),y(c(M),{key:0,class:"h-5 w-5 text-emerald-600 flex-shrink-0"})):(a(),y(c(T),{key:1,href:s.route("student.courses.learn",{course:l.course.id,topic:n.id}),class:"inline-flex items-center px-3 py-1.5 text-xs font-semibold text-white bg-emerald-600 hover:bg-emerald-700 rounded-lg transition-colors shadow-sm hover:shadow-md"},{default:w(()=>[...t[15]||(t[15]=[g(" Start ",-1)])]),_:1},8,["href"]))])])]))),128))])):f("",!0)]))),128))])])])])]),e("div",gs,[e("div",vs,[t[21]||(t[21]=e("div",{class:"px-6 py-4 border-b border-gray-200 bg-gray-50 rounded-t-xl"},[e("h2",{class:"text-lg font-bold text-gray-900"},"Quick Actions")],-1)),e("div",bs,[l.course.status==="active"&&l.next_topic?(a(),y(c(T),{key:0,href:s.route("student.courses.learn",{course:l.course.id,topic:l.next_topic.id}),class:"w-full flex items-center justify-center px-4 py-3 bg-gradient-to-r from-emerald-600 to-teal-600 hover:from-emerald-700 hover:to-teal-700 text-white font-semibold rounded-lg transition-all duration-200 shadow-sm hover:shadow-md focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:ring-offset-2"},{default:w(()=>[m(c(O),{class:"h-4 w-4 mr-2"}),t[17]||(t[17]=g(" Continue Learning ",-1))]),_:1},8,["href"])):l.course.status==="active"?(a(),y(c(T),{key:1,href:s.route("student.courses.learn",l.course.id),class:"w-full flex items-center justify-center px-4 py-3 bg-gradient-to-r from-emerald-600 to-teal-600 hover:from-emerald-700 hover:to-teal-700 text-white font-semibold rounded-lg transition-all duration-200 shadow-sm hover:shadow-md focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:ring-offset-2"},{default:w(()=>[m(c(I),{class:"h-4 w-4 mr-2"}),t[18]||(t[18]=g(" Review Course ",-1))]),_:1},8,["href"])):f("",!0),l.course.status==="draft"?(a(),y(c(T),{key:2,href:s.route("student.courses.start",l.course.id),method:"post",as:"button",class:"w-full flex items-center justify-center px-4 py-3 bg-gradient-to-r from-emerald-600 to-teal-600 hover:from-emerald-700 hover:to-teal-700 text-white font-semibold rounded-lg transition-all duration-200 shadow-sm hover:shadow-md focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:ring-offset-2"},{default:w(()=>[...t[19]||(t[19]=[g(" Start ",-1)])]),_:1},8,["href"])):f("",!0),e("button",{onClick:le,class:"w-full flex items-center justify-center px-4 py-2.5 border border-emerald-300 text-sm font-semibold rounded-lg text-emerald-700 bg-white hover:bg-emerald-50 transition-colors disabled:opacity-50"}," Share "),e("div",ys,[l.course.capstone_project?(a(),y(c(T),{key:0,href:s.route("student.capstone-projects.show",l.course.capstone_project.id),class:"flex items-center justify-center px-3 py-2.5 border border-emerald-300 text-sm font-semibold rounded-lg text-emerald-700 bg-white hover:bg-emerald-50 transition-colors"},{default:w(()=>[m(c(ve),{class:"h-4 w-4 mr-2"}),t[20]||(t[20]=g(" Capstone ",-1))]),_:1},8,["href"])):f("",!0)]),e("div",_s,[l.course.status==="active"?(a(),i("button",{key:0,onClick:oe,disabled:E.value,class:"w-full flex items-center justify-center px-4 py-2.5 border border-emerald-300 text-sm font-semibold rounded-lg text-emerald-700 bg-white hover:bg-emerald-50 transition-colors disabled:opacity-50"},[m(c(be),{class:"h-4 w-4 mr-2"}),g(" "+o(E.value?"Pausing...":"Pause Course"),1)],8,ps)):f("",!0),l.course.status==="paused"?(a(),i("button",{key:1,onClick:re,disabled:B.value,class:"w-full flex items-center justify-center px-4 py-2.5 border border-transparent text-sm font-semibold rounded-lg text-white bg-emerald-600 hover:bg-emerald-700 transition-colors disabled:opacity-50"},[m(c(O),{class:"h-4 w-4 mr-2"}),g(" "+o(B.value?"Resuming...":"Resume Course"),1)],8,ws)):f("",!0)])])]),d.value.progress_by_module?.length?(a(),i("div",ks,[t[22]||(t[22]=e("div",{class:"px-6 py-4 border-b border-gray-200 bg-gray-50 rounded-t-xl"},[e("h2",{class:"text-lg font-bold text-gray-900"},"Module Progress")],-1)),e("div",js,[(a(!0),i(j,null,C(d.value.progress_by_module,r=>(a(),i("div",{key:r.module_id,class:"space-y-2 p-3 rounded-lg hover:bg-emerald-50 transition-colors cursor-pointer",onClick:n=>K(r.module_id)},[e("div",Ms,[e("span",Ss,o(r.module_title),1),e("span",{class:_(["text-sm font-bold",te(r.completion_percentage)])},o(Math.round(r.completion_percentage))+"% ",3)]),e("div",$s,[e("div",{class:_(["h-2.5 rounded-full transition-all duration-300",se(r.completion_percentage)]),style:k({width:`${r.completion_percentage}%`})},null,6)]),e("div",Ds,[e("span",null,o(r.completed_topics)+"/"+o(r.total_topics)+" topics",1),e("span",null,o(N(r.time_spent_minutes)),1)])],8,Cs))),128))])])):f("",!0),e("div",Ts,[t[26]||(t[26]=e("div",{class:"px-6 py-4 border-b border-gray-200 bg-gray-50 rounded-t-xl"},[e("h2",{class:"text-lg font-bold text-gray-900"},"Timeline")],-1)),e("div",Es,[e("div",Bs,[e("div",Ls,[t[23]||(t[23]=e("div",{class:"font-medium text-gray-900"},"Start Date",-1)),e("div",Rs,o(D(l.course.start_date)),1)]),e("div",Vs,[m(c(O),{class:"h-4 w-4 text-emerald-600"})])]),e("div",Ns,[e("div",zs,[t[24]||(t[24]=e("div",{class:"font-medium text-gray-900"},"Target Completion",-1)),e("div",As,o(D(l.course.target_completion_date)),1)]),e("div",Os,[m(c(J),{class:"h-4 w-4 text-amber-600"})])]),l.course.actual_completion_date?(a(),i("div",Us,[e("div",Fs,[t[25]||(t[25]=e("div",{class:"font-medium text-gray-900"},"Completed On",-1)),e("div",Ks,o(D(l.course.actual_completion_date)),1)]),e("div",qs,[m(c(M),{class:"h-4 w-4 text-emerald-600"})])])):f("",!0)])])])])])]),L.value?(a(),i("div",Qs,[e("div",Hs,[e("div",{class:"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75",onClick:R}),e("div",{class:"inline-block align-bottom bg-white rounded-2xl text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",onKeydown:H(R,["esc"]),tabindex:"0"},[e("div",Ys,[e("div",{class:"flex justify-between items-center mb-4"},[t[28]||(t[28]=e("h3",{class:"text-lg font-semibold text-gray-900"},"Share Course with Friends",-1)),e("button",{onClick:R,class:"text-gray-400 hover:text-gray-500 focus:outline-none"},[...t[27]||(t[27]=[e("svg",{class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),e("div",Gs,[e("p",Is,' Share "'+o(l.course.title)+`" with up to 5 friends via email. They'll receive an invitation to join this course. `,1),e("div",Js,[Y(e("textarea",{"onUpdate:modelValue":t[0]||(t[0]=r=>$.value=r),rows:"3",placeholder:"Add a personal message (optional)",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-emerald-500 focus:border-emerald-500"},null,512),[[G,$.value]])])]),e("div",Ws,[(a(!0),i(j,null,C(x.value,(r,n)=>(a(),i("div",{key:n,class:"flex gap-2"},[Y(e("input",{"onUpdate:modelValue":u=>x.value[n]=u,type:"email",placeholder:"friend@example.com",class:_(["flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-emerald-500 focus:border-emerald-500",{"border-red-300":b.value[n]}]),onKeydown:H(ue(q,["prevent"]),["enter"])},null,42,Xs),[[G,x.value[n]]]),x.value.length>1?(a(),i("button",{key:0,onClick:u=>ie(n),class:"px-3 py-2 text-red-600 hover:text-red-800 focus:outline-none",type:"button"},[...t[29]||(t[29]=[e("svg",{class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])],8,Zs)):f("",!0)]))),128)),(a(!0),i(j,null,C(b.value,(r,n)=>(a(),i("div",{key:"error-"+n,class:"text-red-600 text-sm"},o(r),1))),128))]),x.value.length<5?(a(),i("button",{key:0,onClick:ae,type:"button",class:"mt-3 inline-flex items-center text-sm text-emerald-600 hover:text-emerald-800 focus:outline-none"},[...t[30]||(t[30]=[e("svg",{class:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),g(" Add another email ",-1)])])):f("",!0)]),e("div",Ps,[e("button",{onClick:R,type:"button",class:"px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500"}," Cancel "),e("button",{onClick:q,disabled:p.value||!U.value,class:_(["px-4 py-2 border border-transparent rounded-lg text-sm font-medium text-white focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500",p.value||!U.value?"bg-emerald-400 cursor-not-allowed":"bg-emerald-600 hover:bg-emerald-700"])},[p.value?(a(),i("span",to,"Sharing...")):(a(),i("span",so,"Share Course"))],10,eo)])],32)])])):f("",!0)]),_:1}))}},wo=fe(oo,[["__scopeId","data-v-fc10a423"]]);export{wo as default};
