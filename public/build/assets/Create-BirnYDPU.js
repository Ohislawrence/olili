import{V as $,g as x,d as y,m as F,c as H,w as S,b as B,a as e,i as V,q as W,A as P,e as m,f as a,h as c,x as g,o as l,t as d,F as w,k as _,s as L,n as M,j,y as G,z as Q}from"./app-Dts38djv.js";import{S as R}from"./StudentLayout-sHzCMBhN.js";import{_ as Y}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./XMarkIcon-pKLD2lFc.js";import"./UserIcon-CYL-NxJr.js";import"./PlusIcon-D0MJHMrq.js";import"./BellIcon-DmJG2Hxw.js";import"./CreditCardIcon-BPvE4wBN.js";const J={class:"py-6"},K={class:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8"},X={class:"bg-white shadow-sm rounded-xl border border-gray-100"},Z={class:"p-6 space-y-6"},ee={key:0,class:"mt-1 text-sm text-red-600"},te=["value"],se={class:"mt-1 relative"},oe={class:"relative"},re=["placeholder","disabled"],le={class:"absolute inset-y-0 right-0 flex items-center pr-3"},ae={key:0,class:"absolute z-10 mt-1 w-full bg-white shadow-lg max-h-60 rounded-lg py-1 text-base ring-1 ring-black ring-opacity-5 overflow-auto focus:outline-none sm:text-sm scrollbar-custom"},ne=["onClick"],ie={class:"block truncate font-medium"},de={key:0,class:"absolute inset-y-0 right-0 flex items-center pr-4 text-emerald-600"},ue={class:"block truncate font-medium text-emerald-600"},me={key:1,class:"absolute z-10 mt-1 w-full bg-white shadow-lg rounded-lg py-3 px-3 text-sm text-gray-500 border border-gray-200"},ce={key:0,class:"mt-1 text-sm text-red-600"},be={key:1,class:"mt-1 text-sm text-gray-500"},pe=["value"],ge={class:"mt-1 text-sm text-gray-500"},ve=["min"],fe={key:0,class:"mt-1 text-sm text-red-600"},xe=["onUpdate:modelValue"],ye=["onClick"],we={class:"px-6 py-4 bg-gray-50 rounded-b-xl flex justify-between items-center"},_e=["disabled"],ke={key:0},he={key:1},je={__name:"Create",props:{student_profile:Object,exam_boards:Array,subjects:Array,student_levels:Object},setup(v){const b=v,s=$({title:"",subject:"",description:"",exam_board_id:"",target_level:b.student_profile?.target_level||"intermediate",weekly_study_hours:b.student_profile?.weekly_study_hours||10,target_completion_date:"",learning_objectives:[""],errors:{},processing:!1}),i=x(""),n=x(!1),f=x(""),p=x([...b.subjects]),O=y(()=>{const r=new Date;return r.setDate(r.getDate()+1),r.toISOString().split("T")[0]}),k=y(()=>{if(!s.exam_board_id)return"";const r=b.exam_boards.find(t=>t.id==s.exam_board_id);return r?r.name:""}),z=y(()=>s.exam_board_id?`Select a subject for ${k.value}`:"Search or select a subject"),h=y(()=>{if(!f.value)return p.value;const r=f.value.toLowerCase();return p.value.filter(t=>t.toLowerCase().includes(r))}),D=()=>{if(s.subject="",i.value="",n.value=!1,s.exam_board_id){const r=b.exam_boards.find(t=>t.id==s.exam_board_id);p.value=r?.subjects||[]}else p.value=[...b.subjects]},U=r=>{f.value=r.target.value,n.value=!0},q=r=>{s.subject=r,i.value=r,n.value=!1,f.value=""},A=()=>{s.exam_board_id||(s.subject=i.value,n.value=!1)},E=()=>{setTimeout(()=>{n.value=!1},200)};F(()=>{document.addEventListener("click",r=>{const t=document.getElementById("subject");t&&!t.contains(r.target)&&(n.value=!1)})});const I=()=>{s.learning_objectives.push("")},T=r=>{s.learning_objectives.splice(r,1)},N=()=>{s.processing=!0,s.errors={},Q.post(route("student.courses.store"),{title:s.title,subject:s.subject,description:s.description,exam_board_id:s.exam_board_id,target_level:s.target_level,weekly_study_hours:s.weekly_study_hours,target_completion_date:s.target_completion_date,learning_objectives:s.learning_objectives.filter(r=>r.trim()!=="")},{onFinish:()=>{s.processing=!1},onError:r=>{s.errors=r}})};return(r,t)=>(l(),H(R,null,{default:S(()=>[B(V(W),{title:"Create Course"}),e("div",J,[e("div",K,[t[27]||(t[27]=e("div",{class:"mb-8"},[e("h1",{class:"text-2xl font-bold text-gray-900"},"Create New Course"),e("p",{class:"mt-1 text-sm text-gray-600"}," Create a personalized learning path with AI assistance ")],-1)),e("div",X,[e("form",{onSubmit:P(N,["prevent"])},[e("div",Z,[e("div",null,[t[9]||(t[9]=e("label",{for:"title",class:"block text-sm font-medium text-gray-700 mb-1"}," Course Title * ",-1)),m(e("input",{id:"title","onUpdate:modelValue":t[0]||(t[0]=o=>s.title=o),type:"text",required:"",class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500 py-2.5 px-3",placeholder:"e.g., Advanced Calculus for Engineering"},null,512),[[g,s.title]]),s.errors.title?(l(),a("p",ee,d(s.errors.title),1)):c("",!0)]),e("div",null,[t[11]||(t[11]=e("label",{for:"exam_board_id",class:"block text-sm font-medium text-gray-700 mb-1"}," Exam Board (Optional) ",-1)),m(e("select",{id:"exam_board_id","onUpdate:modelValue":t[1]||(t[1]=o=>s.exam_board_id=o),onChange:D,class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500 py-2.5 px-3"},[t[10]||(t[10]=e("option",{value:""},"No specific exam board",-1)),(l(!0),a(w,null,_(v.exam_boards,o=>(l(),a("option",{key:o.id,value:o.id},d(o.name),9,te))),128))],544),[[L,s.exam_board_id]]),t[12]||(t[12]=e("p",{class:"mt-1 text-sm text-gray-500"}," Selecting an exam board will show relevant subjects for that board ",-1))]),e("div",null,[t[15]||(t[15]=e("label",{for:"subject",class:"block text-sm font-medium text-gray-700 mb-1"}," Subject * ",-1)),e("div",se,[e("div",oe,[m(e("input",{id:"subject","onUpdate:modelValue":t[2]||(t[2]=o=>i.value=o),type:"text",required:"",class:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500 pr-10 py-2.5 px-3",placeholder:z.value,onFocus:t[3]||(t[3]=o=>n.value=!0),onInput:U,onBlur:E,disabled:p.value.length===0},null,40,re),[[g,i.value]]),e("div",le,[(l(),a("svg",{xmlns:"http://www.w3.org/2000/svg",class:M(["h-5 w-5 text-gray-400 cursor-pointer",{"transform rotate-180":n.value}]),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",onClick:t[4]||(t[4]=o=>n.value=!n.value)},[...t[13]||(t[13]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)])],2))])]),n.value&&h.value.length>0?(l(),a("div",ae,[(l(!0),a(w,null,_(h.value,o=>(l(),a("div",{key:o,class:M(["cursor-pointer select-none relative py-2 pl-3 pr-9 hover:bg-emerald-50",{"bg-emerald-50 text-emerald-700":i.value===o}]),onClick:u=>q(o)},[e("span",ie,d(o),1),i.value===o?(l(),a("span",de,[...t[14]||(t[14]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1)])])):c("",!0)],10,ne))),128)),!s.exam_board_id&&i.value&&!h.value.includes(i.value)?(l(),a("div",{key:0,class:"cursor-pointer select-none relative py-2 pl-3 pr-9 hover:bg-emerald-50 border-t border-gray-100",onClick:A},[e("span",ue,' Use "'+d(i.value)+'" as custom subject ',1)])):c("",!0)])):c("",!0),n.value&&p.value.length===0?(l(),a("div",me," Please select an exam board first to see available subjects ")):c("",!0)]),s.errors.subject?(l(),a("p",ce,d(s.errors.subject),1)):c("",!0),k.value?(l(),a("p",be," Subjects for: "+d(k.value),1)):c("",!0)]),e("div",null,[t[17]||(t[17]=e("label",{for:"target_level",class:"block text-sm font-medium text-gray-700 mb-1"}," Target Level * ",-1)),m(e("select",{id:"target_level","onUpdate:modelValue":t[5]||(t[5]=o=>s.target_level=o),required:"",class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500 py-2.5 px-3"},[t[16]||(t[16]=e("option",{value:""},"Select target level",-1)),(l(!0),a(w,null,_(v.student_levels,(o,u)=>(l(),a("option",{key:u,value:u},d(o),9,pe))),128))],512),[[L,s.target_level]]),e("p",ge," Current level: "+d(v.student_profile?.current_level),1)]),e("div",null,[t[18]||(t[18]=e("label",{for:"weekly_study_hours",class:"block text-sm font-medium text-gray-700 mb-1"}," Weekly Study Hours * ",-1)),m(e("input",{id:"weekly_study_hours","onUpdate:modelValue":t[6]||(t[6]=o=>s.weekly_study_hours=o),type:"number",min:"1",max:"40",required:"",class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500 py-2.5 px-3",placeholder:"e.g., 10"},null,512),[[g,s.weekly_study_hours]]),t[19]||(t[19]=e("p",{class:"mt-1 text-sm text-gray-500"}," How many hours per week can you dedicate to this course? ",-1))]),e("div",null,[t[20]||(t[20]=e("label",{for:"target_completion_date",class:"block text-sm font-medium text-gray-700 mb-1"}," Target Completion Date * ",-1)),m(e("input",{id:"target_completion_date","onUpdate:modelValue":t[7]||(t[7]=o=>s.target_completion_date=o),type:"date",required:"",min:O.value,class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500 py-2.5 px-3"},null,8,ve),[[g,s.target_completion_date]]),t[21]||(t[21]=e("p",{class:"mt-1 text-sm text-gray-500"}," When do you aim to complete this course? ",-1))]),e("div",null,[t[22]||(t[22]=e("label",{for:"description",class:"block text-sm font-medium text-gray-700 mb-1"}," Description ",-1)),m(e("textarea",{id:"description","onUpdate:modelValue":t[8]||(t[8]=o=>s.description=o),rows:"4",class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500 py-2.5 px-3",placeholder:"Describe what you want to learn and your goals..."},null,512),[[g,s.description]]),s.errors.description?(l(),a("p",fe,d(s.errors.description),1)):c("",!0)]),e("div",null,[t[24]||(t[24]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Learning Objectives (Optional) ",-1)),(l(!0),a(w,null,_(s.learning_objectives,(o,u)=>(l(),a("div",{key:u,class:"flex gap-2 mb-2"},[m(e("input",{"onUpdate:modelValue":C=>s.learning_objectives[u]=C,type:"text",class:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500 py-2.5 px-3",placeholder:"What do you want to achieve?"},null,8,xe),[[g,s.learning_objectives[u]]]),e("button",{type:"button",onClick:C=>T(u),class:"flex-shrink-0 px-3 py-2.5 text-sm text-red-600 hover:text-red-800 border border-red-200 rounded-lg hover:bg-red-50 transition-colors"}," Remove ",8,ye)]))),128)),e("button",{type:"button",onClick:I,class:"inline-flex items-center px-4 py-2.5 border border-emerald-300 shadow-sm text-sm font-medium rounded-lg text-emerald-700 bg-white hover:bg-emerald-50 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:ring-offset-2 transition-all duration-200"},[...t[23]||(t[23]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),j(" Add Objective ",-1)])])])]),e("div",we,[B(V(G),{href:r.route("student.courses.index"),class:"inline-flex items-center px-4 py-2.5 border border-emerald-300 shadow-sm text-sm font-medium rounded-lg text-emerald-700 bg-white hover:bg-emerald-50 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:ring-offset-2 transition-all duration-200"},{default:S(()=>[...t[25]||(t[25]=[j(" Cancel ",-1)])]),_:1},8,["href"]),e("button",{type:"submit",disabled:s.processing||!s.subject,class:"inline-flex items-center px-4 py-2.5 bg-gradient-to-r from-emerald-600 to-teal-600 border border-transparent rounded-lg font-semibold text-white shadow-md hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:ring-offset-2 transition-all duration-200 disabled:opacity-50"},[s.processing?(l(),a("span",ke,[...t[26]||(t[26]=[e("svg",{class:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),j(" Creating... ",-1)])])):(l(),a("span",he,"Create Course"))],8,_e)])],32)]),t[28]||(t[28]=e("div",{class:"mt-6 bg-emerald-50 border border-emerald-200 rounded-xl p-4"},[e("div",{class:"flex"},[e("div",{class:"flex-shrink-0"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-emerald-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"})])]),e("div",{class:"ml-3"},[e("h3",{class:"text-sm font-semibold text-emerald-800"}," Olilearn Course Generation "),e("div",{class:"mt-2 text-sm text-emerald-700"},[e("p",null," Olilearn AI will create a personalized learning path based on: "),e("ul",{class:"list-disc list-inside mt-1 space-y-1"},[e("li",null,"Your current and target levels"),e("li",null,"Weekly study hours and completion timeline"),e("li",null,"Learning objectives and preferences"),e("li",null,"Subject-specific requirements")]),e("p",{class:"mt-2 font-semibold"}," This may take a few moments as we generate your personalized course outline. ")])])])],-1))])])]),_:1}))}},De=Y(je,[["__scopeId","data-v-75d352c4"]]);export{De as default};
