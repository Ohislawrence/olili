import{r as _,u as V,m as B,c as O,w as x,b as v,a as t,h as r,p as U,x as w,i as c,z as j,e as i,f as a,g as p,n as h,o as l,F as k,j as C,t as u,q as f,s as F,v as q}from"./app-9iTwA3vC.js";import{S as D}from"./StudentLayout-CG3ayj3X.js";import"./DropdownLink-BJxGAADP.js";import"./NavLink-CVNpfdyq.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./XMarkIcon-DR50bQrw.js";import"./CheckCircleIcon-gOQAQdUW.js";import"./SparklesIcon-Vg7orskU.js";import"./transition-BH8B5sua.js";import"./UserCircleIcon-yAE3agds.js";import"./BellIcon-CKLl074K.js";import"./CreditCardIcon-BSp36FxJ.js";const L={class:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 py-8"},M={class:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8"},N={class:"mb-8"},T={class:"flex items-center justify-between"},A={class:"bg-white rounded-xl shadow-sm border border-gray-200 p-6"},G={class:"mb-6"},z=["value"],E={key:0,class:"text-red-500 text-xs mt-1"},I={class:"mb-6"},H=["disabled"],J=["value"],K={key:0,class:"text-xs text-emerald-600 mt-2 flex items-center"},P={class:"mb-6"},Q={key:0,class:"text-red-500 text-xs mt-1"},R={class:"mb-6"},W={class:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6"},X={class:"mb-8"},Y={class:"flex items-center"},Z={class:"flex items-center justify-between"},$=["disabled"],ee={key:0,class:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"},pe={__name:"Create",props:{courses:Array,selected_course:Object,selected_outline:Object,available_outlines:Array},setup(y){const b=y,m=_(!1),n=_([...b.available_outlines]),s=V({course_id:b.selected_course?.id||"",course_outline_id:b.selected_outline?.id||"",title:"",description:"",number_of_cards:10,difficulty_level:"medium",include_explanations:!1}),g=async()=>{if(!s.course_id){n.value=[];return}m.value=!0;try{const d=await axios.get(route("student.courses.outlines",s.course_id));n.value=d.data.outlines}catch(d){console.error("Failed to load outlines:",d),n.value=[]}finally{m.value=!1}},S=()=>{s.post(route("student.flashcards.store"))};return s.course_id&&g(),B(()=>s.course_id,d=>{d?g():(n.value=[],s.course_outline_id="")}),(d,e)=>(l(),O(D,null,{default:x(()=>[v(r(U),{title:"Create Flashcard Set"}),t("div",L,[t("div",M,[t("div",N,[t("div",T,[e[8]||(e[8]=t("div",null,[t("h1",{class:"text-3xl font-bold text-gray-900"},"Create Flashcard Set"),t("p",{class:"text-gray-600 mt-2"},"Generate flashcards from your course topics using AI")],-1)),v(r(w),{href:d.route("student.flashcards.index"),class:"text-gray-600 hover:text-gray-900 transition-colors"},{default:x(()=>[...e[7]||(e[7]=[c(" â† Back to Flashcards ",-1)])]),_:1},8,["href"])])]),t("div",A,[t("form",{onSubmit:j(S,["prevent"])},[t("div",G,[e[10]||(e[10]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Select Course * ",-1)),i(t("select",{"onUpdate:modelValue":e[0]||(e[0]=o=>r(s).course_id=o),onChange:g,class:h(["w-full px-3 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",{"border-red-300":r(s).errors.course_id}]),required:""},[e[9]||(e[9]=t("option",{value:""},"Choose a course",-1)),(l(!0),a(k,null,C(y.courses,o=>(l(),a("option",{key:o.id,value:o.id},u(o.title),9,z))),128))],34),[[f,r(s).course_id]]),r(s).errors.course_id?(l(),a("p",E,u(r(s).errors.course_id),1)):p("",!0)]),t("div",I,[e[13]||(e[13]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Select Topic (Optional) ",-1)),i(t("select",{"onUpdate:modelValue":e[1]||(e[1]=o=>r(s).course_outline_id=o),class:"w-full px-3 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",disabled:!r(s).course_id||m.value},[e[11]||(e[11]=t("option",{value:""},"General Course Flashcards",-1)),(l(!0),a(k,null,C(n.value,o=>(l(),a("option",{key:o.id,value:o.id},u(o.full_title),9,J))),128))],8,H),[[f,r(s).course_outline_id]]),m.value?(l(),a("div",K,[...e[12]||(e[12]=[t("div",{class:"animate-spin rounded-full h-3 w-3 border-b-2 border-emerald-600 mr-2"},null,-1),c(" Loading topics... ",-1)])])):p("",!0),e[14]||(e[14]=t("p",{class:"text-xs text-gray-500 mt-2"}," Selecting a specific topic will generate more focused flashcards ",-1))]),t("div",P,[e[15]||(e[15]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Flashcard Set Title * ",-1)),i(t("input",{"onUpdate:modelValue":e[2]||(e[2]=o=>r(s).title=o),type:"text",class:h(["w-full px-3 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",{"border-red-300":r(s).errors.title}]),placeholder:"e.g., Biology Basics Flashcards",required:""},null,2),[[F,r(s).title]]),r(s).errors.title?(l(),a("p",Q,u(r(s).errors.title),1)):p("",!0)]),t("div",R,[e[16]||(e[16]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Description (Optional) ",-1)),i(t("textarea",{"onUpdate:modelValue":e[3]||(e[3]=o=>r(s).description=o),rows:"3",class:"w-full px-3 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",placeholder:"Describe what this flashcard set covers..."},null,512),[[F,r(s).description]])]),t("div",W,[t("div",null,[e[18]||(e[18]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Number of Cards * ",-1)),i(t("select",{"onUpdate:modelValue":e[4]||(e[4]=o=>r(s).number_of_cards=o),class:"w-full px-3 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",required:""},[...e[17]||(e[17]=[t("option",{value:"5"},"5 Cards",-1),t("option",{value:"10"},"10 Cards",-1),t("option",{value:"15"},"15 Cards",-1),t("option",{value:"20"},"20 Cards",-1),t("option",{value:"25"},"25 Cards",-1)])],512),[[f,r(s).number_of_cards]])]),t("div",null,[e[20]||(e[20]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Difficulty Level * ",-1)),i(t("select",{"onUpdate:modelValue":e[5]||(e[5]=o=>r(s).difficulty_level=o),class:"w-full px-3 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",required:""},[...e[19]||(e[19]=[t("option",{value:"easy"},"Easy",-1),t("option",{value:"medium"},"Medium",-1),t("option",{value:"hard"},"Hard",-1)])],512),[[f,r(s).difficulty_level]])])]),t("div",X,[t("label",Y,[i(t("input",{"onUpdate:modelValue":e[6]||(e[6]=o=>r(s).include_explanations=o),type:"checkbox",class:"rounded border-gray-300 text-emerald-600 focus:ring-emerald-500"},null,512),[[q,r(s).include_explanations]]),e[21]||(e[21]=t("span",{class:"ml-2 text-sm text-gray-700"}," Include detailed explanations ",-1))])]),t("div",Z,[v(r(w),{href:d.route("student.flashcards.index"),class:"px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors"},{default:x(()=>[...e[22]||(e[22]=[c(" Cancel ",-1)])]),_:1},8,["href"]),t("button",{type:"submit",disabled:r(s).processing,class:"px-6 py-2 bg-gradient-to-r from-emerald-600 to-teal-600 text-white font-semibold rounded-lg hover:from-emerald-700 hover:to-teal-700 disabled:opacity-50 transition-all duration-200 flex items-center"},[r(s).processing?(l(),a("div",ee)):p("",!0),c(" "+u(r(s).processing?"Generating Flashcards...":"Create Flashcard Set"),1)],8,$)])],32)])])])]),_:1}))}};export{pe as default};
